import{X as n}from"./xe-utils-90392958.js";import{D as xi}from"./dom-zindex-d72a3c32.js";import"./vue-20eed888.js";import{w as ut,Z as qt,ah as r,ai as fo,d as kt,G as bt,k as we,n as ee,au as ac,S as Et,r as We,a6 as Un,I as Gt,f as go,Y as io,E as Ci,a0 as cc,g as Jr,a3 as Qr,a7 as dc}from"./@vue-e95c845e.js";const ct="vxe-icon-",f={size:null,zIndex:999,version:0,emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{refreshDelay:250},radioConfig:{strict:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single"},columnConfig:{maxFixedSize:4},customConfig:{allowFixed:!0,showFooter:!0},sortConfig:{showIcon:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0},importConfig:{_typeMaps:{},modes:["insert","covering"]},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1},modes:["current","selected"]},printConfig:{modes:["current","selected"]},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{gt:60},scrollY:{gt:100}},export:{types:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,message:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{},icon:{LOADING:ct+"spinner roll vxe-loading--default-icon",TABLE_SORT_ASC:ct+"caret-up",TABLE_SORT_DESC:ct+"caret-down",TABLE_FILTER_NONE:ct+"funnel",TABLE_FILTER_MATCH:ct+"funnel",TABLE_EDIT:ct+"edit",TABLE_TITLE_PREFIX:ct+"question-circle-fill",TABLE_TITLE_SUFFIX:ct+"question-circle-fill",TABLE_TREE_LOADED:ct+"spinner roll",TABLE_TREE_OPEN:ct+"caret-right rotate90",TABLE_TREE_CLOSE:ct+"caret-right",TABLE_EXPAND_LOADED:ct+"spinner roll",TABLE_EXPAND_OPEN:ct+"arrow-right rotate90",TABLE_EXPAND_CLOSE:ct+"arrow-right",TABLE_CHECKBOX_CHECKED:ct+"checkbox-checked",TABLE_CHECKBOX_UNCHECKED:ct+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:ct+"checkbox-indeterminate",TABLE_RADIO_CHECKED:ct+"radio-checked",TABLE_RADIO_UNCHECKED:ct+"radio-unchecked",BUTTON_DROPDOWN:ct+"arrow-down",BUTTON_LOADING:ct+"spinner roll",SELECT_LOADED:ct+"spinner roll",SELECT_OPEN:ct+"caret-down rotate180",SELECT_CLOSE:ct+"caret-down",PAGER_HOME:ct+"home-page",PAGER_END:ct+"end-page",PAGER_JUMP_PREV:ct+"arrow-double-left",PAGER_JUMP_NEXT:ct+"arrow-double-right",PAGER_PREV_PAGE:ct+"arrow-left",PAGER_NEXT_PAGE:ct+"arrow-right",PAGER_JUMP_MORE:ct+"ellipsis-h",INPUT_CLEAR:ct+"error-circle-fill",INPUT_PWD:ct+"eye-fill",INPUT_SHOW_PWD:ct+"eye-fill-close",INPUT_PREV_NUM:ct+"caret-up",INPUT_NEXT_NUM:ct+"caret-down",INPUT_DATE:ct+"calendar",INPUT_SEARCH:ct+"search",MODAL_ZOOM_IN:ct+"square",MODAL_ZOOM_OUT:ct+"maximize",MODAL_CLOSE:ct+"close",MODAL_INFO:ct+"info-circle-fill",MODAL_SUCCESS:ct+"success-circle-fill",MODAL_WARNING:ct+"warnion-circle-fill",MODAL_ERROR:ct+"error-circle-fill",MODAL_QUESTION:ct+"question-circle-fill",MODAL_LOADING:ct+"spinner roll",TOOLBAR_TOOLS_REFRESH:ct+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:ct+"repeat roll",TOOLBAR_TOOLS_IMPORT:ct+"upload",TOOLBAR_TOOLS_EXPORT:ct+"download",TOOLBAR_TOOLS_PRINT:ct+"print",TOOLBAR_TOOLS_FULLSCREEN:ct+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:ct+"minimize",TOOLBAR_TOOLS_CUSTOM:ct+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:ct+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:ct+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:ct+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:ct+"fixed-right-fill",FORM_PREFIX:ct+"question-circle-fill",FORM_SUFFIX:ct+"question-circle-fill",FORM_FOLDING:ct+"arrow-up rotate180",FORM_UNFOLDING:ct+"arrow-up"},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300},pager:{},form:{validConfig:{showMessage:!0,autoPos:!0},tooltipConfig:{enterable:!0},titleAsterisk:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},textarea:{},select:{multiCharOverflow:8},button:{},buttonGroup:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},checkbox:{},checkboxGroup:{},switch:{},modal:{top:15,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,draggable:!0,showConfirmButton:null,storageKey:"VXE_MODAL_POSITION"},drawer:{showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0},list:{scrollY:{enabled:!0,gt:100}},i18n:e=>e};function yi(e,t){return`[vxe-table v4.6.23] ${f.i18n(e,t)}`}function ea(e){return function(t,l){const c=yi(t,l);return console[e](c),c}}const st=ea("warn"),nt=ea("error"),Tl={},Nl={mixin(e){return n.each(e,(t,l)=>Nl.add(l,t)),Nl},get(e){return Tl[e]||[]},add(e,t){{const l=["created","mounted","activated","beforeUnmount","unmounted","event.clearEdit","event.clearActived","event.clearFilter","event.clearAreas","event.showMenu","event.keydown","event.export","event.import"];l.indexOf(e)===-1&&st("vxe.error.errProp",[`Interceptor.${e}`,l.join("|")])}if(t){let l=Tl[e];l||(l=Tl[e]=[]),l.indexOf(t)>-1&&st("vxe.error.coverProp",["Interceptor",e]),l.push(t)}return Nl},delete(e,t){const l=Tl[e];l&&(t?n.remove(l,c=>c===t):delete Tl[e])}};class uc{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(l,c)=>{this.add(c,l)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,l){const c=this.store[t];n.isFunction(l)&&(st("vxe.error.delProp",["formats -> callback","cellFormatMethod"]),l={cellFormatMethod:l});{const h=n.keys(c);n.each(l,(g,m)=>{h.includes(m)&&st("vxe.error.coverProp",[t,m])})}return this.store[t]=c?n.merge(c,l):l,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const os=new uc;Object.assign(os,{_name:"Formats"});function gt(e){return e&&e.enabled!==!1}function wi(e){return e==null||e===""}function Ei(e){const t=e.name,l=n.lastIndexOf(t,"."),c=t.substring(l+1,t.length).toLowerCase();return{filename:t.substring(0,l),type:c}}function Yo(){return xi.getNext()}function on(){return xi.getCurrent()}function al(e){return e&&e.children&&e.children.length>0}function Ht(e){return e?n.toValueString(f.translate?f.translate(""+e):e):""}function Xt(e,t){return""+(wi(e)?t?f.emptyCell:"":e)}function Go(e){return e===""||n.eqNull(e)}class pi{constructor(t,l,{renderHeader:c,renderCell:h,renderFooter:g,renderData:m}={}){const C=t.xegrid,i=l.formatter,p=n.isBoolean(l.visible)?l.visible:!0;{const d=["seq","checkbox","radio","expand","html"];if(l.type&&d.indexOf(l.type)===-1&&st("vxe.error.errProp",[`type=${l.type}`,d.join(", ")]),(n.isBoolean(l.cellRender)||l.cellRender&&!n.isObject(l.cellRender))&&st("vxe.error.errProp",[`column.cell-render=${l.cellRender}`,"column.cell-render={}"]),(n.isBoolean(l.editRender)||l.editRender&&!n.isObject(l.editRender))&&st("vxe.error.errProp",[`column.edit-render=${l.editRender}`,"column.edit-render={}"]),l.cellRender&&l.editRender&&st("vxe.error.errConflicts",["column.cell-render","column.edit-render"]),l.type==="expand"){const{props:x}=t,{treeConfig:B}=x,{computeTreeOpts:$}=t.getComputeMaps(),V=$.value;B&&(V.showLine||V.line)&&nt("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(i){if(n.isString(i)){const x=os.get(i)||n[i];(!x||!n.isFunction(x.tableCellFormatMethod||x.cellFormatMethod))&&nt("vxe.error.notFormats",[i])}else if(n.isArray(i)){const x=os.get(i[0])||n[i[0]];(!x||!n.isFunction(x.tableCellFormatMethod||x.cellFormatMethod))&&nt("vxe.error.notFormats",[i[0]])}}}if(Object.assign(this,{type:l.type,property:l.field,field:l.field,title:l.title,width:l.width,minWidth:l.minWidth,maxWidth:l.maxWidth,resizable:l.resizable,fixed:l.fixed,align:l.align,headerAlign:l.headerAlign,footerAlign:l.footerAlign,showOverflow:l.showOverflow,showHeaderOverflow:l.showHeaderOverflow,showFooterOverflow:l.showFooterOverflow,className:l.className,headerClassName:l.headerClassName,footerClassName:l.footerClassName,formatter:i,sortable:l.sortable,sortBy:l.sortBy,sortType:l.sortType,filters:sa(l.filters),filterMultiple:n.isBoolean(l.filterMultiple)?l.filterMultiple:!0,filterMethod:l.filterMethod,filterResetMethod:l.filterResetMethod,filterRecoverMethod:l.filterRecoverMethod,filterRender:l.filterRender,treeNode:l.treeNode,cellType:l.cellType,cellRender:l.cellRender,editRender:l.editRender,contentRender:l.contentRender,headerExportMethod:l.headerExportMethod,exportMethod:l.exportMethod,footerExportMethod:l.footerExportMethod,titleHelp:l.titleHelp,titlePrefix:l.titlePrefix,titleSuffix:l.titleSuffix,params:l.params,id:l.colId||n.uniqueId("col_"),parentId:null,visible:p,halfVisible:!1,defaultVisible:p,defaultFixed:l.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderWidth:0,renderHeight:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:c||l.renderHeader,renderCell:h||l.renderCell,renderFooter:g||l.renderFooter,renderData:m,slots:l.slots}),C){const{computeProxyOpts:d}=C.getComputeMaps(),x=d.value;x.beforeColumn&&x.beforeColumn({$grid:C,column:this})}}getTitle(){return Ht(this.title||(this.type==="seq"?f.i18n("vxe.table.seqTitle"):""))}getKey(){return this.field||(this.type?`type=${this.type}`:null)}update(t,l){t!=="filters"&&(t==="field"&&(this.property=l),this[t]=l)}}const Xs={},Fo=n.browse();function En(e,t){return e?n.isFunction(e)?e(t):e:""}function ta(e){return Xs[e]||(Xs[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),Xs[e]}function oa(e,t,l){if(e){const c=e.parentNode;if(l.top+=e.offsetTop,l.left+=e.offsetLeft,c&&c!==document.documentElement&&c!==document.body&&(l.top-=c.scrollTop,l.left-=c.scrollLeft),!(t&&(e===t||e.offsetParent===t))&&e.offsetParent)return oa(e.offsetParent,t,l)}return l}function mi(e){return e&&/^\d+(px)?$/.test(e)}function Pl(e){return e&&/^\d+%$/.test(e)}function mn(e,t){return e&&e.className&&e.className.match&&e.className.match(ta(t))}function Io(e,t){e&&mn(e,t)&&(e.className=e.className.replace(ta(t),""))}function un(e,t){e&&!mn(e,t)&&(Io(e,t),e.className=`${e.className} ${t}`)}function Sn(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function Rl(e){return e?e.offsetHeight:0}function hi(e){if(e){const t=getComputedStyle(e),l=n.toNumber(t.paddingTop),c=n.toNumber(t.paddingBottom);return l+c}return 0}function ps(e,t){e&&(e.scrollTop=t)}function gr(e,t){e&&(e.scrollLeft=t)}function Si(e,t){const l=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==l&&e.setAttribute("title",l)}function yt(e,t,l,c){let h,g=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;g&&g.nodeType&&g!==document;){if(l&&mn(g,l)&&(!c||c(g)))h=g;else if(g===t)return{flag:l?!!h:!0,container:t,targetElem:h};g=g.parentNode}return{flag:!1}}function fc(e,t){return oa(e,t,{left:0,top:0})}function Qo(e){const t=e.getBoundingClientRect(),l=t.top,c=t.left,{scrollTop:h,scrollLeft:g,visibleHeight:m,visibleWidth:C}=Sn();return{boundingTop:l,top:h+l,boundingLeft:c,left:g+c,visibleHeight:m,visibleWidth:C}}const vr="scrollIntoViewIfNeeded",br="scrollIntoView";function na(e){e&&(e[vr]?e[vr]():e[br]&&e[br]())}function pc(e,t){e&&e.dispatchEvent(new Event(t))}function Ks(e){return e&&e.nodeType===1}const la=(e,t)=>{const l=[];return e.forEach(c=>{c.parentId=t?t.id:null,c.visible&&(c.children&&c.children.length&&c.children.some(h=>h.visible)?(l.push(c),l.push(...la(c.children,c))):l.push(c))}),l},mc=e=>{let t=1;const l=(g,m)=>{if(m&&(g.level=m.level+1,t<g.level&&(t=g.level)),g.children&&g.children.length&&g.children.some(C=>C.visible)){let C=0;g.children.forEach(i=>{i.visible&&(l(i,g),C+=i.colSpan)}),g.colSpan=C}else g.colSpan=1};e.forEach(g=>{g.level=1,l(g)});const c=[];for(let g=0;g<t;g++)c.push([]);return la(e).forEach(g=>{g.children&&g.children.length&&g.children.some(m=>m.visible)?g.rowSpan=1:g.rowSpan=t-g.level+1,c[g.level-1].push(g)}),c};function Zs(e,t,l){const{internalData:c}=e;return e.clearScroll().then(()=>{if(t||l)return c.lastScrollLeft=0,c.lastScrollTop=0,e.scrollTo(t,l)})}function xr(e){e&&e._onscroll&&(e.onscroll=null)}function Cs(e){e&&e._onscroll&&(e.onscroll=e._onscroll)}function Js(){return n.uniqueId("row_")}function Vn(e){const{props:t}=e,{computeRowOpts:l}=e.getComputeMaps(),{rowId:c}=t,h=l.value;return c||h.keyField||"_X_ROW_KEY"}function ze(e,t){const l=n.get(t,Vn(e));return n.eqNull(l)?"":encodeURIComponent(l)}const xo=(e,t)=>t?n.isString(t)?e.getColumnByField(t):t:null;function Qs(e){if(e){const t=getComputedStyle(e),l=n.toNumber(t.paddingLeft),c=n.toNumber(t.paddingRight);return l+c}return 0}function el(e){if(e){const t=getComputedStyle(e),l=n.toNumber(t.marginLeft),c=n.toNumber(t.marginRight);return e.offsetWidth+l+c}return 0}function xn(e,t){return e.querySelector(".vxe-cell"+t)}function sa(e){return e&&n.isArray(e)?e.map(({label:t,value:l,data:c,resetValue:h,checked:g})=>({label:t,value:l,data:c,resetValue:h,checked:!!g,_checked:!!g})):e}function hc(e){return e.map((t,l)=>l%2===0?Number(t)+1:".").join("")}function Ho(e,t){return n.get(e,t.field)}function dn(e,t,l){return n.set(e,t.field,l)}function gc(e){const{$table:t,column:l,cell:c}=e,{props:h}=t,{computeResizableOpts:g}=t.getComputeMaps(),m=g.value,{minWidth:C}=m;if(C){const E=n.isFunction(C)?C(e):C;if(E!=="auto")return Math.max(1,n.toNumber(E))}const{showHeaderOverflow:i}=h,{showHeaderOverflow:p,minWidth:d}=l,x=n.isUndefined(p)||n.isNull(p)?i:p,R=x==="title"||(x===!0||x==="tooltip")||x==="ellipsis",q=n.floor((n.toNumber(getComputedStyle(c).fontSize)||14)*1.6),y=Qs(c)+Qs(xn(c,""));let O=q+y;if(R){const E=Qs(xn(c,"--title>.vxe-cell--checkbox")),k=el(xn(c,">.vxe-cell--required-icon")),N=el(xn(c,">.vxe-cell--edit-icon")),H=el(xn(c,">.vxe-cell-title-prefix-icon")),I=el(xn(c,">.vxe-cell-title-suffix-icon")),F=el(xn(c,">.vxe-cell--sort")),z=el(xn(c,">.vxe-cell--filter"));O+=E+k+N+H+I+z+F}if(d){const{refTableBody:E}=t.getRefMaps(),k=E.value,N=k?k.$el:null;if(N){if(Pl(d)){const I=(N.clientWidth-1)/100;return Math.max(O,Math.floor(n.toInteger(d)*I))}else if(mi(d))return Math.max(O,n.toInteger(d))}}return O}function bs(e){return e&&(e.constructor===pi||e instanceof pi)}function vc(e,t,l){return bs(t)?t:qt(new pi(e,t,l))}function ia(e,t,l){Object.keys(t).forEach(c=>{ut(()=>t[c],h=>{l.update(c,h),e&&(c==="filters"?(e.setFilter(l,h),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(c)&&e.handleRefreshColumnQueue())})})}function ra(e,t,l,c){const{reactData:h}=e,{staticColumns:g}=h,m=t.parentNode,C=c?c.column:null,i=C?C.children:g;m&&i&&(i.splice(n.arrayIndexOf(m.children,t),0,l),h.staticColumns=g.slice(0))}function aa(e,t){const{reactData:l}=e,{staticColumns:c}=l,h=n.findTree(c,g=>g.id===t.id,{children:"children"});h&&h.items.splice(h.index,1),l.staticColumns=c.slice(0)}function Cr(e,t){const{internalData:l}=e,{fullColumnIdData:c}=l;if(!t)return null;let h=t.parentId;for(;c[h];){const g=c[h].column;if(h=g.parentId,!h)return g}return t}function ca(e,t,l){for(let c=0;c<e.length;c++){const{row:h,col:g,rowspan:m,colspan:C}=e[c];if(g>-1&&h>-1&&m&&C){if(h===t&&g===l)return{rowspan:m,colspan:C};if(t>=h&&t<h+m&&l>=g&&l<g+C)return{rowspan:0,colspan:0}}}}function bc(e){const{props:t,internalData:l}=e;return l.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function xc(e){return e.clearFilter&&e.clearFilter(),bc(e)}function yr(e,t){const{reactData:l,internalData:c}=e,{refTableBody:h}=e.getRefMaps(),{scrollYLoad:g}=l,{afterFullData:m,scrollYStore:C}=c,i=h.value,p=i?i.$el:null;if(p){const d=p.querySelector(`[rowid="${ze(e,t)}"]`);if(d){const x=p.clientHeight,B=p.scrollTop,$=d.offsetParent,V=d.offsetTop+($?$.offsetTop:0),R=d.clientHeight;if(V<B||V>B+x)return e.scrollTo(null,V);if(V+R>=x+B)return e.scrollTo(null,B+R)}else if(g)return e.scrollTo(null,(m.indexOf(t)-1)*C.rowHeight)}return Promise.resolve()}function Cc(e,t){const{reactData:l,internalData:c}=e,{refTableBody:h}=e.getRefMaps(),{scrollXLoad:g}=l,{visibleColumn:m}=c,C=h.value,i=C?C.$el:null;if(i){const p=i.querySelector(`.${t.id}`);if(p){const d=i.clientWidth,x=i.scrollLeft,B=p.offsetParent,$=p.offsetLeft+(B?B.offsetLeft:0),V=p.clientWidth;if($<x||$>x+d)return e.scrollTo($);if($+V>=d+x)return e.scrollTo(x+V)}else if(g){let d=0;for(let x=0;x<m.length&&m[x]!==t;x++)d+=m[x].renderWidth;return e.scrollTo(d)}}return Promise.resolve()}function cl(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Vt(e){return n.isArray(e)?e:[e]}const Oi="modelValue",Ti={transfer:!0};function da(e){switch(e.name){case"input":case"textarea":return"input"}return"update:modelValue"}function ua(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function yc(e,t){return e&&t.valueFormat?n.toStringDate(e,t.valueFormat):e}function wc(e,t,l){const{dateConfig:c={}}=t;return n.toDateString(yc(e,t),c.labelFormat||l)}function wr(e,t){return wc(e,t,f.i18n(`vxe.input.date.labelFormat.${t.type}`))}function fa(e){return`vxe-${e.replace("$","")}`}function en({name:e}){return fo(e)}function fl({name:e}){return fo(fa(e))}function pa(e,t,l){const{$panel:c}=e;c.changeOption({},t,l)}function pl(e){let{name:t,attrs:l}=e;return t==="input"&&(l=Object.assign({type:"text"},l)),l}function ma(e){const{name:t,immediate:l,props:c}=e;if(!l){if(t==="VxeInput"||t==="$input"){const{type:h}=c||{};return!(!h||h==="text"||h==="number"||h==="integer"||h==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return l}function hl(e,t,l,c){return n.assign({immediate:ma(e)},Ti,c,e.props,{[Oi]:l})}function ys(e,t,l,c){return n.assign({},Ti,c,e.props,{[Oi]:l})}function tn(e,t,l,c){return n.assign({},Ti,c,e.props,{[Oi]:l})}function Ts(e,t){return t.$type==="cell"||ma(e)}function Ml(e,t,l){const{placeholder:c}=e;return[r("span",{class:"vxe-cell--label"},c&&wi(l)?[r("span",{class:"vxe-cell--placeholder"},Xt(Ht(c),1))]:Xt(l,1))]}function Ri(e,t,l,c){const{events:h}=e,g=da(e),m=ua(e),C=m===g,i={};return h&&n.objectEach(h,(p,d)=>{i[cl(d)]=function(...x){p(t,...x)}}),l&&(i[cl(g)]=function(p){l(p),C&&c&&c(p),h&&h[g]&&h[g](t,p)}),!C&&c&&(i[cl(m)]=function(...p){c(...p),h&&h[m]&&h[m](t,...p)}),i}function gl(e,t,l,c){const{events:h}=e,g=da(e),m=ua(e),C={};return n.objectEach(h,(i,p)=>{C[cl(p)]=function(...d){n.isFunction(i)||nt("vxe.error.errFunc",[i]),i(t,...d)}}),l&&(C[cl(g)]=function(i){l(i),h&&h[g]&&h[g](t,i)}),c&&(C[cl(m)]=function(...i){c(...i),h&&h[m]&&h[m](t,...i)}),C}function Rs(e,t){const{$table:l,row:c,column:h}=t,{name:g}=e,{model:m}=h,C=Ts(e,t);return gl(e,t,i=>{C?dn(c,h,i):(m.update=!0,m.value=i)},i=>{if(!C&&["VxeInput","VxeTextarea","$input","$textarea"].includes(g)){const p=i.value;m.update=!0,m.value=p,l.updateStatus(t,p)}else l.updateStatus(t)})}function ws(e,t,l){return gl(e,t,c=>{l.data=c},()=>{pa(t,!n.eqNull(l.data),l)})}function fn(e,t){const{$form:l,data:c,property:h}=t;return gl(e,t,g=>{n.set(c,h,g)},()=>{l.updateStatus(t)})}function ha(e,t){const{$table:l,row:c,column:h}=t,{model:g}=h;return Ri(e,t,m=>{const C=m.target.value;Ts(e,t)?dn(c,h,C):(g.update=!0,g.value=C)},m=>{const C=m.target.value;l.updateStatus(t,C)})}function ga(e,t,l){return Ri(e,t,c=>{l.data=c.target.value},()=>{pa(t,!n.eqNull(l.data),l)})}function va(e,t){const{$form:l,data:c,property:h}=t;return Ri(e,t,g=>{const m=g.target.value;n.set(c,h,m)},()=>{l.updateStatus(t)})}function ei(e,t){const{row:l,column:c}=t,{name:h}=e,g=Ts(e,t)?Ho(l,c):c.model.value;return[r(h,Object.assign(Object.assign(Object.assign({class:`vxe-default-${h}`},pl(e)),{value:g}),ha(e,t)))]}function Er(e,t){return[r(en(e),Object.assign(Object.assign({},hl(e,t,null)),gl(e,t)))]}function ms(e,t){const{row:l,column:c}=t,h=Ho(l,c);return[r(en(e),Object.assign(Object.assign({},hl(e,t,h)),Rs(e,t)))]}function hs(e,t){const{row:l,column:c}=t,h=Ho(l,c);return[r(fl(e),Object.assign(Object.assign({},hl(e,t,h)),Rs(e,t)))]}function ba(e,t){return[r(fo("vxe-button"),Object.assign(Object.assign({},hl(e,t,null)),gl(e,t)))]}function Ec(e,t){return e.children.map(l=>ba(l,t)[0])}function gi(e,t,l){const{optionGroups:c,optionGroupProps:h={}}=e,g=h.options||"options",m=h.label||"label";return c.map((C,i)=>r("optgroup",{key:i,label:C[m]},l(C[g],e,t)))}function Es(e,t,l){const{optionProps:c={}}=t,{row:h,column:g}=l,m=c.label||"label",C=c.value||"value",i=c.disabled||"disabled",p=Ts(t,l)?Ho(h,g):g.model.value;return e.map((d,x)=>r("option",{key:x,value:d[C],disabled:d[i],selected:d[C]==p},d[m]))}function Sc(e,t){const{column:l}=t,{name:c}=e,h=pl(e);return l.filters.map((g,m)=>r(c,Object.assign(Object.assign(Object.assign({key:m,class:`vxe-default-${c}`},h),{value:g.data}),ga(e,t,g))))}function Oc(e,t){const{column:l}=t;return l.filters.map((c,h)=>{const g=c.data;return r(en(e),Object.assign(Object.assign({key:h},ys(e,e,g)),ws(e,t,c)))})}function Tc(e,t){const{column:l}=t;return l.filters.map((c,h)=>{const g=c.data;return r(fl(e),Object.assign(Object.assign({key:h},ys(e,e,g)),ws(e,t,c)))})}function tl({option:e,row:t,column:l}){const{data:c}=e;return n.get(t,l.property)==c}function Sr(e,t){return[r("select",Object.assign(Object.assign({class:"vxe-default-select"},pl(e)),ha(e,t)),e.optionGroups?gi(e,t,Es):Es(e.options,e,t))]}function Or(e,t){const{row:l,column:c}=t,{options:h,optionProps:g,optionGroups:m,optionGroupProps:C}=e,i=Ho(l,c);return[r(en(e),Object.assign(Object.assign({},hl(e,t,i,{options:h,optionProps:g,optionGroups:m,optionGroupProps:C})),Rs(e,t)))]}function Tr(e,t){const{row:l,column:c}=t,{options:h,optionProps:g,optionGroups:m,optionGroupProps:C}=e,i=Ho(l,c);return[r(fl(e),Object.assign(Object.assign({},hl(e,t,i,{options:h,optionProps:g,optionGroups:m,optionGroupProps:C})),Rs(e,t)))]}function xs(e,{row:t,column:l}){const{props:c={},options:h,optionGroups:g,optionProps:m={},optionGroupProps:C={}}=e,i=n.get(t,l.property);let p;const d=m.label||"label",x=m.value||"value";return wi(i)?"":n.map(c.multiple?i:[i],g?B=>{const $=C.options||"options";for(let V=0;V<g.length&&(p=n.find(g[V][$],R=>R[x]==B),!p);V++);return p?p[d]:B}:B=>(p=n.find(h,$=>$[x]==B),p?p[d]:B)).join(", ")}function Rr(e,t){const{data:l,property:c}=t,{name:h}=e,g=pl(e),m=n.get(l,c);return[r(h,Object.assign(Object.assign(Object.assign({class:`vxe-default-${h}`},g),{value:g&&h==="input"&&(g.type==="submit"||g.type==="reset")?null:m}),va(e,t)))]}function ti(e,t){const{data:l,property:c}=t,h=n.get(l,c);return[r(en(e),Object.assign(Object.assign({},tn(e,t,h)),fn(e,t)))]}function oi(e,t){const{data:l,property:c}=t,h=n.get(l,c);return[r(fl(e),Object.assign(Object.assign({},tn(e,t,h)),fn(e,t)))]}function xa(e,t){return[r(fo("vxe-button"),Object.assign(Object.assign({},tn(e,t,null)),gl(e,t)))]}function Rc(e,t){return e.children.map(l=>xa(l,t)[0])}function Mr(e,t,l){const{data:c,property:h}=l,{optionProps:g={}}=t,m=g.label||"label",C=g.value||"value",i=g.disabled||"disabled",p=n.get(c,h);return e.map((d,x)=>r("option",{key:x,value:d[C],disabled:d[i],selected:d[C]==p},d[m]))}function ni(e){const{row:t,column:l,options:c}=e;return c.original?Ho(t,l):xs(l.editRender||l.cellRender,e)}function li(e,t){const{data:l,property:c}=t,h=n.get(l,c);return[r(en(e),Object.assign(Object.assign({},tn(e,t,h)),fn(e,t)))]}function kr(e,t){const{options:l,optionProps:c}=e,{data:h,property:g}=t,m=n.get(h,g);return[r(en(e),Object.assign(Object.assign({options:l,optionProps:c},tn(e,t,m)),fn(e,t)))]}function Dr(e,t){const{name:l,options:c,optionProps:h={}}=e,{data:g,property:m}=t,C=h.label||"label",i=h.value||"value",p=h.disabled||"disabled",d=n.get(g,m),x=fa(l);return c?[r(fo(`${x}-group`),Object.assign(Object.assign({},tn(e,t,d)),fn(e,t)),{default:()=>c.map((B,$)=>r(fo(x),{key:$,label:B[i],content:B[C],disabled:B[p]}))})]:[r(fo(x),Object.assign(Object.assign({},tn(e,t,d)),fn(e,t)))]}const gs={input:{autofocus:"input",renderEdit:ei,renderDefault:ei,renderFilter:Sc,defaultFilterMethod:tl,renderItemContent:Rr},textarea:{autofocus:"textarea",renderEdit:ei,renderItemContent:Rr},select:{renderEdit:Sr,renderDefault:Sr,renderCell(e,t){return Ml(e,t,xs(e,t))},renderFilter(e,t){const{column:l}=t;return l.filters.map((c,h)=>r("select",Object.assign(Object.assign({key:h,class:"vxe-default-select"},pl(e)),ga(e,t,c)),e.optionGroups?gi(e,t,Es):Es(e.options,e,t)))},defaultFilterMethod:tl,renderItemContent(e,t){return[r("select",Object.assign(Object.assign({class:"vxe-default-select"},pl(e)),va(e,t)),e.optionGroups?gi(e,t,Mr):Mr(e.options,e,t))]},exportMethod:ni},VxeInput:{autofocus:".vxe-input--inner",renderEdit:ms,renderCell(e,t){const{props:l={}}=e,{row:c,column:h}=t,g=l.digits||f.input.digits;let m=n.get(c,h.property);if(m)switch(l.type){case"date":case"week":case"month":case"year":m=wr(m,l);break;case"float":m=n.toFixed(n.floor(m,g),g);break}return Ml(e,t,m)},renderDefault:ms,renderFilter:Oc,defaultFilterMethod:tl,renderItemContent:ti},VxeTextarea:{autofocus:".vxe-textarea--inner",renderItemContent:ti},VxeButton:{renderDefault:Er,renderItemContent:li},VxeButtonGroup:{renderDefault:Er,renderItemContent(e,t){const{options:l}=e,{data:c,property:h}=t,g=n.get(c,h);return[r(en(e),Object.assign(Object.assign({options:l},tn(e,t,g)),fn(e,t)))]}},VxeSelect:{autofocus:".vxe-input--inner",renderEdit:Or,renderDefault:Or,renderCell(e,t){return Ml(e,t,xs(e,t))},renderFilter(e,t){const{column:l}=t,{options:c,optionProps:h,optionGroups:g,optionGroupProps:m}=e;return l.filters.map((C,i)=>{const p=C.data;return r(en(e),Object.assign(Object.assign({key:i},ys(e,t,p,{options:c,optionProps:h,optionGroups:g,optionGroupProps:m})),ws(e,t,C)))})},defaultFilterMethod:tl,renderItemContent(e,t){const{data:l,property:c}=t,{options:h,optionProps:g,optionGroups:m,optionGroupProps:C}=e,i=n.get(l,c);return[r(en(e),Object.assign(Object.assign({},tn(e,t,i,{options:h,optionProps:g,optionGroups:m,optionGroupProps:C})),fn(e,t)))]},exportMethod:ni},VxeRadio:{autofocus:".vxe-radio--input",renderItemContent:li},VxeRadioGroup:{autofocus:".vxe-radio--input",renderItemContent:kr},VxeCheckbox:{autofocus:".vxe-checkbox--input",renderItemContent:li},VxeCheckboxGroup:{autofocus:".vxe-checkbox--input",renderItemContent:kr},VxeSwitch:{autofocus:".vxe-switch--button",renderEdit:ms,renderDefault:ms,renderItemContent:ti},$input:{autofocus:".vxe-input--inner",renderEdit:hs,renderCell(e,t){const{props:l={}}=e,{row:c,column:h}=t,g=l.digits||f.input.digits;let m=n.get(c,h.property);if(m)switch(l.type){case"date":case"week":case"month":case"year":m=wr(m,l);break;case"float":m=n.toFixed(n.floor(m,g),g);break}return Ml(e,t,m)},renderDefault:hs,renderFilter:Tc,defaultFilterMethod:tl,renderItemContent:oi},$textarea:{autofocus:".vxe-textarea--inner",renderItemContent:oi},$button:{renderDefault:ba,renderItemContent:xa},$buttons:{renderDefault:Ec,renderItemContent:Rc},$select:{autofocus:".vxe-input--inner",renderEdit:Tr,renderDefault:Tr,renderCell(e,t){return Ml(e,t,xs(e,t))},renderFilter(e,t){const{column:l}=t,{options:c,optionProps:h,optionGroups:g,optionGroupProps:m}=e;return l.filters.map((C,i)=>{const p=C.data;return r(fl(e),Object.assign(Object.assign({key:i},ys(e,t,p,{options:c,optionProps:h,optionGroups:g,optionGroupProps:m})),ws(e,t,C)))})},defaultFilterMethod:tl,renderItemContent(e,t){const{data:l,property:c}=t,{options:h,optionProps:g,optionGroups:m,optionGroupProps:C}=e,i=n.get(l,c);return[r(fl(e),Object.assign(Object.assign({},tn(e,t,i,{options:h,optionProps:g,optionGroups:m,optionGroupProps:C})),fn(e,t)))]},exportMethod:ni},$radio:{autofocus:".vxe-radio--input",renderItemContent:Dr},$checkbox:{autofocus:".vxe-checkbox--input",renderItemContent:Dr},$switch:{autofocus:".vxe-switch--button",renderEdit:hs,renderDefault:hs,renderItemContent:oi}},Bn={mixin(e){return n.each(e,(t,l)=>Bn.add(l,t)),Bn},get(e){return gs[e]||null},add(e,t){if(e&&t){const l=gs[e];l?(n.each(t,(c,h)=>{!n.eqNull(l[h])&&l[h]!==c&&st("vxe.error.coverProp",[`Renderer.${e}`,h])}),Object.assign(l,t)):gs[e]=t}return Bn},delete(e){return delete gs[e],Bn}};class Mc{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(l,c)=>{this.add(c,l)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,l){const c=this.store[t];n.isFunction(l)&&(st("vxe.error.delProp",["commands -> callback","commandMethod"]),l={commandMethod:l});{const h=n.keys(c);n.each(l,(g,m)=>{h.includes(m)&&st("vxe.error.coverProp",[t,m])})}return this.store[t]=c?n.merge(c,l):l,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const Mi=new Mc;Object.assign(Mi,{_name:"Commands"});class kc{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(l,c)=>{this.add(c,l)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,l){const c=this.store[t];n.isFunction(l)&&(st("vxe.error.delProp",["menus -> callback","menuMethod"]),l={menuMethod:l});{const h=n.keys(c);n.each(l,(g,m)=>{h.includes(m)&&st("vxe.error.coverProp",[t,m])})}return this.store[t]=c?n.merge(c,l):l,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const ki=new kc;Object.assign(ki,{_name:"Menus"});class Ca{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return n.each(t,(l,c)=>{this.add(c,l)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,l){const c=this.store[t];{const h=n.keys(c);n.each(l,(g,m)=>{h.includes(m)&&st("vxe.error.coverProp",[t,m])})}return this.store[t]=c?n.merge(c,l):l,this}delete(t){delete this.store[t]}forEach(t){n.objectEach(this.store,t)}}const Di=new Ca;Object.assign(Di,{_name:"Validators"});const ya=new Ca;function Ms(e){let t=e||f.theme;if((!t||t==="default")&&(t="light"),f.theme=t,typeof document<"u"){const l=document.documentElement;l&&l.setAttribute("data-vxe-ui-theme",t)}}function Dc(){return f.theme}function Ir(e,t){const l=[];return n.objectEach(e,(c,h)=>{(c===0||c===t)&&l.push(h)}),l}const Fr=[];function wa(e,t){return e&&e.install&&Fr.indexOf(e)===-1&&(e.install(Ke,t),Fr.push(e)),Ke}function Ea(e,t){return f.i18n(e,t)}function Sa(e,t){return e?n.toValueString(f.translate?f.translate(e,t):e):""}const vl=e=>(e&&(e.theme&&Ms(e.theme),e.zIndex&&xi.setCurrent(e.zIndex),n.merge(f,e)),Ke);class Ic{get zIndex(){return on()}get nextZIndex(){return Yo()}get exportTypes(){return Ir(f.export.types,1)}get importTypes(){return Ir(f.export.types,2)}}const Oa=new Ic,Ta="v4",Ra=e=>(st("vxe.error.delFunc",["setup","setConfig"]),vl(e),f),Ma=e=>(st("vxe.error.delFunc",["setup","setConfig"]),vl(e),f);function ka(e){return e&&Object.assign(f.icon,e),Ke}const Da={},Ia={};function Fa(e){return Ia[e]||null}function Fc(e){e&&e.name&&(Ia[e.name]=e)}const Ii="4.6.23",Pa=Ii,Ke={v:Ta,version:Ii,tableVersion:Pa,setConfig:vl,setIcon:ka,globalStore:Da,interceptor:Nl,renderer:Bn,commands:Mi,formats:os,validators:Di,menus:ki,hooks:ya,use:wa,t:Ea,_t:Sa,setTheme:Ms,getTheme:Dc,getComponent:Fa,config:Ma,setup:Ra,globalConfs:Oa},Pc=Ke;Ms("light");const Ll=kt({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e){const t=bt("$xetable",{}),{reactData:l,internalData:c,getComputeMaps:h}=t,{computeFilterOpts:g}=h(),m=we(()=>{const{filterStore:O}=e;return O&&O.options.some(E=>E.checked)}),C=(O,E)=>{const{filterStore:k}=e;k.options.forEach(N=>{N._checked=E,N.checked=E}),k.isAllSelected=E,k.isIndeterminate=!1},i=O=>{const{filterStore:E}=e;E.options.forEach(k=>{k.checked=k._checked}),t.confirmFilterEvent(O)},p=(O,E,k)=>{const{filterStore:N}=e;N.options.forEach(H=>{H._checked=!1}),k._checked=E,t.checkFilterOptions(),i(O)},d=O=>{const{filterStore:E}=e;t.handleClearFilter(E.column),t.confirmFilterEvent(O)},x=(O,E,k)=>{k._checked=E,t.checkFilterOptions()},B=(O,E,k)=>{const{filterStore:N}=e;N.multiple?x(O,E,k):p(O,E,k)},$=(O,E)=>{const{filterStore:k}=e;k.multiple?C(O,E):d(O)},V={changeRadioOption:p,changeMultipleOption:x,changeAllOption:$,changeOption:B,confirmFilter:i,resetFilter:d},R=(O,E)=>{const{filterStore:k}=e,{column:N,multiple:H,maxHeight:I}=k,{slots:F}=N,z=F?F.filter:null,ue=Object.assign({},c._currFilterParams,{$panel:V,$table:t});if(z)return[r("div",{class:"vxe-table--filter-template"},t.callSlot(z,ue))];if(E&&E.renderFilter)return[r("div",{class:"vxe-table--filter-template"},Vt(E.renderFilter(O,ue)))];const Ce=H?k.isAllSelected:!k.options.some(ne=>ne._checked),ve=H&&k.isIndeterminate;return[r("ul",{class:"vxe-table--filter-header"},[r("li",{class:["vxe-table--filter-option",{"is--checked":Ce,"is--indeterminate":ve}],title:f.i18n(H?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:ne=>{$(ne,!k.isAllSelected)}},(H?[r("span",{class:["vxe-checkbox--icon",ve?f.icon.TABLE_CHECKBOX_INDETERMINATE:Ce?f.icon.TABLE_CHECKBOX_CHECKED:f.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([r("span",{class:"vxe-checkbox--label"},f.i18n("vxe.table.allFilter"))]))]),r("ul",{class:"vxe-table--filter-body",style:I?{maxHeight:`${I}px`}:{}},k.options.map(ne=>{const re=ne._checked;return r("li",{class:["vxe-table--filter-option",{"is--checked":ne._checked}],title:ne.label,onClick:ie=>{B(ie,!ne._checked,ne)}},(H?[r("span",{class:["vxe-checkbox--icon",re?f.icon.TABLE_CHECKBOX_CHECKED:f.icon.TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([r("span",{class:"vxe-checkbox--label"},Xt(ne.label,1))]))}))]},q=()=>{const{filterStore:O}=e,{column:E,multiple:k}=O,N=g.value,H=m.value,I=E.filterRender,F=I?Ke.renderer.get(I.name):null,z=!H&&!O.isAllSelected&&!O.isIndeterminate;return k&&(!F||F.showFilterFooter!==!1)?[r("div",{class:"vxe-table--filter-footer"},[r("button",{class:{"is--disabled":z},disabled:z,onClick:i},N.confirmButtonText||f.i18n("vxe.table.confirmFilter")),r("button",{onClick:d},N.resetButtonText||f.i18n("vxe.table.resetFilter"))])]:[]};return()=>{const{filterStore:O}=e,{initStore:E}=l,{column:k}=O,N=k?k.filterRender:null,H=N?Ke.renderer.get(N.name):null,I=H?H.filterClassName:"",F=Object.assign({},c._currFilterParams,{$panel:V,$table:t});return r("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",En(I,F),{"is--animat":t.props.animat,"is--multiple":O.multiple,"is--active":O.visible}],style:O.style},E.filter&&O.visible?R(N,H).concat(q()):[])}}}),Nc=["setFilter","clearFilter","getCheckedFilters"],Lc={setupTable(e){const{props:t,reactData:l,internalData:c}=e,{refTableBody:h,refTableFilter:g}=e.getRefMaps(),{computeFilterOpts:m,computeMouseOpts:C}=e.getComputeMaps(),i={checkFilterOptions(){const{filterStore:d}=l;d.isAllSelected=d.options.every(x=>x._checked),d.isIndeterminate=!d.isAllSelected&&d.options.some(x=>x._checked)},triggerFilterEvent(d,x,B){const{initStore:$,filterStore:V}=l;if(V.column===x&&V.visible)V.visible=!1;else{const{target:R,pageX:q}=d,{visibleWidth:y}=Sn(),{filters:O,filterMultiple:E,filterRender:k}=x,N=k?Ke.renderer.get(k.name):null,H=x.filterRecoverMethod||(N?N.filterRecoverMethod:null);c._currFilterParams=B,Object.assign(V,{multiple:E,options:O,column:x,style:null}),V.options.forEach(I=>{const{_checked:F,checked:z}=I;I._checked=z,!z&&F!==z&&H&&H({option:I,column:x,$table:e})}),this.checkFilterOptions(),V.visible=!0,$.filter=!0,ee(()=>{const F=h.value.$el,z=g.value,ue=z?z.$el:null;let Ce=0,ve=0,ne=null,re=null;ue&&(Ce=ue.offsetWidth,ve=ue.offsetHeight,ne=ue.querySelector(".vxe-table--filter-header"),re=ue.querySelector(".vxe-table--filter-footer"));const ie=Ce/2,Q=10,L=F.clientWidth-Ce-Q;let w,S;const j={top:`${R.offsetTop+R.offsetParent.offsetTop+R.offsetHeight+8}px`};let G=null;if(ve>=F.clientHeight&&(G=Math.max(60,F.clientHeight-(re?re.offsetHeight:0)-(ne?ne.offsetHeight:0))),x.fixed==="left"?w=R.offsetLeft+R.offsetParent.offsetLeft-ie:x.fixed==="right"?S=R.offsetParent.offsetWidth-R.offsetLeft+(R.offsetParent.offsetParent.offsetWidth-R.offsetParent.offsetLeft)-x.renderWidth-ie:w=R.offsetLeft+R.offsetParent.offsetLeft-ie-F.scrollLeft,w){const fe=q+Ce-ie+Q-y;fe>0&&(w-=fe),j.left=`${Math.min(L,Math.max(Q,w))}px`}else if(S){const fe=q+Ce-ie+Q-y;fe>0&&(S+=fe),j.right=`${Math.max(Q,S)}px`}V.style=j,V.maxHeight=G})}e.dispatchEvent("filter-visible",{column:x,field:x.field,property:x.field,filterList:e.getCheckedFilters(),visible:V.visible},d)},handleClearFilter(d){if(d){const{filters:x,filterRender:B}=d;if(x){const $=B?Ke.renderer.get(B.name):null,V=d.filterResetMethod||($?$.filterResetMethod:null);x.forEach(R=>{R._checked=!1,R.checked=!1,V||(R.data=n.clone(R.resetValue,!0))}),V&&V({options:x,column:d,$table:e})}}},confirmFilterEvent(d){const{mouseConfig:x}=t,{filterStore:B,scrollXLoad:$,scrollYLoad:V}=l,R=m.value,q=C.value,{column:y}=B,{field:O}=y,E=[],k=[];y.filters.forEach(I=>{I.checked&&(E.push(I.value),k.push(I.data))});const N=e.getCheckedFilters(),H={$table:e,$event:d,column:y,field:O,property:O,values:E,datas:k,filters:N,filterList:N};R.remote||(e.handleTableData(!0),e.checkSelectionStatus()),x&&q.area&&e.handleFilterEvent&&e.handleFilterEvent(d,H),e.dispatchEvent("filter-change",H,d),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:I,scrollYLoad:F}=l;if($||I||V||F)return($||I)&&e.updateScrollXSpace(),(V||F)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})}};return Object.assign(Object.assign({},{openFilter(d){const x=xo(e,d);if(x&&x.filters){const{elemStore:B}=c,{fixed:$}=x;return e.scrollToColumn(x).then(()=>{const V=B[`${$||"main"}-header-wrapper`]||B["main-header-wrapper"],R=V?V.value:null;if(R){const q=R.querySelector(`.vxe-header--column.${x.id} .vxe-filter--btn`);pc(q,"click")}})}return ee()},setFilter(d,x){const B=xo(e,d);return B&&B.filters&&(B.filters=sa(x||[])),ee()},clearFilter(d){const{filterStore:x}=l,{tableFullColumn:B}=c,$=m.value;let V;return d?(V=xo(e,d),V&&i.handleClearFilter(V)):B.forEach(i.handleClearFilter),(!d||V!==x.column)&&Object.assign(x,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),$.remote?ee():e.updateData()},getCheckedFilters(){const{tableFullColumn:d}=c,x=[];return d.forEach(B=>{const{field:$,filters:V}=B,R=[],q=[];V&&V.length&&(V.forEach(y=>{y.checked&&(R.push(y.value),q.push(y.data))}),R.length&&x.push({column:B,field:$,property:$,values:R,datas:q}))}),x}}),i)},setupGrid(e){return e.extendTableMethods(Nc)}};let kl;const _n=qt({modals:[],drawers:[]}),Vc=kt({setup(){return()=>{const{modals:e,drawers:t}=_n;return[e.length?r("div",{class:"vxe-dynamics--modal"},e.map(l=>r(fo("vxe-modal"),l))):Et(),t.length?r("div",{class:"vxe-dynamics--drawer"},t.map(l=>r(fo("vxe-drawer"),l))):Et()]}}}),Ft=ac(Vc);function Na(){kl||(kl=document.createElement("div"),kl.className="vxe-dynamics",document.body.appendChild(kl),Ft.mount(kl))}const Fi={Panel:Ll,install(e){Ke.hooks.add("$tableFilter",Lc),e.component(Ll.name,Ll)}},Ac=Fi;Ft.component(Ll.name,Ll);const Vl=kt({name:"VxeTableMenuPanel",setup(e,t){const l=n.uniqueId(),c=bt("$xetable",{}),{reactData:h}=c,g=We(),m={refElem:g},C={xID:l,props:e,context:t,getRefMaps:()=>m},i=()=>{const{ctxMenuStore:p}=h,{computeMenuOpts:d}=c.getComputeMaps(),x=d.value;return r(Un,{to:"body",disabled:!1},[r("div",{ref:g,class:["vxe-table--context-menu-wrapper",x.className,{"is--visible":p.visible}],style:p.style},p.list.map((B,$)=>B.every(V=>V.visible===!1)?Et():r("ul",{class:"vxe-context-menu--option-wrapper",key:$},B.map((V,R)=>{const q=V.children&&V.children.some(y=>y.visible!==!1);return V.visible===!1?null:r("li",{class:[V.className,{"link--disabled":V.disabled,"link--active":V===p.selected}],key:`${$}_${R}`},[r("a",{class:"vxe-context-menu--link",onClick(y){c.ctxMenuLinkEvent(y,V)},onMouseover(y){c.ctxMenuMouseoverEvent(y,V)},onMouseout(y){c.ctxMenuMouseoutEvent(y,V)}},[r("i",{class:["vxe-context-menu--link-prefix",V.prefixIcon]}),r("span",{class:"vxe-context-menu--link-content"},Ht(V.name)),r("i",{class:["vxe-context-menu--link-suffix",q?V.suffixIcon||"suffix--haschild":V.suffixIcon]})]),q?r("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":V===p.selected&&p.showChild}]},V.children.map((y,O)=>y.visible===!1?null:r("li",{class:[y.className,{"link--disabled":y.disabled,"link--active":y===p.selectChild}],key:`${$}_${R}_${O}`},[r("a",{class:"vxe-context-menu--link",onClick(E){c.ctxMenuLinkEvent(E,y)},onMouseover(E){c.ctxMenuMouseoverEvent(E,V,y)},onMouseout(E){c.ctxMenuMouseoutEvent(E,V)}},[r("i",{class:["vxe-context-menu--link-prefix",y.prefixIcon]}),r("span",{class:"vxe-context-menu--link-content"},Ht(y.name))])]))):null])}))))])};return C.renderVN=i,C},render(){return this.renderVN()}}),pt={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},Pr={" ":"Spacebar",Apps:pt.CONTEXT_MENU,Del:pt.DELETE,Up:pt.ARROW_UP,Down:pt.ARROW_DOWN,Left:pt.ARROW_LEFT,Right:pt.ARROW_RIGHT},La=Fo.firefox?"DOMMouseScroll":"mousewheel",vi=[],vt=(e,t)=>{const{key:l}=e;return t=t.toLowerCase(),l?t===l.toLowerCase()||!!(Pr[l]&&Pr[l].toLowerCase()===t):!1};function Jo(e){const t=e.type===La;vi.forEach(({type:l,cb:c})=>{e.cancelBubble||(l===e.type||t&&l==="mousewheel")&&c(e)})}const mt={on(e,t,l){vi.push({comp:e,type:t,cb:l})},off(e,t){n.remove(vi,l=>l.comp===e&&l.type===t)},trigger:Jo,eqKeypad(e,t){const{key:l}=e;return t.toLowerCase()===l.toLowerCase()}};Fo.isDoc&&(Fo.msie||(window.addEventListener("copy",Jo,!1),window.addEventListener("cut",Jo,!1),window.addEventListener("paste",Jo,!1)),document.addEventListener("keydown",Jo,!1),document.addEventListener("contextmenu",Jo,!1),window.addEventListener("mousedown",Jo,!1),window.addEventListener("blur",Jo,!1),window.addEventListener("resize",Jo,!1),window.addEventListener(La,n.throttle(Jo,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));const $c=["closeMenu"],Bc={setupTable(e){const{xID:t,props:l,reactData:c,internalData:h}=e,{refElem:g,refTableFilter:m,refTableMenu:C}=e.getRefMaps(),{computeMouseOpts:i,computeIsMenu:p,computeMenuOpts:d}=e.getComputeMaps();let x={},B={};const $=(V,R,q)=>{const{ctxMenuStore:y}=c,O=p.value,E=d.value,k=E[R],N=E.visibleMethod;if(k){const{options:H,disabled:I}=k;I?V.preventDefault():O&&H&&H.length&&(q.options=H,e.preventEvent(V,"event.showMenu",q,()=>{if(!N||N(q)){V.preventDefault(),e.updateZindex();const{scrollTop:F,scrollLeft:z,visibleHeight:ue,visibleWidth:Ce}=Sn();let ve=V.clientY+F,ne=V.clientX+z;const re=()=>{h._currMenuParams=q,Object.assign(y,{visible:!0,list:H,selected:null,selectChild:null,showChild:!1,style:{zIndex:h.tZindex,top:`${ve}px`,left:`${ne}px`}}),ee(()=>{const S=C.value.getRefMaps().refElem.value,j=S.clientHeight,G=S.clientWidth,{boundingTop:fe,boundingLeft:ke}=Qo(S),he=fe+j-ue,Ve=ke+G-Ce;he>-10&&(y.style.top=`${Math.max(F+2,ve-j-2)}px`),Ve>-10&&(y.style.left=`${Math.max(z+2,ne-G-2)}px`)})},{keyboard:ie,row:Q,column:L}=q;ie&&Q&&L?e.scrollToRow(Q,L).then(()=>{const w=e.getCell(Q,L);if(w){const{boundingTop:S,boundingLeft:j}=Qo(w);ve=S+F+Math.floor(w.offsetHeight/2),ne=j+z+Math.floor(w.offsetWidth/2)}re()}):re()}else x.closeMenu()}))}e.closeFilter()};return x={closeMenu(){return Object.assign(c.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),ee()}},B={moveCtxMenu(V,R,q,y,O,E){let k;const N=n.findIndexOf(E,H=>R[q]===H);if(y)O&&al(R.selected)?R.showChild=!0:(R.showChild=!1,R.selectChild=null);else if(vt(V,pt.ARROW_UP)){for(let H=N-1;H>=0;H--)if(E[H].visible!==!1){k=E[H];break}R[q]=k||E[E.length-1]}else if(vt(V,pt.ARROW_DOWN)){for(let H=N+1;H<E.length;H++)if(E[H].visible!==!1){k=E[H];break}R[q]=k||E[0]}else R[q]&&(vt(V,pt.ENTER)||vt(V,pt.SPACEBAR))&&B.ctxMenuLinkEvent(V,R[q])},handleOpenMenuEvent:$,handleGlobalContextmenuEvent(V){const{mouseConfig:R,menuConfig:q}=l,{editStore:y,ctxMenuStore:O}=c,{visibleColumn:E}=h,k=m.value,N=C.value,H=i.value,I=d.value,F=g.value,{selected:z}=y,ue=["header","body","footer"];if(gt(q)){if(O.visible&&N&&yt(V,N.getRefMaps().refElem.value).flag){V.preventDefault();return}if(h._keyCtx){const Ce="body",ve={type:Ce,$table:e,keyboard:!0,columns:E.slice(0),$event:V};if(R&&H.area){const ne=e.getActiveCellArea();if(ne&&ne.row&&ne.column){ve.row=ne.row,ve.column=ne.column,$(V,Ce,ve);return}}else if(R&&H.selected&&z.row&&z.column){ve.row=z.row,ve.column=z.column,$(V,Ce,ve);return}}for(let Ce=0;Ce<ue.length;Ce++){const ve=ue[Ce],ne=yt(V,F,`vxe-${ve}--column`,ie=>ie.parentNode.parentNode.parentNode.getAttribute("xid")===t),re={type:ve,$table:e,columns:E.slice(0),$event:V};if(ne.flag){const ie=ne.targetElem,Q=e.getColumnNode(ie),L=Q?Q.item:null;let w=`${ve}-`;if(L&&Object.assign(re,{column:L,columnIndex:e.getColumnIndex(L),cell:ie}),ve==="body"){const j=e.getRowNode(ie.parentNode),G=j?j.item:null;w="",G&&(re.row=G,re.rowIndex=e.getRowIndex(G))}const S=`${w}cell-menu`;$(V,ve,re),e.dispatchEvent(S,re,V);return}else if(yt(V,F,`vxe-table--${ve}-wrapper`,ie=>ie.getAttribute("xid")===t).flag){I.trigger==="cell"?V.preventDefault():$(V,ve,re);return}}}k&&!yt(V,k.$el).flag&&e.closeFilter(),x.closeMenu()},ctxMenuMouseoverEvent(V,R,q){const y=V.currentTarget,{ctxMenuStore:O}=c;V.preventDefault(),V.stopPropagation(),O.selected=R,O.selectChild=q,q||(O.showChild=al(R),O.showChild&&ee(()=>{const E=y.nextElementSibling;if(E){const{boundingTop:k,boundingLeft:N,visibleHeight:H,visibleWidth:I}=Qo(y),F=k+y.offsetHeight,z=N+y.offsetWidth;let ue="",Ce="";z+E.offsetWidth>I-10&&(ue="auto",Ce=`${y.offsetWidth}px`);let ve="",ne="";F+E.offsetHeight>H-10&&(ve="auto",ne="0"),E.style.left=ue,E.style.right=Ce,E.style.top=ve,E.style.bottom=ne}}))},ctxMenuMouseoutEvent(V,R){const{ctxMenuStore:q}=c;R.children||(q.selected=null),q.selectChild=null},ctxMenuLinkEvent(V,R){if(!R.disabled&&(R.code||!R.children||!R.children.length)){const q=Ke.menus.get(R.code),y=Object.assign({},h._currMenuParams,{menu:R,$table:e,$grid:e.xegrid,$event:V}),O=q?q.tableMenuMethod||q.menuMethod:null;O&&O(y,V),e.dispatchEvent("menu-click",y,V),x.closeMenu()}}},Object.assign(Object.assign({},x),B)},setupGrid(e){return e.extendTableMethods($c)}},Pi={Panel:Vl,install(e){Ke.hooks.add("$tableMenu",Bc),e.component(Vl.name,Vl)}},jc=Pi;Ft.component(Vl.name,Vl);const Hc=["insert","insertAt","insertNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"],zc={setupTable(e){const{props:t,reactData:l,internalData:c}=e,{refElem:h}=e.getRefMaps(),{computeMouseOpts:g,computeEditOpts:m,computeCheckboxOpts:C,computeTreeOpts:i}=e.getComputeMaps();let p={},d={};const x=(y,O)=>{const{model:E,editRender:k}=O;k&&(E.value=Ho(y,O),E.update=!1)},B=(y,O)=>{const{model:E,editRender:k}=O;k&&E.update&&(dn(y,O,E.value),E.update=!1,E.value=null)},$=()=>{const y=h.value;if(y){const O=y.querySelector(".col--selected");O&&Io(O,"col--selected")}};function V(){const{editStore:y,tableColumn:O}=l,E=m.value,{actived:k}=y,{row:N,column:H}=k;(N||H)&&(E.mode==="row"?O.forEach(I=>B(N,I)):B(N,H))}function R(y,O){const{tableFullTreeData:E,afterFullData:k,fullDataRowIdData:N,fullAllDataRowIdData:H}=c,I=i.value,{rowField:F,parentField:z,mapChildrenField:ue}=I,Ce=I.children||I.childrenField,ve=O?"push":"unshift";y.forEach(ne=>{const re=ne[z],ie=ze(e,ne),Q=re?n.findTree(E,L=>re===L[F],{children:ue}):null;if(Q){const{item:L}=Q,w=H[ze(e,L)],S=w?w.level:0;let j=L[Ce],G=L[ue];n.isArray(j)||(j=L[Ce]=[]),n.isArray(G)||(G=L[Ce]=[]),j[ve](ne),G[ve](ne);const fe={row:ne,rowid:ie,seq:-1,index:-1,_index:-1,$index:-1,items:j,parent:L,level:S+1};N[ie]=fe,H[ie]=fe}else{re&&st("vxe.error.unableInsert"),k[ve](ne),E[ve](ne);const L={row:ne,rowid:ie,seq:-1,index:-1,_index:-1,$index:-1,items:E,parent:null,level:0};N[ie]=L,H[ie]=L}})}const q=(y,O,E)=>{const{treeConfig:k}=t,{mergeList:N,editStore:H}=l,{tableFullTreeData:I,afterFullData:F,tableFullData:z,fullDataRowIdData:ue,fullAllDataRowIdData:Ce}=c,ve=i.value,{transform:ne,rowField:re,mapChildrenField:ie}=ve,Q=ve.children||ve.childrenField;n.isArray(y)||(y=[y]);const L=qt(e.defineField(y.map(S=>Object.assign(k&&ne?{[ie]:[],[Q]:[]}:{},S))));if(n.eqNull(O))k&&ne?R(L,!1):(F.unshift(...L),z.unshift(...L),N.forEach(S=>{const{row:j}=S;j>0&&(S.row=j+L.length)}));else if(O===-1)k&&ne?R(L,!0):(F.push(...L),z.push(...L),N.forEach(S=>{const{row:j,rowspan:G}=S;j+G>F.length&&(S.rowspan=G+L.length)}));else if(k&&ne){const S=n.findTree(I,j=>O[re]===j[re],{children:ie});if(S){const{parent:j}=S,G=j?j[ie]:I,fe=Ce[ze(e,j)],ke=fe?fe.level:0;if(L.forEach((he,Ve)=>{const $e=ze(e,he);he[ve.parentField]&&j&&he[ve.parentField]!==j[re]&&nt("vxe.error.errProp",[`${ve.parentField}=${he[ve.parentField]}`,`${ve.parentField}=${j[re]}`]),j&&(he[ve.parentField]=j[re]);let ce=S.index+Ve;E&&(ce=ce+1),G.splice(ce,0,he);const P={row:he,rowid:$e,seq:-1,index:-1,_index:-1,$index:-1,items:G,parent:j,level:ke+1};ue[$e]=P,Ce[$e]=P}),j){const he=n.findTree(I,Ve=>O[re]===Ve[re],{children:Q});if(he){const Ve=he.items;let $e=he.index;E&&($e=$e+1),Ve.splice($e,0,...L)}}}else st("vxe.error.unableInsert"),R(L,!0)}else{if(k)throw new Error(yi("vxe.error.noTree",["insert"]));let S=-1;if(n.isNumber(O)?O<F.length&&(S=O):S=e.findRowIndexOf(F,O),E&&(S=Math.min(F.length,S+1)),S===-1)throw new Error(nt("vxe.error.unableInsert"));F.splice(S,0,...L),z.splice(e.findRowIndexOf(z,O),0,...L),N.forEach(j=>{const{row:G,rowspan:fe}=j;G>S?j.row=G+L.length:G+fe>S&&(j.rowspan=fe+L.length)})}const{insertMaps:w}=H;return L.forEach(S=>{const j=ze(e,S);w[j]=S}),e.cacheRowMap(),e.updateScrollYStatus(),e.handleTableData(k&&ne),k&&ne||e.updateAfterDataIndex(),e.updateFooter(),e.checkSelectionStatus(),l.scrollYLoad&&e.updateScrollYSpace(),ee().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:L.length?L[L.length-1]:null,rows:L}))};return p={insert(y){return q(y,null)},insertAt(y,O){return q(y,O)},insertNextAt(y,O){return q(y,O,!0)},remove(y){const{treeConfig:O}=t,{mergeList:E,editStore:k,selectCheckboxMaps:N}=l,{tableFullTreeData:H,afterFullData:I,tableFullData:F}=c,z=C.value,ue=i.value,{transform:Ce,mapChildrenField:ve}=ue,ne=ue.children||ue.childrenField,{actived:re,removeMaps:ie,insertMaps:Q}=k,{checkField:L}=z;let w=[];if(y?n.isArray(y)||(y=[y]):y=F,y.forEach(S=>{if(!e.isInsertByRow(S)){const j=ze(e,S);ie[j]=S}}),!L){const S=Object.assign({},N);y.forEach(j=>{const G=ze(e,j);S[G]&&delete S[G]}),l.selectCheckboxMaps=S}return F===y?(y=w=F.slice(0),c.tableFullData=[],c.afterFullData=[],e.clearMergeCells()):O&&Ce?y.forEach(S=>{const j=ze(e,S),G=n.findTree(H,he=>j===ze(e,he),{children:ve});if(G){const he=G.items.splice(G.index,1);w.push(he[0])}const fe=n.findTree(H,he=>j===ze(e,he),{children:ne});fe&&fe.items.splice(fe.index,1);const ke=e.findRowIndexOf(I,S);ke>-1&&I.splice(ke,1)}):y.forEach(S=>{const j=e.findRowIndexOf(F,S);if(j>-1){const fe=F.splice(j,1);w.push(fe[0])}const G=e.findRowIndexOf(I,S);G>-1&&(E.forEach(fe=>{const{row:ke,rowspan:he}=fe;ke>G?fe.row=ke-1:ke+he>G&&(fe.rowspan=he-1)}),I.splice(G,1))}),re.row&&e.findRowIndexOf(y,re.row)>-1&&p.clearEdit(),y.forEach(S=>{const j=ze(e,S);Q[j]&&delete Q[j]}),e.updateFooter(),e.cacheRowMap(),e.handleTableData(O&&Ce),O&&Ce||e.updateAfterDataIndex(),e.checkSelectionStatus(),l.scrollYLoad&&e.updateScrollYSpace(),ee().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:w.length?w[w.length-1]:null,rows:w}))},removeCheckboxRow(){return p.remove(e.getCheckboxRecords()).then(y=>(e.clearCheckboxRow(),y))},removeRadioRow(){const y=e.getRadioRecord();return p.remove(y||[]).then(O=>(e.clearRadioRow(),O))},removeCurrentRow(){const y=e.getCurrentRecord();return p.remove(y||[]).then(O=>(e.clearCurrentRow(),O))},getRecordset(){return{insertRecords:p.getInsertRecords(),removeRecords:p.getRemoveRecords(),updateRecords:p.getUpdateRecords(),pendingRecords:e.getPendingRecords()}},getInsertRecords(){const{editStore:y}=l,{fullAllDataRowIdData:O}=c,{insertMaps:E}=y,k=[];return n.each(E,(N,H)=>{O[H]&&k.push(N)}),k},getRemoveRecords(){const{editStore:y}=l,{removeMaps:O}=y,E=[];return n.each(O,k=>{E.push(k)}),E},getUpdateRecords(){const{keepSource:y,treeConfig:O}=t,{tableFullData:E}=c,k=i.value;return y?(V(),O?n.filterTree(E,N=>e.isUpdateByRow(N),k):E.filter(N=>e.isUpdateByRow(N))):[]},getActiveRecord(){return st("vxe.error.delFunc",["getActiveRecord","getEditRecord"]),this.getEditRecord()},getEditRecord(){const{editStore:y}=l,{afterFullData:O}=c,E=h.value,{args:k,row:N}=y.actived;return k&&e.findRowIndexOf(O,N)>-1&&E.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},k):null},getSelectedCell(){const{editStore:y}=l,{args:O,column:E}=y.selected;return O&&E?Object.assign({},O):null},clearActived(y){return st("vxe.error.delFunc",["clearActived","clearEdit"]),this.clearEdit(y)},clearEdit(y){const{editStore:O}=l,{actived:E,focused:k}=O,{row:N,column:H}=E;return(N||H)&&(V(),E.args=null,E.row=null,E.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:N,rowIndex:e.getRowIndex(N),$rowIndex:e.getVMRowIndex(N),column:H,columnIndex:e.getColumnIndex(H),$columnIndex:e.getVMColumnIndex(H)},y||null)),f.cellVaildMode==="obsolete"&&e.clearValidate?e.clearValidate():(k.row=null,k.column=null,ee())},clearSelected(){const{editStore:y}=l,{selected:O}=y;return O.row=null,O.column=null,$(),ee()},isActiveByRow(y){return st("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),this.isEditByRow(y)},isEditByRow(y){const{editStore:O}=l;return O.actived.row===y},setActiveRow(y){return st("vxe.error.delFunc",["setActiveRow","setEditRow"]),p.setEditRow(y)},setEditRow(y,O){const{visibleColumn:E}=c;let k=n.find(E,N=>gt(N.editRender));return O&&(k=n.isString(O)?e.getColumnByField(O):O),e.setEditCell(y,k)},setActiveCell(y,O){return st("vxe.error.delFunc",["setActiveCell","setEditCell"]),p.setEditCell(y,O)},setEditCell(y,O){const{editConfig:E}=t,k=n.isString(O)?e.getColumnByField(O):O;return y&&k&&gt(E)&&gt(k.editRender)?e.scrollToRow(y,k).then(()=>{const N=e.getCell(y,k);return N&&(d.handleActived({row:y,rowIndex:e.getRowIndex(y),column:k,columnIndex:e.getColumnIndex(k),cell:N,$table:e}),c._lastCallTime=Date.now()),ee()}):ee()},setSelectCell(y,O){const{tableData:E}=l,k=m.value,N=n.isString(O)?e.getColumnByField(O):O;if(y&&N&&k.trigger!=="manual"){const H=e.findRowIndexOf(E,y);if(H>-1&&N){const I=e.getCell(y,N),F={row:y,rowIndex:H,column:N,columnIndex:e.getColumnIndex(N),cell:I};e.handleSelected(F,{})}}return ee()}},d={handleActived(y,O){const{editConfig:E,mouseConfig:k}=t,{editStore:N,tableColumn:H}=l,I=m.value,{mode:F}=I,{actived:z,focused:ue}=N,{row:Ce,column:ve}=y,{editRender:ne}=ve,re=y.cell||e.getCell(Ce,ve),ie=I.beforeEditMethod||I.activeMethod;if(y.cell=re,re&&gt(E)&&gt(ne)&&!e.hasPendingByRow(Ce)){if(z.row!==Ce||F==="cell"&&z.column!==ve){let Q="edit-disabled";if(!ie||ie(Object.assign(Object.assign({},y),{$table:e,$grid:e.xegrid}))){k&&(p.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),z.column&&p.clearEdit(O),Q="edit-activated",ve.renderHeight=re.offsetHeight,z.args=y,z.row=Ce,z.column=ve,F==="row"?H.forEach(w=>x(Ce,w)):x(Ce,ve);const L=I.afterEditMethod;ee(()=>{d.handleFocus(y,O),L&&L(Object.assign(Object.assign({},y),{$table:e,$grid:e.xegrid}))})}e.dispatchEvent(Q,{row:Ce,rowIndex:e.getRowIndex(Ce),$rowIndex:e.getVMRowIndex(Ce),column:ve,columnIndex:e.getColumnIndex(ve),$columnIndex:e.getVMColumnIndex(ve)},O),Q==="edit-activated"&&e.dispatchEvent("edit-actived",{row:Ce,rowIndex:e.getRowIndex(Ce),$rowIndex:e.getVMRowIndex(Ce),column:ve,columnIndex:e.getColumnIndex(ve),$columnIndex:e.getVMColumnIndex(ve)},O)}else{const{column:Q}=z;if(k&&(p.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),Q!==ve){const{model:L}=Q;L.update&&dn(Ce,Q,L.value),e.clearValidate&&e.clearValidate(Ce,ve)}ve.renderHeight=re.offsetHeight,z.args=y,z.column=ve,setTimeout(()=>{d.handleFocus(y,O)})}ue.column=null,ue.row=null,e.focus()}return ee()},handleFocus(y){const{row:O,column:E,cell:k}=y,{editRender:N}=E;if(gt(N)){const H=Bn.get(N.name);let{autofocus:I,autoselect:F}=N,z;if(!I&&H&&(I=H.autofocus),!F&&H&&(F=H.autoselect),n.isFunction(I)?z=I.call(this,y):I&&(z=k.querySelector(I),z&&z.focus()),z){if(F)z.select();else if(Fo.msie){const ue=z.createTextRange();ue.collapse(!1),ue.select()}}else e.scrollToRow(O,E)}},handleSelected(y,O){const{mouseConfig:E}=t,{editStore:k}=l,N=g.value,H=m.value,{actived:I,selected:F}=k,{row:z,column:ue}=y,Ce=E&&N.selected;return(()=>(Ce&&(F.row!==z||F.column!==ue)&&(I.row!==z||H.mode==="cell"&&I.column!==ue)&&(p.clearEdit(O),p.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),F.args=y,F.row=z,F.column=ue,Ce&&d.addCellSelectedClass(),e.focus(),O&&e.dispatchEvent("cell-selected",y,O)),ee()))()},addCellSelectedClass(){const{editStore:y}=l,{selected:O}=y,{row:E,column:k}=O;if($(),E&&k){const N=e.getCell(E,k);N&&un(N,"col--selected")}}},Object.assign(Object.assign({},p),d)},setupGrid(e){return e.extendTableMethods(Hc)}},Ni={install(){Ke.hooks.add("$tableEdit",zc)}},Wc=Ni;function Qt(e){const t=bt("xesize",null),l=we(()=>e.size||(t?t.value:null));return Gt("xesize",l),l}const po=kt({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>f.button.size||f.size},name:[String,Number],content:String,placement:String,status:String,title:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,destroyOnClose:Boolean,transfer:{type:Boolean,default:()=>f.button.transfer}},emits:["click","mouseenter","mouseleave","dropdown-click"],setup(e,t){const{slots:l,emit:c}=t,h=n.uniqueId(),g=Qt(e),m=qt({inited:!1,showPanel:!1,animatVisible:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),C={showTime:null},i=We(),p=We(),d=We(),x={refElem:i},B={xID:h,props:e,context:t,reactData:m,internalData:C,getRefMaps:()=>x},$=bt("$xebuttongroup",null);let V={};const R=we(()=>{const{type:w}=e;return w?["submit","reset","button"].indexOf(w)>-1:!1}),q=we(()=>{const{type:w,mode:S}=e;return S==="text"||w==="text"||$&&$.props.mode==="text"?"text":"button"}),y=we(()=>{const{status:w}=e;return w||($?$.props.status:"")}),O=we(()=>{const{round:w}=e;return w||($?$.props.round:!1)}),E=we(()=>{const{circle:w}=e;return w||($?$.props.circle:!1)}),k=()=>{m.panelIndex<on()&&(m.panelIndex=Yo())},N=()=>ee().then(()=>{const{transfer:w,placement:S}=e,{panelIndex:j}=m,G=p.value,fe=d.value;if(fe&&G){const ke=G.offsetHeight,he=G.offsetWidth,Ve=fe.offsetHeight,$e=fe.offsetWidth,ce=5,P={zIndex:j},{top:Z,left:le,boundingTop:pe,visibleHeight:De,visibleWidth:te}=Qo(G);let oe="bottom";if(w){let se=le+he-$e,me=Z+ke;S==="top"?(oe="top",me=Z-Ve):S||(pe+ke+Ve+ce>De&&(oe="top",me=Z-Ve),me<ce&&(oe="bottom",me=Z+ke)),se+$e+ce>te&&(se-=se+$e+ce-te),se<ce&&(se=ce),Object.assign(P,{left:`${se}px`,right:"auto",top:`${me}px`,minWidth:`${he}px`})}else S==="top"?(oe="top",P.bottom=`${ke}px`):S||pe+ke+Ve>De&&pe-ke-Ve>ce&&(oe="top",P.bottom=`${ke}px`);return m.panelStyle=P,m.panelPlacement=oe,ee()}}),H=w=>{$?$.handleClick({name:e.name},w):V.dispatchEvent("click",{$event:w},w)},I=w=>{w.button===0&&w.stopPropagation()},F=w=>{const S=w.currentTarget,j=d.value,{flag:G,targetElem:fe}=yt(w,S,"vxe-button");G&&(j&&(j.dataset.active="N"),m.showPanel=!1,setTimeout(()=>{(!j||j.dataset.active!=="Y")&&(m.animatVisible=!1)},350),V.dispatchEvent("dropdown-click",{name:fe.getAttribute("name"),$event:w},w))},z=()=>{const w=d.value;w&&(w.dataset.active="Y",m.animatVisible=!0,setTimeout(()=>{w.dataset.active==="Y"&&(m.showPanel=!0,k(),N(),setTimeout(()=>{m.showPanel&&N()},50))},20))},ue=w=>{const S=d.value;S&&(S.dataset.active="Y",m.inited||(m.inited=!0),C.showTime=setTimeout(()=>{S.dataset.active==="Y"?z():m.animatVisible=!1},250)),ve(w)},Ce=w=>{re(),ne(w)},ve=w=>{c("mouseenter",{$event:w})},ne=w=>{c("mouseleave",{$event:w})},re=()=>{const w=d.value;clearTimeout(C.showTime),w?(w.dataset.active="N",setTimeout(()=>{w.dataset.active!=="Y"&&(m.showPanel=!1,setTimeout(()=>{w.dataset.active!=="Y"&&(m.animatVisible=!1)},350))},100)):(m.animatVisible=!1,m.showPanel=!1)},ie=()=>{re()},Q=()=>{const{content:w,icon:S,loading:j}=e,G=[];return j?G.push(r("i",{class:["vxe-button--loading-icon",f.icon.BUTTON_LOADING]})):l.icon?G.push(r("span",{class:"vxe-button--custom-icon"},l.icon({}))):S&&G.push(r("i",{class:["vxe-button--icon",S]})),l.default?G.push(r("span",{class:"vxe-button--content"},l.default({}))):w&&G.push(r("span",{class:"vxe-button--content"},Ht(w))),G};V={dispatchEvent(w,S,j){c(w,Object.assign({$button:B,$event:j},S))},focus(){return p.value.focus(),ee()},blur(){return p.value.blur(),ee()}},Object.assign(B,V),go(()=>{mt.on(B,"mousewheel",w=>{const S=d.value;m.showPanel&&!yt(w,S).flag&&re()})}),io(()=>{mt.off(B,"mousewheel")});const L=()=>{const{className:w,popupClassName:S,transfer:j,title:G,type:fe,destroyOnClose:ke,name:he,disabled:Ve,loading:$e}=e,{inited:ce,showPanel:P}=m,Z=R.value,le=q.value,pe=y.value,De=O.value,te=E.value,oe=g.value;return l.dropdowns?r("div",{ref:i,class:["vxe-button--dropdown",w?n.isFunction(w)?w({$button:B}):w:"",{[`size--${oe}`]:oe,"is--active":P}]},[r("button",{ref:p,class:["vxe-button",`type--${le}`,{[`size--${oe}`]:oe,[`theme--${pe}`]:pe,"is--round":De,"is--circle":te,"is--disabled":Ve||$e,"is--loading":$e}],title:G,name:he,type:Z?fe:"button",disabled:Ve||$e,onMouseenter:ue,onMouseleave:Ce,onClick:H},Q().concat([r("i",{class:`vxe-button--dropdown-arrow ${f.icon.BUTTON_DROPDOWN}`})])),r(Un,{to:"body",disabled:j?!ce:!0},[r("div",{ref:d,class:["vxe-button--dropdown-panel",S?n.isFunction(S)?S({$button:B}):S:"",{[`size--${oe}`]:oe,"animat--leave":m.animatVisible,"animat--enter":P}],placement:m.panelPlacement,style:m.panelStyle},ce?[r("div",{class:"vxe-button--dropdown-wrapper",onMousedown:I,onClick:F,onMouseenter:z,onMouseleave:ie},ke&&!P?[]:l.dropdowns({}))]:[])])]):r("button",{ref:p,class:["vxe-button",`type--${le}`,w?n.isFunction(w)?w({$button:B}):w:"",{[`size--${oe}`]:oe,[`theme--${pe}`]:pe,"is--round":De,"is--circle":te,"is--disabled":Ve||$e,"is--loading":$e}],title:G,name:he,type:Z?fe:"button",disabled:Ve||$e,onClick:H,onMouseenter:ve,onMouseleave:ne},Q())};return B.renderVN=L,B},render(){return this.renderVN()}}),si=kt({name:"VxeLoading",props:{modelValue:Boolean,icon:String,text:String},setup(e,{slots:t}){const l=we(()=>e.icon||f.icon.LOADING),c=we(()=>{const h=f.loadingText;return e.text||(h===null?h:f.i18n("vxe.loading.text"))});return()=>{const h=l.value,g=c.value;return r("div",{class:["vxe-loading",{"is--visible":e.modelValue}]},t.default?[r("div",{class:"vxe-loading--wrapper"},t.default({}))]:[r("div",{class:"vxe-loading--chunk"},[h?r("i",{class:h}):r("div",{class:"vxe-loading--spinner"}),g?r("div",{class:"vxe-loading--text"},`${g}`):null])])}}}),ls=Object.assign(si,{install(e){e.component(si.name,si)}}),jn=[],Dl=[],On=kt({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>f.modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>f.modal.duration},message:[Number,String],content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>f.modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>f.modal.showConfirmButton},confirmButtonText:{type:String,default:()=>f.modal.confirmButtonText},lockView:{type:Boolean,default:()=>f.modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>f.modal.mask},maskClosable:{type:Boolean,default:()=>f.modal.maskClosable},escClosable:{type:Boolean,default:()=>f.modal.escClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>f.modal.showHeader},showFooter:{type:Boolean,default:()=>f.modal.showFooter},showZoom:Boolean,showClose:{type:Boolean,default:()=>f.modal.showClose},dblclickZoom:{type:Boolean,default:()=>f.modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>f.modal.minWidth},minHeight:{type:[Number,String],default:()=>f.modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>f.modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>f.modal.draggable},remember:{type:Boolean,default:()=>f.modal.remember},destroyOnClose:{type:Boolean,default:()=>f.modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>f.modal.showTitleOverflow},transfer:{type:Boolean,default:()=>f.modal.transfer},storage:{type:Boolean,default:()=>f.modal.storage},storageKey:{type:String,default:()=>f.modal.storageKey},animat:{type:Boolean,default:()=>f.modal.animat},size:{type:String,default:()=>f.modal.size||f.size},beforeHideMethod:{type:Function,default:()=>f.modal.beforeHideMethod},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,t){const{slots:l,emit:c}=t,h=n.uniqueId(),g=Qt(e),m=qt({inited:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,zoomLocat:null,firstOpen:!0}),C=We(),i=We(),p=We(),d=We(),x={refElem:C},B={xID:h,props:e,context:t,reactData:m,getRefMaps:()=>x};let $={};const V=we(()=>e.type==="message"),R=()=>i.value,q=()=>{const{width:te,height:oe}=e,se=R();return se.style.width=`${te?isNaN(te)?te:`${te}px`:""}`,se.style.height=`${oe?isNaN(oe)?oe:`${oe}px`:""}`,ee()},y=()=>{const{zIndex:te}=e,{modalZindex:oe}=m;te?m.modalZindex=te:oe<on()&&(m.modalZindex=Yo())},O=()=>ee().then(()=>{const{position:te}=e,oe=n.toNumber(e.marginSize),se=R(),me=document.documentElement.clientWidth||document.body.clientWidth,ye=document.documentElement.clientHeight||document.body.clientHeight,ge=te==="center",{top:Ae,left:Ye}=n.isString(te)?{top:te,left:te}:Object.assign({},te),Ue=ge||Ae==="center",_e=ge||Ye==="center";let Pe="",Fe="";Ye&&!_e?Fe=isNaN(Ye)?Ye:`${Ye}px`:Fe=`${Math.max(oe,me/2-se.offsetWidth/2)}px`,Ae&&!Ue?Pe=isNaN(Ae)?Ae:`${Ae}px`:Pe=`${Math.max(oe,ye/2-se.offsetHeight/2)}px`,se.style.top=Pe,se.style.left=Fe}),E=()=>{ee(()=>{let te=0;Dl.forEach(oe=>{const se=oe.getBox();te+=n.toNumber(oe.props.top),oe.reactData.modalTop=te,te+=se.clientHeight})})},k=()=>{Dl.indexOf(B)>-1&&n.remove(Dl,te=>te===B),E()},N=te=>{const{remember:oe,beforeHideMethod:se}=e,{visible:me}=m,ye=V.value,ge={type:te};return me&&Promise.resolve(se?se(ge):null).then(Ae=>{n.isError(Ae)||(ye&&k(),m.contentVisible=!1,oe||(m.zoomLocat=null),n.remove(jn,Ye=>Ye===B),$.dispatchEvent("before-hide",ge),setTimeout(()=>{m.visible=!1,c("update:modelValue",!1),$.dispatchEvent("hide",ge)},200))}).catch(Ae=>Ae),ee()},H=te=>{const oe="close";$.dispatchEvent(oe,{type:oe},te),N(oe)},I=te=>{const oe="confirm";$.dispatchEvent(oe,{type:oe},te),N(oe)},F=te=>{const oe="cancel";$.dispatchEvent(oe,{type:oe},te),N(oe)},z=te=>{const oe=f.version,se=n.toStringJSON(localStorage.getItem(te)||"");return se&&se._v===oe?se:{_v:oe}},ue=()=>{const{id:te,remember:oe,storage:se,storageKey:me}=e;return!!(te&&oe&&se&&z(me)[te])},Ce=()=>{const{id:te,remember:oe,storage:se,storageKey:me}=e;if(te&&oe&&se){const ye=z(me)[te];if(ye){const ge=R(),[Ae,Ye,Ue,_e,Pe,Fe,Y,ae]=ye.split(",");Ae&&(ge.style.left=`${Ae}px`),Ye&&(ge.style.top=`${Ye}px`),Ue&&(ge.style.width=`${Ue}px`),_e&&(ge.style.height=`${_e}px`),Pe&&Fe&&(m.zoomLocat={left:Pe,top:Fe,width:Y,height:ae})}}},ve=()=>{Dl.indexOf(B)===-1&&Dl.push(B),E()},ne=()=>{const{id:te,remember:oe,storage:se,storageKey:me}=e,{zoomLocat:ye}=m;if(te&&oe&&se){const ge=R(),Ae=z(me);Ae[te]=[ge.style.left,ge.style.top,ge.style.width,ge.style.height].concat(ye?[ye.left,ye.top,ye.width,ye.height]:[]).map(Ye=>Ye?n.toNumber(Ye):"").join(","),localStorage.setItem(me,n.toJSONString(Ae))}},re=()=>ee().then(()=>{if(!m.zoomLocat){const te=Math.max(0,n.toNumber(e.marginSize)),oe=R(),{visibleHeight:se,visibleWidth:me}=Sn();m.zoomLocat={top:oe.offsetTop,left:oe.offsetLeft,width:oe.offsetWidth+(oe.style.width?0:1),height:oe.offsetHeight+(oe.style.height?0:1)},Object.assign(oe.style,{top:`${te}px`,left:`${te}px`,width:`${me-te*2}px`,height:`${se-te*2}px`}),ne()}}),ie=()=>{const{duration:te,remember:oe,showFooter:se}=e,{inited:me,visible:ye}=m,ge=V.value;return me||(m.inited=!0),ye||(oe||q(),m.visible=!0,m.contentVisible=!1,y(),jn.push(B),setTimeout(()=>{m.contentVisible=!0,ee(()=>{if(se){const Ue=p.value,_e=d.value,Pe=Ue||_e;Pe&&Pe.focus()}const Ye={type:""};c("update:modelValue",!0),$.dispatchEvent("show",Ye)})},10),ge?(ve(),te!==-1&&setTimeout(()=>N("close"),n.toNumber(te))):ee(()=>{const{fullscreen:Ae}=e,{firstOpen:Ye}=m;(!oe||Ye)&&O().then(()=>{setTimeout(()=>O(),20)}),Ye?(m.firstOpen=!1,ue()?Ce():Ae&&ee(()=>re())):Ae&&ee(()=>re())})),ee()},Q=te=>{const oe=C.value;e.maskClosable&&te.target===oe&&N("mask")},L=te=>{if(vt(te,pt.ESCAPE)){const se=n.max(jn,me=>me.reactData.modalZindex);se&&setTimeout(()=>{se===B&&se.props.escClosable&&N("exit")},10)}},w=()=>!!m.zoomLocat,S=()=>ee().then(()=>{const{zoomLocat:te}=m;if(te){const oe=R();m.zoomLocat=null,Object.assign(oe.style,{top:`${te.top}px`,left:`${te.left}px`,width:`${te.width}px`,height:`${te.height}px`}),ne()}}),j=()=>m.zoomLocat?S().then(()=>w()):re().then(()=>w()),G=te=>{const{zoomLocat:oe}=m,se={type:oe?"revert":"max"};return j().then(()=>{$.dispatchEvent("zoom",se,te)})},fe=()=>{if(!V.value){const oe=R();if(oe)return{top:oe.offsetTop,left:oe.offsetLeft}}return null},ke=(te,oe)=>{if(!V.value){const me=R();n.isNumber(te)&&(me.style.top=`${te}px`),n.isNumber(oe)&&(me.style.left=`${oe}px`)}return ee()},he=()=>{const{modalZindex:te}=m;jn.some(oe=>oe.reactData.visible&&oe.reactData.modalZindex>te)&&y()},Ve=te=>{const{remember:oe,storage:se}=e,{zoomLocat:me}=m,ye=n.toNumber(e.marginSize),ge=R();if(!me&&te.button===0&&!yt(te,ge,"trigger--btn").flag){te.preventDefault();const Ae=document.onmousemove,Ye=document.onmouseup,Ue=te.clientX-ge.offsetLeft,_e=te.clientY-ge.offsetTop,{visibleHeight:Pe,visibleWidth:Fe}=Sn();document.onmousemove=Y=>{Y.preventDefault();const ae=ge.offsetWidth,Re=ge.offsetHeight,Oe=ye,A=Fe-ae-ye-1,U=ye,xe=Pe-Re-ye-1;let Be=Y.clientX-Ue,He=Y.clientY-_e;Be>A&&(Be=A),Be<Oe&&(Be=Oe),He>xe&&(He=xe),He<U&&(He=U),ge.style.left=`${Be}px`,ge.style.top=`${He}px`,ge.className=ge.className.replace(/\s?is--drag/,"")+" is--drag",c("move",{type:"move",$event:Y})},document.onmouseup=()=>{document.onmousemove=Ae,document.onmouseup=Ye,oe&&se&&ee(()=>{ne()}),setTimeout(()=>{ge.className=ge.className.replace(/\s?is--drag/,"")},50)}}},$e=te=>{te.preventDefault();const{remember:oe,storage:se}=e,{visibleHeight:me,visibleWidth:ye}=Sn(),ge=n.toNumber(e.marginSize),Ye=te.target.getAttribute("type"),Ue=n.toNumber(e.minWidth),_e=n.toNumber(e.minHeight),Pe=ye,Fe=me,Y=R(),ae=document.onmousemove,Re=document.onmouseup,Oe=Y.clientWidth,A=Y.clientHeight,U=te.clientX,xe=te.clientY,Be=Y.offsetTop,He=Y.offsetLeft,qe={type:"resize"};document.onmousemove=Qe=>{Qe.preventDefault();let et,ot,Je,it;switch(Ye){case"wl":et=U-Qe.clientX,Je=et+Oe,He-et>ge&&Je>Ue&&(Y.style.width=`${Je<Pe?Je:Pe}px`,Y.style.left=`${He-et}px`);break;case"swst":et=U-Qe.clientX,ot=xe-Qe.clientY,Je=et+Oe,it=ot+A,He-et>ge&&Je>Ue&&(Y.style.width=`${Je<Pe?Je:Pe}px`,Y.style.left=`${He-et}px`),Be-ot>ge&&it>_e&&(Y.style.height=`${it<Fe?it:Fe}px`,Y.style.top=`${Be-ot}px`);break;case"swlb":et=U-Qe.clientX,ot=Qe.clientY-xe,Je=et+Oe,it=ot+A,He-et>ge&&Je>Ue&&(Y.style.width=`${Je<Pe?Je:Pe}px`,Y.style.left=`${He-et}px`),Be+it+ge<me&&it>_e&&(Y.style.height=`${it<Fe?it:Fe}px`);break;case"st":ot=xe-Qe.clientY,it=A+ot,Be-ot>ge&&it>_e&&(Y.style.height=`${it<Fe?it:Fe}px`,Y.style.top=`${Be-ot}px`);break;case"wr":et=Qe.clientX-U,Je=et+Oe,He+Je+ge<ye&&Je>Ue&&(Y.style.width=`${Je<Pe?Je:Pe}px`);break;case"sest":et=Qe.clientX-U,ot=xe-Qe.clientY,Je=et+Oe,it=ot+A,He+Je+ge<ye&&Je>Ue&&(Y.style.width=`${Je<Pe?Je:Pe}px`),Be-ot>ge&&it>_e&&(Y.style.height=`${it<Fe?it:Fe}px`,Y.style.top=`${Be-ot}px`);break;case"selb":et=Qe.clientX-U,ot=Qe.clientY-xe,Je=et+Oe,it=ot+A,He+Je+ge<ye&&Je>Ue&&(Y.style.width=`${Je<Pe?Je:Pe}px`),Be+it+ge<me&&it>_e&&(Y.style.height=`${it<Fe?it:Fe}px`);break;case"sb":ot=Qe.clientY-xe,it=ot+A,Be+it+ge<me&&it>_e&&(Y.style.height=`${it<Fe?it:Fe}px`);break}Y.className=Y.className.replace(/\s?is--drag/,"")+" is--drag",oe&&se&&ne(),$.dispatchEvent("resize",qe,Qe)},document.onmouseup=()=>{m.zoomLocat=null,document.onmousemove=ae,document.onmouseup=Re,setTimeout(()=>{Y.className=Y.className.replace(/\s?is--drag/,"")},50)}};$={dispatchEvent(te,oe,se){c(te,Object.assign({$modal:B,$event:se},oe))},open:ie,close(){return N("close")},getBox:R,getPosition:fe,setPosition:ke,isMaximized:w,zoom:j,maximize:re,revert:S},Object.assign(B,$);const ce=()=>{const{slots:te={},showClose:oe,showZoom:se,title:me}=e,{zoomLocat:ye}=m,ge=l.title||te.title,Ae=l.corner||te.corner,Ye=[r("div",{class:"vxe-modal--header-title"},ge?Vt(ge({$modal:B})):me?Ht(me):f.i18n("vxe.alert.title"))],Ue=[];return Ae&&Ue.push(r("span",{class:"vxe-modal--corner-wrapper"},Vt(Ae({$modal:B})))),se&&Ue.push(r("i",{class:["vxe-modal--zoom-btn","trigger--btn",ye?f.icon.MODAL_ZOOM_OUT:f.icon.MODAL_ZOOM_IN],title:f.i18n(`vxe.modal.zoom${ye?"Out":"In"}`),onClick:G})),oe&&Ue.push(r("i",{class:["vxe-modal--close-btn","trigger--btn",f.icon.MODAL_CLOSE],title:f.i18n("vxe.modal.close"),onClick:H})),Ye.push(r("div",{class:"vxe-modal--header-right"},Ue)),Ye},P=()=>{const{slots:te={},showZoom:oe,draggable:se}=e,me=V.value,ye=l.header||te.header,ge=[];if(e.showHeader){const Ae={};se&&(Ae.onMousedown=Ve),oe&&e.dblclickZoom&&e.type==="modal"&&(Ae.onDblclick=G),ge.push(r("div",Object.assign({class:["vxe-modal--header",{"is--draggable":se,"is--ellipsis":!me&&e.showTitleOverflow}]},Ae),ye?!m.inited||e.destroyOnClose&&!m.visible?[]:Vt(ye({$modal:B})):ce()))}return ge},Z=()=>{const{slots:te={},status:oe,message:se}=e,me=e.content||se,ye=V.value,ge=l.default||te.default,Ae=[];return oe&&Ae.push(r("div",{class:"vxe-modal--status-wrapper"},[r("i",{class:["vxe-modal--status-icon",e.iconStatus||f.icon[`MODAL_${oe}`.toLocaleUpperCase()]]})])),Ae.push(r("div",{class:"vxe-modal--content"},ge?!m.inited||e.destroyOnClose&&!m.visible?[]:Vt(ge({$modal:B})):Ht(me))),ye||Ae.push(r(ls,{class:"vxe-modal--loading",modelValue:e.loading})),[r("div",{class:"vxe-modal--body"},Ae)]},le=()=>{const{showCancelButton:te,showConfirmButton:oe,type:se}=e,me=[];return(n.isBoolean(te)?te:se==="confirm")&&me.push(r(po,{key:1,ref:d,content:e.cancelButtonText||f.i18n("vxe.button.cancel"),onClick:F})),(n.isBoolean(oe)?oe:se==="confirm"||se==="alert")&&me.push(r(po,{key:2,ref:p,status:"primary",content:e.confirmButtonText||f.i18n("vxe.button.confirm"),onClick:I})),me},pe=()=>{const{slots:te={}}=e,oe=V.value,se=l.footer||te.footer,me=[];return e.showFooter&&me.push(r("div",{class:"vxe-modal--footer"},se?!m.inited||e.destroyOnClose&&!m.visible?[]:Vt(se({$modal:B})):le())),!oe&&e.resize&&me.push(r("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(ye=>r("span",{class:`${ye}-resize`,type:ye,onMousedown:$e})))),me},De=()=>{const{className:te,type:oe,animat:se,loading:me,status:ye,lockScroll:ge,lockView:Ae,mask:Ye,resize:Ue}=e,{inited:_e,zoomLocat:Pe,modalTop:Fe,contentVisible:Y,visible:ae}=m,Re=g.value;return r(Un,{to:"body",disabled:e.transfer?!_e:!0},[r("div",{ref:C,class:["vxe-modal--wrapper",`type--${oe}`,te||"",{[`size--${Re}`]:Re,[`status--${ye}`]:ye,"is--animat":se,"lock--scroll":ge,"lock--view":Ae,"is--resize":Ue,"is--mask":Ye,"is--maximize":Pe,"is--visible":Y,"is--active":ae,"is--loading":me}],style:{zIndex:m.modalZindex,top:Fe?`${Fe}px`:null},onClick:Q},[r("div",{ref:i,class:"vxe-modal--box",onMousedown:he},P().concat(Z(),pe()))])])};return B.renderVN=De,ut(()=>e.width,q),ut(()=>e.height,q),ut(()=>e.modelValue,te=>{te?ie():N("model")}),go(()=>{e.type==="modal"&&e.showFooter&&!(e.showConfirmButton||e.showCancelButton||l.footer)&&st("vxe.modal.footPropErr"),ee(()=>{e.storage&&!e.id&&nt("vxe.error.reqProp",["modal.id"]),e.modelValue&&ie(),q()}),e.escClosable&&mt.on(B,"keydown",L)}),io(()=>{mt.off(B,"keydown"),k()}),B},render(){return this.renderVN()}});function _c(e){if(e){const t=new Date;let l=0,c=0,h=0;if(n.isDate(e))l=e.getHours(),c=e.getMinutes(),h=e.getSeconds();else{e=n.toValueString(e);const g=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);g&&(l=n.toNumber(g[1]),c=n.toNumber(g[3]),h=n.toNumber(g[5]))}return t.setHours(l),t.setMinutes(c),t.setSeconds(h),t}return new Date("")}function Nr(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}function ol(e){return n.isString(e)?e.replace(/,/g,""):e}function Lr(e,t){return/^-/.test(""+e)?n.toFixed(n.ceil(e,t),t):n.toFixed(n.floor(e,t),t)}const an=12,qc=20,Gc=8,pn=kt({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>f.input.clearable},readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>n.eqNull(f.input.placeholder)?f.i18n("vxe.base.pleaseInput"):f.input.placeholder},maxlength:[String,Number],autocomplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>f.input.size||f.size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>f.input.exponential},controls:{type:Boolean,default:()=>f.input.controls},digits:{type:[String,Number],default:()=>f.input.digits},startDate:{type:[String,Number,Date],default:()=>f.input.startDate},endDate:{type:[String,Number,Date],default:()=>f.input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>f.input.startDay},labelFormat:{type:String,default:()=>f.input.labelFormat},valueFormat:{type:String,default:()=>f.input.valueFormat},editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>f.input.festivalMethod},disabledMethod:{type:Function,default:()=>f.input.disabledMethod},selectDay:{type:[String,Number],default:()=>f.input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:()=>f.input.transfer}},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:l,emit:c}=t,h=bt("$xeform",null),g=bt("$xeformiteminfo",null),m=n.uniqueId(),C=Qt(e),i=qt({inited:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,animatVisible:!1,panelStyle:null,panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),p=We(),d=We(),x=We(),B=We(),$={refElem:p,refInput:d},V={xID:m,props:e,context:t,reactData:i,getRefMaps:()=>$};let R={};const q=(v,J)=>{const{type:de}=e;return de==="time"?_c(v):n.toStringDate(v,J)},y=we(()=>{const{type:v}=e;return v==="time"||v==="datetime"}),O=we(()=>["number","integer","float"].indexOf(e.type)>-1),E=we(()=>n.getSize(i.inputValue)),k=we(()=>{const v=E.value;return e.maxlength&&v>n.toNumber(e.maxlength)}),N=we(()=>y.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),H=we(()=>e.type==="password"),I=we(()=>e.type==="search"),F=we(()=>n.toInteger(e.digits)||1),z=we(()=>{const{type:v}=e,J=F.value,de=e.step;return v==="integer"?n.toInteger(de)||1:v==="float"?n.toNumber(de)||1/Math.pow(10,J):n.toNumber(de)||1}),ue=we(()=>{const{type:v}=e,J=O.value,de=N.value,Le=H.value;return e.clearable&&(Le||J||de||v==="text"||v==="search")}),Ce=we(()=>e.startDate?n.toStringDate(e.startDate):null),ve=we(()=>e.endDate?n.toStringDate(e.endDate):null),ne=we(()=>["date","week","month","quarter","year"].includes(e.type)),re=we(()=>{const{modelValue:v,multiple:J}=e,de=N.value,Le=L.value;return J&&v&&de?n.toValueString(v).split(",").map(Xe=>{const je=q(Xe,Le);return n.isValidDate(je)?je:null}):[]}),ie=we(()=>{const v=re.value,J=L.value;return v.map(de=>n.toDateString(de,J))}),Q=we(()=>{const v=re.value,J=ke.value;return v.map(de=>n.toDateString(de,J)).join(", ")}),L=we(()=>{const{type:v}=e;return v==="time"?"HH:mm:ss":e.valueFormat||(v==="datetime"?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),w=we(()=>{const{modelValue:v}=e,J=N.value,de=L.value;let Le=null;if(v&&J){const Xe=q(v,de);n.isValidDate(Xe)&&(Le=Xe)}return Le}),S=we(()=>{const v=Ce.value,{selectMonth:J}=i;return J&&v?J<=v:!1}),j=we(()=>{const v=ve.value,{selectMonth:J}=i;return J&&v?J>=v:!1}),G=we(()=>{const{datetimePanelValue:v}=i;return v?n.toDateString(v,"HH:mm:ss"):""}),fe=we(()=>{const v=w.value,J=y.value;return v&&J?(v.getHours()*3600+v.getMinutes()*60+v.getSeconds())*1e3:0}),ke=we(()=>N.value?e.labelFormat||f.i18n(`vxe.input.date.labelFormat.${e.type}`):null),he=we(()=>{const{selectMonth:v,currentDate:J}=i,de=[];if(v&&J){const Le=J.getFullYear(),Xe=v.getFullYear(),je=new Date(Xe-Xe%an,0,1);for(let tt=-4;tt<an+4;tt++){const o=n.getWhatYear(je,tt,"first"),s=o.getFullYear();de.push({date:o,isCurrent:!0,isPrev:tt<0,isNow:Le===s,isNext:tt>=an,year:s})}}return de}),Ve=we(()=>{if(N.value){const{datePanelType:J,selectMonth:de}=i,Le=he.value;let Xe="",je;return de&&(Xe=de.getFullYear(),je=de.getMonth()+1),J==="quarter"?f.i18n("vxe.input.date.quarterLabel",[Xe]):J==="month"?f.i18n("vxe.input.date.monthLabel",[Xe]):J==="year"?Le.length?`${Le[0].year} - ${Le[Le.length-1].year}`:"":f.i18n("vxe.input.date.dayLabel",[Xe,je?f.i18n(`vxe.input.date.m${je}`):"-"])}return""}),$e=we(()=>{const{startDay:v,startWeek:J}=e;return n.toNumber(n.isNumber(v)||n.isString(v)?v:J)}),ce=we(()=>{const v=[];if(N.value){let de=$e.value;v.push(de);for(let Le=0;Le<6;Le++)de>=6?de=0:de++,v.push(de)}return v}),P=we(()=>N.value?ce.value.map(de=>({value:de,label:f.i18n(`vxe.input.date.weeks.w${de}`)})):[]),Z=we(()=>{if(N.value){const J=P.value;return[{label:f.i18n("vxe.input.date.weeks.w")}].concat(J)}return[]}),le=we(()=>{const v=he.value;return n.chunk(v,4)}),pe=we(()=>{const{selectMonth:v,currentDate:J}=i,de=[];if(v&&J){const Le=J.getFullYear(),Xe=Nr(J),je=n.getWhatYear(v,0,"first"),tt=je.getFullYear();for(let o=-2;o<Gc-2;o++){const s=n.getWhatQuarter(je,o),a=s.getFullYear(),u=Nr(s),b=a<tt;de.push({date:s,isPrev:b,isCurrent:a===tt,isNow:a===Le&&u===Xe,isNext:!b&&a>tt,quarter:u})}}return de}),De=we(()=>{const v=pe.value;return n.chunk(v,2)}),te=we(()=>{const{selectMonth:v,currentDate:J}=i,de=[];if(v&&J){const Le=J.getFullYear(),Xe=J.getMonth(),je=n.getWhatYear(v,0,"first").getFullYear();for(let tt=-4;tt<qc-4;tt++){const o=n.getWhatYear(v,0,tt),s=o.getFullYear(),a=o.getMonth(),u=s<je;de.push({date:o,isPrev:u,isCurrent:s===je,isNow:s===Le&&a===Xe,isNext:!u&&s>je,month:a})}}return de}),oe=we(()=>{const v=te.value;return n.chunk(v,4)}),se=we(()=>{const{selectMonth:v,currentDate:J}=i,de=[];if(v&&J){const Le=fe.value,Xe=ce.value,je=J.getFullYear(),tt=J.getMonth(),o=J.getDate(),s=v.getFullYear(),a=v.getMonth(),u=v.getDay(),b=-Xe.indexOf(u),T=new Date(n.getWhatDay(v,b).getTime()+Le);for(let M=0;M<42;M++){const _=n.getWhatDay(T,M),W=_.getFullYear(),X=_.getMonth(),K=_.getDate(),be=_<v;de.push({date:_,isPrev:be,isCurrent:W===s&&X===a,isNow:W===je&&X===tt&&K===o,isNext:!be&&a!==X,label:K})}}return de}),me=we(()=>{const v=se.value;return n.chunk(v,7)}),ye=we(()=>{const v=me.value,J=$e.value;return v.map(de=>{const Le=de[0];return[{date:Le.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:n.getYearWeek(Le.date,J)}].concat(de)})}),ge=we(()=>{const v=[];if(y.value)for(let de=0;de<24;de++)v.push({value:de,label:(""+de).padStart(2,"0")});return v}),Ae=we(()=>{const v=[];if(y.value)for(let de=0;de<60;de++)v.push({value:de,label:(""+de).padStart(2,"0")});return v}),Ye=we(()=>Ae.value),Ue=we(()=>{const{type:v,readonly:J,editable:de,multiple:Le}=e;return J||Le||!de||v==="week"||v==="quarter"}),_e=we(()=>{const{type:v}=e,{showPwd:J}=i,de=O.value,Le=N.value,Xe=H.value;return Le||de||Xe&&J||v==="number"?"text":v}),Pe=we(()=>{const{placeholder:v}=e;return v?Ht(v):""}),Fe=we(()=>{const{maxlength:v}=e;return O.value&&!n.toNumber(v)?16:v}),Y=we(()=>{const{type:v,immediate:J}=e;return J||!(v==="text"||v==="number"||v==="integer"||v==="float")}),ae=we(()=>{const{type:v}=e,{inputValue:J}=i;return O.value?v==="integer"?n.toInteger(ol(J)):n.toNumber(ol(J)):0}),Re=we(()=>{const{min:v}=e,{inputValue:J}=i,de=O.value,Le=ae.value;return(J||J===0)&&de&&v!==null?Le<=n.toNumber(v):!1}),Oe=we(()=>{const{max:v}=e,{inputValue:J}=i,de=O.value,Le=ae.value;return(J||J===0)&&de&&v!==null?Le>=n.toNumber(v):!1}),A=v=>{const{type:J,exponential:de}=e,Le=Fe.value,Xe=F.value,je=J==="float"?Lr(v,Xe):n.toValueString(v);return de&&(v===je||n.toValueString(v).toLowerCase()===n.toNumber(je).toExponential())?v:je.slice(0,Le)},U=v=>{const{inputValue:J}=i;R.dispatchEvent(v.type,{value:J},v)},xe=(v,J)=>{i.inputValue=v,c("update:modelValue",v),R.dispatchEvent("input",{value:v},J),n.toValueString(e.modelValue)!==v&&(R.dispatchEvent("change",{value:v},J),h&&g&&h.triggerItemEvent(J,g.itemConfig.field,v))},Be=(v,J)=>{const de=N.value,Le=Y.value;i.inputValue=v,de||(Le?xe(v,J):R.dispatchEvent("input",{value:v},J))},He=v=>{const de=v.target.value;Be(de,v)},qe=v=>{Y.value||U(v)},Qe=v=>{i.isActivated=!0,N.value&&Mn(v),U(v)},et=v=>{const{disabled:J}=e;if(!J){const{inputValue:de}=i;R.dispatchEvent("prefix-click",{value:de},v)}};let ot;const Je=()=>new Promise(v=>{i.visiblePanel=!1,ot=window.setTimeout(()=>{i.animatVisible=!1,v()},350)}),it=(v,J)=>{const{type:de}=e,Le=O.value;N.value&&Je(),(Le||["text","search","password"].indexOf(de)>-1)&&focus(),R.dispatchEvent("clear",{value:J},v)},St=v=>{const{disabled:J}=e;if(!J)if(mn(v.currentTarget,"is--clear"))xe("",v),it(v,"");else{const{inputValue:de}=i;R.dispatchEvent("suffix-click",{value:de},v)}},D=v=>{const{type:J}=e,{valueFormat:de}=e,Le=ke.value,Xe=$e.value;let je=null,tt="";if(v&&(je=q(v,de)),n.isValidDate(je)){if(tt=n.toDateString(je,Le,{firstDay:Xe}),Le&&J==="week"&&n.getWhatWeek(je,0,Xe,Xe).getFullYear()<je.getFullYear()){const s=Le.indexOf("yyyy");if(s>-1){const a=Number(tt.substring(s,s+4));a&&!isNaN(a)&&(tt=tt.replace(`${a}`,`${a-1}`))}}}else je=null;i.datePanelValue=je,i.datePanelLabel=tt},Tt=()=>{const v=N.value,{inputValue:J}=i;v&&(D(J),i.inputValue=e.multiple?Q.value:i.datePanelLabel)},xt=()=>{const{type:v}=e,{inputValue:J}=i,de=N.value,Le=F.value;if(de)Tt();else if(v==="float"&&J){const Xe=Lr(J,Le);J!==Xe&&xe(Xe,{type:"init"})}},ht=v=>e.max===null||n.toNumber(v)<=n.toNumber(e.max),rt=v=>e.min===null||n.toNumber(v)>=n.toNumber(e.min),Mt=()=>{i.inputValue=e.multiple?Q.value:i.datePanelLabel},Ct=v=>{const J=n.getWhatMonth(v,0,"first");n.isEqual(J,i.selectMonth)||(i.selectMonth=J)},Nt=v=>{const{modelValue:J,multiple:de}=e,{datetimePanelValue:Le}=i,Xe=y.value,je=L.value,tt=$e.value;if(e.type==="week"){const s=n.toNumber(e.selectDay);v=n.getWhatWeek(v,0,s,tt)}else Xe&&(v.setHours(Le.getHours()),v.setMinutes(Le.getMinutes()),v.setSeconds(Le.getSeconds()));const o=n.toDateString(v,je,{firstDay:tt});if(Ct(v),de){const s=ie.value;if(Xe){const a=[...re.value],u=[],b=n.findIndexOf(a,T=>n.isDateSame(v,T,"yyyyMMdd"));b===-1?a.push(v):a.splice(b,1),a.forEach(T=>{T&&(T.setHours(Le.getHours()),T.setMinutes(Le.getMinutes()),T.setSeconds(Le.getSeconds()),u.push(T))}),xe(u.map(T=>n.toDateString(T,je)).join(","),{type:"update"})}else s.some(a=>n.isEqual(a,o))?xe(s.filter(a=>!n.isEqual(a,o)).join(","),{type:"update"}):xe(s.concat([o]).join(","),{type:"update"})}else n.isEqual(J,o)||xe(o,{type:"update"})},wt=()=>{const{type:v,min:J,max:de,exponential:Le}=e,{inputValue:Xe,datetimePanelValue:je}=i,tt=O.value,o=N.value,s=ke.value;if(!Ue.value){if(tt){if(Xe){let u=v==="integer"?n.toInteger(ol(Xe)):n.toNumber(ol(Xe));if(rt(u)?ht(u)||(u=de):u=J,Le){const b=n.toValueString(Xe).toLowerCase();b===n.toNumber(u).toExponential()&&(u=b)}xe(A(u),{type:"check"})}}else if(o)if(Xe){let u=q(Xe,s);if(n.isValidDate(u))if(v==="time")u=n.toDateString(u,s),Xe!==u&&xe(u,{type:"check"}),i.inputValue=u;else{let b=!1;const T=$e.value;if(v==="datetime"){const M=w.value;(Xe!==n.toDateString(M,s)||Xe!==n.toDateString(u,s))&&(b=!0,je.setHours(u.getHours()),je.setMinutes(u.getMinutes()),je.setSeconds(u.getSeconds()))}else b=!0;i.inputValue=n.toDateString(u,s,{firstDay:T}),b&&Nt(u)}else Mt()}else xe("",{type:"check"})}},Dt=v=>{const{inputValue:J}=i;Y.value||xe(J,v),wt(),i.visiblePanel||(i.isActivated=!1),R.dispatchEvent("blur",{value:J},v)},At=v=>{const{readonly:J,disabled:de}=e,{showPwd:Le}=i;!de&&!J&&(i.showPwd=!Le),R.dispatchEvent("toggle-visible",{visible:i.showPwd},v)},Wt=v=>{R.dispatchEvent("search-click",{},v)},Jt=(v,J)=>{const{min:de,max:Le,type:Xe}=e,{inputValue:je}=i,tt=z.value,o=Xe==="integer"?n.toInteger(ol(je)):n.toNumber(ol(je)),s=v?n.add(o,tt):n.subtract(o,tt);let a;rt(s)?ht(s)?a=s:a=Le:a=de,Be(A(a),J)};let Yt;const Ut=v=>{const{readonly:J,disabled:de}=e,Le=Re.value;clearTimeout(Yt),!de&&!J&&!Le&&Jt(!1,v),R.dispatchEvent("next-number",{value:i.inputValue},v)},to=v=>{Yt=window.setTimeout(()=>{Ut(v),to(v)},60)},$t=v=>{const{readonly:J,disabled:de}=e,Le=Oe.value;clearTimeout(Yt),!de&&!J&&!Le&&Jt(!0,v),R.dispatchEvent("prev-number",{value:i.inputValue},v)},Bt=v=>{const J=vt(v,pt.ARROW_UP),de=vt(v,pt.ARROW_DOWN);(J||de)&&(v.preventDefault(),J?$t(v):Ut(v))},jt=v=>{const{exponential:J,controls:de}=e;if(O.value){const Xe=v.ctrlKey,je=v.shiftKey,tt=v.altKey,o=v.keyCode;!Xe&&!je&&!tt&&(vt(v,pt.SPACEBAR)||(!J||o!==69)&&o>=65&&o<=90||o>=186&&o<=188||o>=191)&&v.preventDefault(),de&&Bt(v)}U(v)},Kt=v=>{U(v)},ro=()=>{clearTimeout(Yt)},Zt=v=>{Yt=window.setTimeout(()=>{$t(v),Zt(v)},60)},yo=v=>{if(ro(),v.button===0){const J=mn(v.currentTarget,"is--prev");J?$t(v):Ut(v),Yt=window.setTimeout(()=>{J?Zt(v):to(v)},500)}},Po=v=>{if(O.value&&e.controls&&i.isActivated){const de=v.deltaY;de>0?Ut(v):de<0&&$t(v),v.preventDefault()}U(v)},zo=(v,J)=>{i.selectMonth=n.getWhatMonth(v,J,"first")},Tn=()=>{const v=n.getWhatDay(Date.now(),0,"first");i.currentDate=v,zo(v,0)},hn=()=>{let{datePanelType:v}=i;v==="month"||v==="quarter"?v="year":v="month",i.datePanelType=v},Xn=v=>{const{type:J}=e,{datePanelType:de,selectMonth:Le,inputValue:Xe}=i,je=Xe;S.value||(J==="year"?i.selectMonth=n.getWhatYear(Le,-an,"first"):J==="month"||J==="quarter"?de==="year"?i.selectMonth=n.getWhatYear(Le,-an,"first"):i.selectMonth=n.getWhatYear(Le,-1,"first"):de==="year"?i.selectMonth=n.getWhatYear(Le,-an,"first"):de==="month"?i.selectMonth=n.getWhatYear(Le,-1,"first"):i.selectMonth=n.getWhatMonth(Le,-1,"first"),R.dispatchEvent("date-prev",{value:je,type:J},v))},Rn=v=>{Tn(),e.multiple||(Nt(i.currentDate),Je()),R.dispatchEvent("date-today",{type:e.type},v)},wo=v=>{const{type:J}=e,{datePanelType:de,selectMonth:Le,inputValue:Xe}=i,je=Xe;j.value||(J==="year"?i.selectMonth=n.getWhatYear(Le,an,"first"):J==="month"||J==="quarter"?de==="year"?i.selectMonth=n.getWhatYear(Le,an,"first"):i.selectMonth=n.getWhatYear(Le,1,"first"):de==="year"?i.selectMonth=n.getWhatYear(Le,an,"first"):de==="month"?i.selectMonth=n.getWhatYear(Le,1,"first"):i.selectMonth=n.getWhatMonth(Le,1,"first"),R.dispatchEvent("date-next",{value:je,type:J},v))},oo=v=>{const{disabledMethod:J}=e,{datePanelType:de}=i;return J&&J({type:de,viewType:de,date:v.date,$input:V})},No=v=>{const{type:J,multiple:de}=e,{datePanelType:Le}=i;J==="month"?Le==="year"?(i.datePanelType="month",Ct(v)):(Nt(v),de||Je()):J==="year"?(Nt(v),de||Je()):J==="quarter"?Le==="year"?(i.datePanelType="quarter",Ct(v)):(Nt(v),de||Je()):Le==="month"?(i.datePanelType=J==="week"?J:"day",Ct(v)):Le==="year"?(i.datePanelType="month",Ct(v)):(Nt(v),J==="datetime"||de||Je())},Lo=v=>{oo(v)||No(v.date)},Wo=v=>{oo({date:v})||(se.value.some(de=>n.isDateSame(de.date,v,"yyyyMMdd"))||Ct(v),D(v))},nn=v=>{oo({date:v})||(he.value.some(de=>n.isDateSame(de.date,v,"yyyy"))||Ct(v),D(v))},Uo=v=>{oo({date:v})||(pe.value.some(de=>n.isDateSame(de.date,v,"yyyyq"))||Ct(v),D(v))},Vo=v=>{oo({date:v})||(te.value.some(de=>n.isDateSame(de.date,v,"yyyyMM"))||Ct(v),D(v))},mo=v=>{if(!oo(v)){const{datePanelType:J}=i;J==="month"?Vo(v.date):J==="quarter"?Uo(v.date):J==="year"?nn(v.date):Wo(v.date)}},Ao=v=>{if(v){const J=v.offsetHeight,de=v.parentNode;de.scrollTop=v.offsetTop-J*4}},gn=v=>{i.datetimePanelValue=new Date(i.datetimePanelValue.getTime()),Ao(v.currentTarget)},Xo=(v,J)=>{i.datetimePanelValue.setHours(J.value),gn(v)},Ko=()=>{const{multiple:v}=e,{datetimePanelValue:J}=i,de=w.value,Le=y.value;if(Le){const Xe=L.value;if(v){const je=ie.value;if(Le){const tt=[...re.value],o=[];tt.forEach(s=>{s&&(s.setHours(J.getHours()),s.setMinutes(J.getMinutes()),s.setSeconds(J.getSeconds()),o.push(s))}),xe(o.map(s=>n.toDateString(s,Xe)).join(","),{type:"update"})}else xe(je.join(","),{type:"update"})}else Nt(de||i.currentDate)}Je()},$o=(v,J)=>{i.datetimePanelValue.setMinutes(J.value),gn(v)},vn=(v,J)=>{i.datetimePanelValue.setSeconds(J.value),gn(v)},Eo=v=>{const{isActivated:J,datePanelValue:de,datePanelType:Le}=i;if(J){v.preventDefault();const Xe=vt(v,pt.ARROW_LEFT),je=vt(v,pt.ARROW_UP),tt=vt(v,pt.ARROW_RIGHT),o=vt(v,pt.ARROW_DOWN);if(Le==="year"){let s=n.getWhatYear(de||Date.now(),0,"first");Xe?s=n.getWhatYear(s,-1):je?s=n.getWhatYear(s,-4):tt?s=n.getWhatYear(s,1):o&&(s=n.getWhatYear(s,4)),nn(s)}else if(Le==="quarter"){let s=n.getWhatQuarter(de||Date.now(),0,"first");Xe?s=n.getWhatQuarter(s,-1):je?s=n.getWhatQuarter(s,-2):tt?s=n.getWhatQuarter(s,1):o&&(s=n.getWhatQuarter(s,2)),Uo(s)}else if(Le==="month"){let s=n.getWhatMonth(de||Date.now(),0,"first");Xe?s=n.getWhatMonth(s,-1):je?s=n.getWhatMonth(s,-4):tt?s=n.getWhatMonth(s,1):o&&(s=n.getWhatMonth(s,4)),Vo(s)}else{let s=de||n.getWhatDay(Date.now(),0,"first");const a=$e.value;Xe?s=n.getWhatDay(s,-1):je?s=n.getWhatWeek(s,-1,a):tt?s=n.getWhatDay(s,1):o&&(s=n.getWhatWeek(s,1,a)),Wo(s)}}},eo=v=>{const{isActivated:J}=i;if(J){const de=vt(v,pt.PAGE_UP);v.preventDefault(),de?Xn(v):wo(v)}},ln=()=>{const{type:v}=e,J=y.value,de=w.value;["year","quarter","month","week"].indexOf(v)>-1?i.datePanelType=v:i.datePanelType="day",i.currentDate=n.getWhatDay(Date.now(),0,"first"),de?(zo(de,0),D(de)):Tn(),J&&(i.datetimePanelValue=i.datePanelValue||n.getWhatDay(Date.now(),0,"first"),ee(()=>{const Le=B.value;n.arrayEach(Le.querySelectorAll("li.is--selected"),Ao)}))},Lt=()=>{i.panelIndex<on()&&(i.panelIndex=Yo())},ao=()=>ee().then(()=>{const{transfer:v,placement:J}=e,{panelIndex:de}=i,Le=d.value,Xe=x.value;if(Le&&Xe){const je=Le.offsetHeight,tt=Le.offsetWidth,o=Xe.offsetHeight,s=Xe.offsetWidth,a=5,u={zIndex:de},{boundingTop:b,boundingLeft:T,visibleHeight:M,visibleWidth:_}=Qo(Le);let W="bottom";if(console.log(Qo(Le)),v){let X=T,K=b+je;J==="top"?(W="top",K=b-o):J||(K+o+a>M&&(W="top",K=b-o),K<a&&(W="bottom",K=b+je)),X+s+a>_&&(X-=X+s+a-_),X<a&&(X=a),Object.assign(u,{left:`${X}px`,top:`${K}px`,minWidth:`${tt}px`})}else J==="top"?(W="top",u.bottom=`${je}px`):J||b+je+o>M&&b-je-o>a&&(W="top",u.bottom=`${je}px`);return i.panelStyle=u,i.panelPlacement=W,ee()}}),_o=()=>{const{disabled:v}=e,{visiblePanel:J}=i,de=N.value;return!v&&!J?(i.inited||(i.inited=!0),clearTimeout(ot),i.isActivated=!0,i.animatVisible=!0,de&&ln(),setTimeout(()=>{i.visiblePanel=!0},10),Lt(),ao()):ee()},Mn=v=>{const{readonly:J}=e;J||(v.preventDefault(),_o())},bl=v=>{U(v)},ss=v=>{const{disabled:J}=e,{visiblePanel:de,isActivated:Le}=i,Xe=N.value,je=p.value,tt=x.value;!J&&Le&&(i.isActivated=yt(v,je).flag||yt(v,tt).flag,i.isActivated||(Xe?de&&(Je(),wt()):wt()))},Ns=v=>{const{clearable:J,disabled:de}=e,{visiblePanel:Le}=i,Xe=N.value;if(!de){const je=vt(v,pt.TAB),tt=vt(v,pt.DELETE),o=vt(v,pt.ESCAPE),s=vt(v,pt.ENTER),a=vt(v,pt.ARROW_LEFT),u=vt(v,pt.ARROW_UP),b=vt(v,pt.ARROW_RIGHT),T=vt(v,pt.ARROW_DOWN),M=vt(v,pt.PAGE_UP),_=vt(v,pt.PAGE_DOWN),W=a||u||b||T;let X=i.isActivated;je?(X&&wt(),X=!1,i.isActivated=X):W?Xe&&X&&(Le?Eo(v):(u||T)&&Mn(v)):s?Xe&&(Le?i.datePanelValue?No(i.datePanelValue):Je():X&&Mn(v)):(M||_)&&Xe&&X&&eo(v),je||o?Le&&Je():tt&&J&&X&&it(v,null)}},is=v=>{const{disabled:J}=e,{visiblePanel:de}=i;if(!J&&de){const Le=x.value;yt(v,Le).flag?ao():(Je(),wt())}},Kn=()=>{const{isActivated:v,visiblePanel:J}=i;J?(Je(),wt()):v&&wt()},sn=(v,J)=>{const{festivalMethod:de}=e;if(de){const{datePanelType:Le}=i,Xe=de({type:Le,viewType:Le,date:v.date,$input:V}),je=Xe?n.isString(Xe)?{label:Xe}:Xe:{},tt=je.extra?n.isString(je.extra)?{label:je.extra}:je.extra:null,o=[r("span",{class:["vxe-input--date-label",{"is-notice":je.notice}]},tt&&tt.label?[r("span",J),r("span",{class:["vxe-input--date-label--extra",tt.important?"is-important":"",tt.className],style:tt.style},n.toValueString(tt.label))]:J)],s=je.label;if(s){const a=n.toValueString(s).split(",");o.push(r("span",{class:["vxe-input--date-festival",je.important?"is-important":"",je.className],style:je.style},[a.length>1?r("span",{class:["vxe-input--date-festival--overlap",`overlap--${a.length}`]},a.map(u=>r("span",u.substring(0,3)))):r("span",{class:"vxe-input--date-festival--label"},a[0].substring(0,3))]))}return o}return J},Ls=()=>{const{multiple:v}=e,{datePanelType:J,datePanelValue:de}=i,Le=w.value,Xe=P.value,je=me.value,tt=re.value,o="yyyyMMdd";return[r("table",{class:`vxe-input--date-${J}-view`,cellspacing:0,cellpadding:0,border:0},[r("thead",[r("tr",Xe.map(s=>r("th",s.label)))]),r("tbody",je.map(s=>r("tr",s.map(a=>r("td",{class:{"is--prev":a.isPrev,"is--current":a.isCurrent,"is--now":a.isNow,"is--next":a.isNext,"is--disabled":oo(a),"is--selected":v?tt.some(u=>n.isDateSame(u,a.date,o)):n.isDateSame(Le,a.date,o),"is--hover":n.isDateSame(de,a.date,o)},onClick:()=>Lo(a),onMouseenter:()=>mo(a)},sn(a,a.label))))))])]},rs=()=>{const{multiple:v}=e,{datePanelType:J,datePanelValue:de}=i,Le=w.value,Xe=Z.value,je=ye.value,tt=re.value,o="yyyyMMdd";return[r("table",{class:`vxe-input--date-${J}-view`,cellspacing:0,cellpadding:0,border:0},[r("thead",[r("tr",Xe.map(s=>r("th",s.label)))]),r("tbody",je.map(s=>{const a=v?s.some(b=>tt.some(T=>n.isDateSame(T,b.date,o))):s.some(b=>n.isDateSame(Le,b.date,o)),u=s.some(b=>n.isDateSame(de,b.date,o));return r("tr",s.map(b=>r("td",{class:{"is--prev":b.isPrev,"is--current":b.isCurrent,"is--now":b.isNow,"is--next":b.isNext,"is--disabled":oo(b),"is--selected":a,"is--hover":u},onClick:()=>Lo(b),onMouseenter:()=>mo(b)},sn(b,b.label))))}))])]},Vs=()=>{const{multiple:v}=e,{datePanelType:J,datePanelValue:de}=i,Le=w.value,Xe=oe.value,je=re.value,tt="yyyyMM";return[r("table",{class:`vxe-input--date-${J}-view`,cellspacing:0,cellpadding:0,border:0},[r("tbody",Xe.map(o=>r("tr",o.map(s=>r("td",{class:{"is--prev":s.isPrev,"is--current":s.isCurrent,"is--now":s.isNow,"is--next":s.isNext,"is--disabled":oo(s),"is--selected":v?je.some(a=>n.isDateSame(a,s.date,tt)):n.isDateSame(Le,s.date,tt),"is--hover":n.isDateSame(de,s.date,tt)},onClick:()=>Lo(s),onMouseenter:()=>mo(s)},sn(s,f.i18n(`vxe.input.date.months.m${s.month}`)))))))])]},As=()=>{const{multiple:v}=e,{datePanelType:J,datePanelValue:de}=i,Le=w.value,Xe=De.value,je=re.value,tt="yyyyq";return[r("table",{class:`vxe-input--date-${J}-view`,cellspacing:0,cellpadding:0,border:0},[r("tbody",Xe.map(o=>r("tr",o.map(s=>r("td",{class:{"is--prev":s.isPrev,"is--current":s.isCurrent,"is--now":s.isNow,"is--next":s.isNext,"is--disabled":oo(s),"is--selected":v?je.some(a=>n.isDateSame(a,s.date,tt)):n.isDateSame(Le,s.date,tt),"is--hover":n.isDateSame(de,s.date,tt)},onClick:()=>Lo(s),onMouseenter:()=>mo(s)},sn(s,f.i18n(`vxe.input.date.quarters.q${s.quarter}`)))))))])]},$s=()=>{const{multiple:v}=e,{datePanelType:J,datePanelValue:de}=i,Le=w.value,Xe=le.value,je=re.value,tt="yyyy";return[r("table",{class:`vxe-input--date-${J}-view`,cellspacing:0,cellpadding:0,border:0},[r("tbody",Xe.map(o=>r("tr",o.map(s=>r("td",{class:{"is--prev":s.isPrev,"is--current":s.isCurrent,"is--now":s.isNow,"is--next":s.isNext,"is--disabled":oo(s),"is--selected":v?je.some(a=>n.isDateSame(a,s.date,tt)):n.isDateSame(Le,s.date,tt),"is--hover":n.isDateSame(de,s.date,tt)},onClick:()=>Lo(s),onMouseenter:()=>mo(s)},sn(s,s.year))))))])]},Bs=()=>{const{datePanelType:v}=i;switch(v){case"week":return rs();case"month":return Vs();case"quarter":return As();case"year":return $s()}return Ls()},as=()=>{const{multiple:v}=e,{datePanelType:J}=i,de=S.value,Le=j.value,Xe=Ve.value;return[r("div",{class:"vxe-input--date-picker-header"},[r("div",{class:"vxe-input--date-picker-type-wrapper"},[J==="year"?r("span",{class:"vxe-input--date-picker-label"},Xe):r("span",{class:"vxe-input--date-picker-btn",onClick:hn},Xe)]),r("div",{class:"vxe-input--date-picker-btn-wrapper"},[r("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":de}],onClick:Xn},[r("i",{class:"vxe-icon-caret-left"})]),r("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:Rn},[r("i",{class:"vxe-icon-dot"})]),r("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":Le}],onClick:wo},[r("i",{class:"vxe-icon-caret-right"})]),v&&ne.value?r("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[r("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:Ko},f.i18n("vxe.button.confirm"))]):null])]),r("div",{class:"vxe-input--date-picker-body"},Bs())]},cs=()=>{const{datetimePanelValue:v}=i,J=G.value,de=ge.value,Le=Ae.value,Xe=Ye.value;return[r("div",{class:"vxe-input--time-picker-header"},[r("span",{class:"vxe-input--time-picker-title"},J),r("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:Ko},f.i18n("vxe.button.confirm"))]),r("div",{ref:B,class:"vxe-input--time-picker-body"},[r("ul",{class:"vxe-input--time-picker-hour-list"},de.map((je,tt)=>r("li",{key:tt,class:{"is--selected":v&&v.getHours()===je.value},onClick:o=>Xo(o,je)},je.label))),r("ul",{class:"vxe-input--time-picker-minute-list"},Le.map((je,tt)=>r("li",{key:tt,class:{"is--selected":v&&v.getMinutes()===je.value},onClick:o=>$o(o,je)},je.label))),r("ul",{class:"vxe-input--time-picker-second-list"},Xe.map((je,tt)=>r("li",{key:tt,class:{"is--selected":v&&v.getSeconds()===je.value},onClick:o=>vn(o,je)},je.label)))])]},js=()=>{const{type:v,transfer:J}=e,{inited:de,animatVisible:Le,visiblePanel:Xe,panelPlacement:je,panelStyle:tt}=i,o=C.value,s=N.value,a=[];return s?(v==="datetime"?a.push(r("div",{class:"vxe-input--panel-layout-wrapper"},[r("div",{class:"vxe-input--panel-left-wrapper"},as()),r("div",{class:"vxe-input--panel-right-wrapper"},cs())])):v==="time"?a.push(r("div",{class:"vxe-input--panel-wrapper"},cs())):a.push(r("div",{class:"vxe-input--panel-wrapper"},as())),r(Un,{to:"body",disabled:J?!de:!0},[r("div",{ref:x,class:["vxe-table--ignore-clear vxe-input--panel",`type--${v}`,{[`size--${o}`]:o,"is--transfer":J,"animat--leave":Le,"animat--enter":Xe}],placement:je,style:tt},a)])):null},Hs=()=>{const v=Oe.value,J=Re.value;return r("span",{class:"vxe-input--number-suffix"},[r("span",{class:["vxe-input--number-prev is--prev",{"is--disabled":v}],onMousedown:yo,onMouseup:ro,onMouseleave:ro},[r("i",{class:["vxe-input--number-prev-icon",f.icon.INPUT_PREV_NUM]})]),r("span",{class:["vxe-input--number-next is--next",{"is--disabled":J}],onMousedown:yo,onMouseup:ro,onMouseleave:ro},[r("i",{class:["vxe-input--number-next-icon",f.icon.INPUT_NEXT_NUM]})])])},zs=()=>r("span",{class:"vxe-input--date-picker-suffix",onClick:Mn},[r("i",{class:["vxe-input--date-picker-icon",f.icon.INPUT_DATE]})]),Zn=()=>r("span",{class:"vxe-input--search-suffix",onClick:Wt},[r("i",{class:["vxe-input--search-icon",f.icon.INPUT_SEARCH]})]),xl=()=>{const{showPwd:v}=i;return r("span",{class:"vxe-input--password-suffix",onClick:At},[r("i",{class:["vxe-input--password-icon",v?f.icon.INPUT_SHOW_PWD:f.icon.INPUT_PWD]})])},ds=()=>{const{prefixIcon:v}=e,J=l.prefix,de=[];return J?de.push(r("span",{class:"vxe-input--prefix-icon"},J({}))):v&&de.push(r("i",{class:["vxe-input--prefix-icon",v]})),de.length?r("span",{class:"vxe-input--prefix",onClick:et},de):null},Ws=()=>{const{disabled:v,suffixIcon:J}=e,{inputValue:de}=i,Le=l.suffix,Xe=ue.value,je=[];return Le?je.push(r("span",{class:"vxe-input--suffix-icon"},Le({}))):J&&je.push(r("i",{class:["vxe-input--suffix-icon",J]})),Xe&&je.push(r("i",{class:["vxe-input--clear-icon",f.icon.INPUT_CLEAR]})),je.length?r("span",{class:["vxe-input--suffix",{"is--clear":Xe&&!v&&!(de===""||n.eqNull(de))}],onClick:St},je):null},Cl=()=>{const{controls:v}=e,J=O.value,de=N.value,Le=H.value,Xe=I.value;let je;return Le?je=xl():J?v&&(je=Hs()):de?je=zs():Xe&&(je=Zn()),je?r("span",{class:"vxe-input--extra-suffix"},[je]):null};R={dispatchEvent(v,J,de){c(v,Object.assign({$input:V,$event:de},J))},focus(){const v=d.value;return i.isActivated=!0,v.focus(),ee()},blur(){return d.value.blur(),i.isActivated=!1,ee()},select(){return d.value.select(),i.isActivated=!1,ee()},showPanel:_o,hidePanel:Je,updatePlacement:ao},Object.assign(V,R),ut(()=>e.modelValue,v=>{i.inputValue=v,Tt()}),ut(()=>e.type,()=>{Object.assign(i,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),xt()}),ut(ke,()=>{N.value&&(D(i.datePanelValue),i.inputValue=e.multiple?Q.value:i.datePanelLabel)}),ee(()=>{mt.on(V,"mousewheel",is),mt.on(V,"mousedown",ss),mt.on(V,"keydown",Ns),mt.on(V,"blur",Kn)}),io(()=>{ro(),mt.off(V,"mousewheel"),mt.off(V,"mousedown"),mt.off(V,"keydown"),mt.off(V,"blur")}),xt();const yl=()=>{const{className:v,controls:J,type:de,align:Le,showWordCount:Xe,countMethod:je,name:tt,disabled:o,readonly:s,autocomplete:a}=e,{inputValue:u,visiblePanel:b,isActivated:T}=i,M=C.value,_=k.value,W=E.value,X=N.value,K=Ue.value,be=Fe.value,Me=_e.value,Ee=Pe.value,Ie=[],Te=ds(),Ne=Ws();Te&&Ie.push(Te),Ie.push(r("input",{ref:d,class:"vxe-input--inner",value:u,name:tt,type:Me,placeholder:Ee,maxlength:be,readonly:K,disabled:o,autocomplete:a,onKeydown:jt,onKeyup:Kt,onWheel:Po,onClick:bl,onInput:He,onChange:qe,onFocus:Qe,onBlur:Dt})),Ne&&Ie.push(Ne),Ie.push(Cl()),X&&Ie.push(js());let Se=!1;return Xe&&["text","search"].includes(de)&&(Se=!0,Ie.push(r("span",{class:["vxe-input--count",{"is--error":_}]},je?`${je({value:u})}`:`${W}${be?`/${be}`:""}`))),r("div",{ref:p,class:["vxe-input",`type--${de}`,v,{[`size--${M}`]:M,[`is--${Le}`]:Le,"is--controls":J,"is--prefix":!!Te,"is--suffix":!!Ne,"is--readonly":s,"is--visivle":b,"is--count":Se,"is--disabled":o,"is--active":T}]},Ie)};return V.renderVN=yl,V},render(){return this.renderVN()}}),Do=kt({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:Boolean,size:{type:String,default:()=>f.checkbox.size||f.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:c}=t,h=bt("$xeform",null),g=bt("$xeformiteminfo",null),C={xID:n.uniqueId(),props:e,context:t};let i={};const p=Qt(e),d=bt("$xecheckboxgroup",null),x=we(()=>d?n.includes(d.props.modelValue,e.label):e.modelValue===e.checkedValue),B=we(()=>{if(e.disabled)return!0;if(d){const{props:R}=d,{computeIsMaximize:q}=d.getComputeMaps(),y=q.value,O=x.value;return R.disabled||y&&!O}return!1}),$=R=>{const{checkedValue:q,uncheckedValue:y}=e;if(!B.value){const E=R.target.checked,k=E?q:y,N={checked:E,value:k,label:e.label};d?d.handleChecked(N,R):(c("update:modelValue",k),i.dispatchEvent("change",N,R),h&&g&&h.triggerItemEvent(R,g.itemConfig.field,k))}};i={dispatchEvent(R,q,y){c(R,Object.assign({$checkbox:C,$event:y},q))}},Object.assign(C,i);const V=()=>{const R=p.value,q=B.value,y=x.value,O=e.indeterminate;return r("label",{class:["vxe-checkbox",{[`size--${R}`]:R,"is--indeterminate":O,"is--disabled":q,"is--checked":y}],title:e.title},[r("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:q,checked:y,onChange:$}),r("span",{class:["vxe-checkbox--icon",O?"vxe-icon-checkbox-indeterminate":y?"vxe-icon-checkbox-checked":"vxe-icon-checkbox-unchecked"]}),r("span",{class:"vxe-checkbox--label"},l.default?l.default({}):Ht(e.content))])};return C.renderVN=V,C},render(){return this.renderVN()}});function Cn(e){return e.visible!==!1}function Yc(){return n.uniqueId("opt_")}const qn=kt({name:"VxeSelect",props:{modelValue:null,clearable:Boolean,placeholder:{type:String,default:()=>n.eqNull(f.select.placeholder)?f.i18n("vxe.base.pleaseSelect"):f.select.placeholder},loading:Boolean,disabled:Boolean,multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>f.select.multiCharOverflow},prefixIcon:String,placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:()=>f.select.size||f.size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,emptyText:String,optionId:{type:String,default:()=>f.select.optionId},optionKey:Boolean,transfer:{type:Boolean,default:()=>f.select.transfer}},emits:["update:modelValue","change","clear","blur","focus"],setup(e,t){const{slots:l,emit:c}=t,h=bt("$xeform",null),g=bt("$xeformiteminfo",null),m=n.uniqueId(),C=Qt(e),i=qt({inited:!1,staticOptions:[],fullGroupList:[],fullOptionList:[],visibleGroupList:[],visibleOptionList:[],remoteValueList:[],panelIndex:0,panelStyle:{},panelPlacement:null,currentOption:null,currentValue:null,visiblePanel:!1,animatVisible:!1,isActivated:!1,searchValue:"",searchLoading:!1}),p=We(),d=We(),x=We(),B=We(),$=We(),V={refElem:p},R={xID:m,props:e,context:t,reactData:i,getRefMaps:()=>V};let q={};const y=we(()=>e.optionProps||{}),O=we(()=>e.optionGroupProps||{}),E=we(()=>y.value.label||"label"),k=we(()=>y.value.value||"value"),N=we(()=>O.value.label||"label"),H=we(()=>O.value.options||"options"),I=we(()=>{const{modelValue:A,multiple:U,max:xe}=e;return U&&xe?(A?A.length:0)>=n.toNumber(xe):!1}),F=we(()=>Object.assign({},f.select.optionConfig,e.optionConfig)),z=we(()=>i.fullGroupList.some(A=>A.options&&A.options.length)),ue=we(()=>n.toNumber(e.multiCharOverflow)),Ce=(A,U)=>A&&(n.isString(A)&&(A=l[A]||null),n.isFunction(A))?Vt(A(U)):[],ve=A=>{const{fullOptionList:U,fullGroupList:xe}=i,Be=z.value,He=k.value;if(Be)for(let qe=0;qe<xe.length;qe++){const Qe=xe[qe];if(Qe.options)for(let et=0;et<Qe.options.length;et++){const ot=Qe.options[et];if(A===ot[He])return ot}}return U.find(qe=>A===qe[He])},ne=A=>{const{remoteValueList:U}=i,xe=E.value,Be=U.find(qe=>A===qe.key),He=Be?Be.result:null;return n.toValueString(He?He[xe]:A)},re=A=>{const U=E.value,xe=ve(A);return n.toValueString(xe?xe[U]:A)},ie=we(()=>{const{modelValue:A,multiple:U,remote:xe}=e,Be=ue.value;if(A&&U){const He=n.isArray(A)?A:[A];return xe?He.map(qe=>ne(qe)).join(", "):He.map(qe=>{const Qe=re(qe);return Be>0&&Qe.length>Be?`${Qe.substring(0,Be)}...`:Qe}).join(", ")}return xe?ne(A):re(A)}),Q=()=>F.value.keyField||e.optionId||"_X_OPTION_KEY",L=A=>{const U=A[Q()];return U?encodeURIComponent(U):""},w=()=>{const{filterable:A,filterMethod:U}=e,{fullOptionList:xe,fullGroupList:Be,searchValue:He}=i,qe=z.value,Qe=N.value,et=E.value;return qe?A&&U?i.visibleGroupList=Be.filter(ot=>Cn(ot)&&U({group:ot,option:null,searchValue:He})):A?i.visibleGroupList=Be.filter(ot=>Cn(ot)&&(!He||`${ot[Qe]}`.indexOf(He)>-1)):i.visibleGroupList=Be.filter(Cn):A&&U?i.visibleOptionList=xe.filter(ot=>Cn(ot)&&U({group:null,option:ot,searchValue:He})):A?i.visibleOptionList=xe.filter(ot=>Cn(ot)&&(!He||`${ot[et]}`.indexOf(He)>-1)):i.visibleOptionList=xe.filter(Cn),ee()},S=()=>{const{fullOptionList:A,fullGroupList:U}=i,xe=H.value,Be=Q(),He=qe=>{L(qe)||(qe[Be]=Yc())};U.length?U.forEach(qe=>{He(qe),qe[xe]&&qe[xe].forEach(He)}):A.length&&A.forEach(He),w()},j=A=>{const U=k.value;A&&(i.currentOption=A,i.currentValue=A[U])},G=(A,U)=>ee().then(()=>{if(A){const xe=B.value,He=$.value.querySelector(`[optid='${L(A)}']`);if(xe&&He){const qe=xe.offsetHeight,Qe=5;U?He.offsetTop+He.offsetHeight-xe.scrollTop>qe&&(xe.scrollTop=He.offsetTop+He.offsetHeight-qe):(He.offsetTop+Qe<xe.scrollTop||He.offsetTop+Qe>xe.scrollTop+xe.clientHeight)&&(xe.scrollTop=He.offsetTop-Qe)}}}),fe=()=>{i.panelIndex<on()&&(i.panelIndex=Yo())},ke=()=>ee().then(()=>{const{transfer:A,placement:U}=e,{panelIndex:xe}=i,Be=p.value,He=$.value;if(He&&Be){const qe=Be.offsetHeight,Qe=Be.offsetWidth,et=He.offsetHeight,ot=He.offsetWidth,Je=5,it={zIndex:xe},{boundingTop:St,boundingLeft:D,visibleHeight:Tt,visibleWidth:xt}=Qo(Be);let ht="bottom";if(A){let rt=D,Mt=St+qe;U==="top"?(ht="top",Mt=St-et):U||(Mt+et+Je>Tt&&(ht="top",Mt=St-et),Mt<Je&&(ht="bottom",Mt=St+qe)),rt+ot+Je>xt&&(rt-=rt+ot+Je-xt),rt<Je&&(rt=Je),Object.assign(it,{left:`${rt}px`,top:`${Mt}px`,minWidth:`${Qe}px`})}else U==="top"?(ht="top",it.bottom=`${qe}px`):U||St+qe+et>Tt&&St-qe-et>Je&&(ht="top",it.bottom=`${qe}px`);return i.panelStyle=it,i.panelPlacement=ht,ee()}});let he;const Ve=()=>{const{loading:A,disabled:U,filterable:xe}=e;!A&&!U&&(clearTimeout(he),i.inited||(i.inited=!0),i.isActivated=!0,i.animatVisible=!0,xe&&w(),setTimeout(()=>{const{modelValue:Be,multiple:He}=e,qe=ve(He&&Be?Be[0]:Be);i.visiblePanel=!0,qe&&(j(qe),G(qe)),me()},10),fe(),ke())},$e=()=>{i.searchValue="",i.searchLoading=!1,i.visiblePanel=!1,he=window.setTimeout(()=>{i.animatVisible=!1},350)},ce=(A,U)=>{U!==e.modelValue&&(c("update:modelValue",U),q.dispatchEvent("change",{value:U},A),h&&g&&h.triggerItemEvent(A,g.itemConfig.field,U))},P=(A,U)=>{i.remoteValueList=[],ce(A,U),q.dispatchEvent("clear",{value:U},A)},Z=(A,U)=>{P(U,null),$e()},le=(A,U,xe)=>{const{modelValue:Be,multiple:He}=e,{remoteValueList:qe}=i;if(He){let Qe;Be?Be.indexOf(U)===-1?Qe=Be.concat([U]):Qe=Be.filter(ot=>ot!==U):Qe=[U];const et=qe.find(ot=>ot.key===U);et?et.result=xe:qe.push({key:U,result:xe}),ce(A,Qe)}else i.remoteValueList=[{key:U,result:xe}],ce(A,U),$e()},pe=A=>{const{disabled:U}=e,{visiblePanel:xe}=i;if(!U&&xe){const Be=$.value;yt(A,Be).flag?ke():$e()}},De=A=>{const{disabled:U}=e,{visiblePanel:xe}=i;if(!U){const Be=p.value,He=$.value;i.isActivated=yt(A,Be).flag||yt(A,He).flag,xe&&!i.isActivated&&$e()}},te=(A,U)=>{const{visibleOptionList:xe,visibleGroupList:Be}=i,He=z.value,qe=k.value,Qe=H.value;let et,ot,Je,it;if(He)for(let St=0;St<Be.length;St++){const D=Be[St],Tt=D[Qe],xt=D.disabled;if(Tt)for(let ht=0;ht<Tt.length;ht++){const rt=Tt[ht],Mt=Cn(rt),Ct=xt||rt.disabled;if(!et&&!Ct&&(et=rt),it&&Mt&&!Ct&&(Je=rt,!U))return{offsetOption:Je};if(A===rt[qe]){if(it=rt,U)return{offsetOption:ot}}else Mt&&!Ct&&(ot=rt)}}else for(let St=0;St<xe.length;St++){const D=xe[St],Tt=D.disabled;if(!et&&!Tt&&(et=D),it&&!Tt&&(Je=D,!U))return{offsetOption:Je};if(A===D[qe]){if(it=D,U)return{offsetOption:ot}}else Tt||(ot=D)}return{firstOption:et}},oe=A=>{const{clearable:U,disabled:xe}=e,{visiblePanel:Be,currentValue:He,currentOption:qe}=i;if(!xe){const Qe=vt(A,pt.TAB),et=vt(A,pt.ENTER),ot=vt(A,pt.ESCAPE),Je=vt(A,pt.ARROW_UP),it=vt(A,pt.ARROW_DOWN),St=vt(A,pt.DELETE),D=vt(A,pt.SPACEBAR);if(Qe&&(i.isActivated=!1),Be)if(ot||Qe)$e();else if(et)A.preventDefault(),A.stopPropagation(),le(A,He,qe);else if(Je||it){A.preventDefault();let{firstOption:Tt,offsetOption:xt}=te(He,Je);!xt&&!ve(He)&&(xt=Tt),j(xt),G(xt,it)}else D&&A.preventDefault();else(Je||it||et||D)&&i.isActivated&&(A.preventDefault(),Ve());i.isActivated&&St&&U&&P(A,null)}},se=()=>{$e()},me=()=>{e.filterable&&ee(()=>{const A=x.value;A&&A.focus()})},ye=A=>{e.disabled||(i.isActivated=!0),q.dispatchEvent("focus",{},A)},ge=A=>{i.isActivated=!1,q.dispatchEvent("blur",{},A)},Ae=A=>{i.searchValue=A},Ye=()=>{i.isActivated=!0},Ue=A=>{const{$event:U}=A;vt(U,pt.ENTER)&&(U.preventDefault(),U.stopPropagation())},_e=n.debounce(function(){const{remote:A,remoteMethod:U}=e,{searchValue:xe}=i;A&&U?(i.searchLoading=!0,Promise.resolve(U({searchValue:xe})).then(()=>ee()).catch(()=>ee()).finally(()=>{i.searchLoading=!1,w()})):w()},350,{trailing:!0}),Pe=A=>{const{$event:U}=A;U.preventDefault(),i.visiblePanel?$e():Ve()},Fe=(A,U,xe)=>!!(U.disabled||xe&&xe.disabled||I.value&&!A),Y=(A,U)=>{const{optionKey:xe,modelValue:Be,multiple:He}=e,{currentValue:qe}=i,Qe=F.value,et=E.value,ot=k.value,Je=z.value,{useKey:it}=Qe,St=l.option;return A.map((D,Tt)=>{const{slots:xt,className:ht}=D,rt=D[ot],Mt=He?Be&&Be.indexOf(rt)>-1:Be===rt,Ct=!Je||Cn(D),Nt=Fe(Mt,D,U),wt=L(D),Dt=xt?xt.default:null,At={option:D,group:null,$select:R};return Ct?r("div",{key:it||xe?wt:Tt,class:["vxe-select-option",ht?n.isFunction(ht)?ht(At):ht:"",{"is--disabled":Nt,"is--selected":Mt,"is--hover":qe===rt}],optid:wt,onMousedown:Wt=>{Wt.button===0&&Wt.stopPropagation()},onClick:Wt=>{Nt||le(Wt,rt,D)},onMouseenter:()=>{Nt||j(D)}},St?Ce(St,At):Dt?Ce(Dt,At):Xt(Ht(D[et]))):null})},ae=()=>{const{optionKey:A}=e,{visibleGroupList:U}=i,xe=F.value,Be=N.value,He=H.value,{useKey:qe}=xe,Qe=l.option;return U.map((et,ot)=>{const{slots:Je,className:it}=et,St=L(et),D=et.disabled,Tt=Je?Je.default:null,xt={option:et,group:et,$select:R};return r("div",{key:qe||A?St:ot,class:["vxe-optgroup",it?n.isFunction(it)?it(xt):it:"",{"is--disabled":D}],optid:St},[r("div",{class:"vxe-optgroup--title"},Qe?Ce(Qe,xt):Tt?Ce(Tt,xt):Ht(et[Be])),r("div",{class:"vxe-optgroup--wrapper"},Y(et[He]||[],et))])})},Re=()=>{const{visibleGroupList:A,visibleOptionList:U,searchLoading:xe}=i,Be=z.value;if(xe)return[r("div",{class:"vxe-select--search-loading"},[r("i",{class:["vxe-select--search-icon",f.icon.SELECT_LOADED]}),r("span",{class:"vxe-select--search-text"},f.i18n("vxe.select.loadingText"))])];if(Be){if(A.length)return ae()}else if(U.length)return Y(U);return[r("div",{class:"vxe-select--empty-placeholder"},e.emptyText||f.i18n("vxe.select.emptyText"))]};q={dispatchEvent(A,U,xe){c(A,Object.assign({$select:R,$event:xe},U))},isPanelVisible(){return i.visiblePanel},togglePanel(){return i.visiblePanel?$e():Ve(),ee()},hidePanel(){return i.visiblePanel&&$e(),ee()},showPanel(){return i.visiblePanel||Ve(),ee()},refreshOption:w,focus(){const A=d.value;return i.isActivated=!0,A.blur(),ee()},blur(){return d.value.blur(),i.isActivated=!1,ee()}},Object.assign(R,q),ut(()=>i.staticOptions,A=>{A.some(U=>U.options&&U.options.length)?(i.fullOptionList=[],i.fullGroupList=A):(i.fullGroupList=[],i.fullOptionList=A||[]),S()}),ut(()=>e.options,A=>{i.fullGroupList=[],i.fullOptionList=A||[],S()}),ut(()=>e.optionGroups,A=>{i.fullOptionList=[],i.fullGroupList=A||[],S()}),go(()=>{ee(()=>{const{options:A,optionGroups:U}=e;U?i.fullGroupList=U:A&&(i.fullOptionList=A),S()}),mt.on(R,"mousewheel",pe),mt.on(R,"mousedown",De),mt.on(R,"keydown",oe),mt.on(R,"blur",se)}),io(()=>{mt.off(R,"mousewheel"),mt.off(R,"mousedown"),mt.off(R,"keydown"),mt.off(R,"blur")});const Oe=()=>{const{className:A,popupClassName:U,transfer:xe,disabled:Be,loading:He,filterable:qe}=e,{inited:Qe,isActivated:et,visiblePanel:ot}=i,Je=C.value,it=ie.value,St=l.default,D=l.header,Tt=l.footer,xt=l.prefix;return r("div",{ref:p,class:["vxe-select",A?n.isFunction(A)?A({$select:R}):A:"",{[`size--${Je}`]:Je,"is--visivle":ot,"is--disabled":Be,"is--filter":qe,"is--loading":He,"is--active":et}]},[r("div",{class:"vxe-select-slots",ref:"hideOption"},St?St({}):[]),r(pn,{ref:d,clearable:e.clearable,placeholder:e.placeholder,readonly:!0,disabled:Be,type:"text",prefixIcon:e.prefixIcon,suffixIcon:He?f.icon.SELECT_LOADED:ot?f.icon.SELECT_OPEN:f.icon.SELECT_CLOSE,modelValue:it,onClear:Z,onClick:Pe,onFocus:ye,onBlur:ge,onSuffixClick:Pe},xt?{prefix:()=>xt({})}:{}),r(Un,{to:"body",disabled:xe?!Qe:!0},[r("div",{ref:$,class:["vxe-table--ignore-clear vxe-select--panel",U?n.isFunction(U)?U({$select:R}):U:"",{[`size--${Je}`]:Je,"is--transfer":xe,"animat--leave":!He&&i.animatVisible,"animat--enter":!He&&ot}],placement:i.panelPlacement,style:i.panelStyle},Qe?[qe?r("div",{class:"vxe-select--panel-search"},[r(pn,{ref:x,class:"vxe-select-search--input",modelValue:i.searchValue,clearable:!0,placeholder:f.i18n("vxe.select.search"),prefixIcon:f.icon.INPUT_SEARCH,"onUpdate:modelValue":Ae,onFocus:Ye,onKeydown:Ue,onChange:_e,onSearch:_e})]):Et(),r("div",{class:"vxe-select--panel-wrapper"},[D?r("div",{class:"vxe-select--panel-header"},D({})):Et(),r("div",{class:"vxe-select--panel-body"},[r("div",{ref:B,class:"vxe-select-option--wrapper"},Re())]),Tt?r("div",{class:"vxe-select--panel-footer"},Tt({})):Et()])]:[])])])};return R.renderVN=Oe,Gt("$xeselect",R),R},render(){return this.renderVN()}}),Al=kt({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=bt("$xetable",{}),{computeExportOpts:l,computePrintOpts:c}=t.getComputeMaps(),h=qt({isAll:!1,isIndeterminate:!1,loading:!1}),g=We(),m=We(),C=We(),i=we(()=>{const{storeData:I}=e;return I.columns.every(F=>F.checked)}),p=we(()=>{const{defaultOptions:I}=e;return["html","xml","xlsx","pdf"].indexOf(I.type)>-1}),d=we(()=>{const{storeData:I,defaultOptions:F}=e;return!F.original&&F.mode==="current"&&(I.isPrint||["html","xlsx"].indexOf(F.type)>-1)}),x=we(()=>{const{defaultOptions:I}=e;return!I.original&&["xlsx"].indexOf(I.type)>-1}),B=I=>{const{storeData:F}=e,z=n.findTree(F.columns,ue=>ue===I);if(z&&z.parent){const{parent:ue}=z;ue.children&&ue.children.length&&(ue.checked=ue.children.every(Ce=>Ce.checked),ue.halfChecked=!ue.checked&&ue.children.some(Ce=>Ce.checked||Ce.halfChecked),B(ue))}},$=()=>{const{storeData:I}=e,F=I.columns;h.isAll=F.every(z=>z.disabled||z.checked),h.isIndeterminate=!h.isAll&&F.some(z=>!z.disabled&&(z.checked||z.halfChecked))},V=I=>{const F=!I.checked;n.eachTree([I],z=>{z.checked=F,z.halfChecked=!1}),B(I),$()},R=()=>{const{storeData:I}=e,F=!h.isAll;n.eachTree(I.columns,z=>{z.disabled||(z.checked=F,z.halfChecked=!1)}),h.isAll=F,$()},q=()=>{ee(()=>{const I=m.value,F=C.value,z=g.value,ue=I||F||z;ue&&ue.focus()}),$()},y=()=>{const{storeData:I,defaultOptions:F}=e,{hasMerge:z,columns:ue}=I,Ce=i.value,ve=d.value,ne=n.searchTree(ue,re=>re.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},F,{columns:ne,isMerge:z&&ve&&Ce?F.isMerge:!1})},O=()=>{const{storeData:I}=e,F=c.value;I.visible=!1,t.print(Object.assign({},F,y()))},E=()=>{const{storeData:I}=e,F=l.value;h.loading=!0,t.exportData(Object.assign({},F,y())).then(()=>{h.loading=!1,I.visible=!1}).catch(()=>{h.loading=!1})},k=()=>{const{storeData:I}=e;I.visible=!1},N=()=>{const{storeData:I}=e;I.isPrint?O():E()};return()=>{const{defaultOptions:I,storeData:F}=e,{isAll:z,isIndeterminate:ue}=h,{hasTree:Ce,hasMerge:ve,isPrint:ne,hasColgroup:re}=F,{isHeader:ie}=I,Q=[],L=i.value,w=p.value,S=d.value,j=x.value;return n.eachTree(F.columns,G=>{const fe=Xt(G.getTitle(),1),ke=G.children&&G.children.length,he=G.checked,Ve=G.halfChecked;Q.push(r("li",{class:["vxe-export--panel-column-option",`level--${G.level}`,{"is--group":ke,"is--checked":he,"is--indeterminate":Ve,"is--disabled":G.disabled}],title:fe,onClick:()=>{G.disabled||V(G)}},[r("span",{class:["vxe-checkbox--icon",Ve?f.icon.TABLE_CHECKBOX_INDETERMINATE:he?f.icon.TABLE_CHECKBOX_CHECKED:f.icon.TABLE_CHECKBOX_UNCHECKED]}),r("span",{class:"vxe-checkbox--label"},fe)]))}),r(On,{modelValue:F.visible,title:f.i18n(ne?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:h.loading,"onUpdate:modelValue"(G){F.visible=G},onShow:q},{default:()=>r("div",{class:"vxe-export--panel"},[r("table",{cellspacing:0,cellpadding:0,border:0},[r("tbody",[[ne?Et():r("tr",[r("td",f.i18n("vxe.export.expName")),r("td",[r(pn,{ref:m,modelValue:I.filename,type:"text",clearable:!0,placeholder:f.i18n("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(G){I.filename=G}})])]),ne?Et():r("tr",[r("td",f.i18n("vxe.export.expType")),r("td",[r(qn,{modelValue:I.type,options:F.typeList.map(G=>({value:G.value,label:f.i18n(G.label)})),"onUpdate:modelValue"(G){I.type=G}})])]),ne||w?r("tr",[r("td",f.i18n("vxe.export.expSheetName")),r("td",[r(pn,{ref:C,modelValue:I.sheetName,type:"text",clearable:!0,placeholder:f.i18n("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(G){I.sheetName=G}})])]):Et(),r("tr",[r("td",f.i18n("vxe.export.expMode")),r("td",[r(qn,{modelValue:I.mode,options:F.modeList.map(G=>({value:G.value,label:f.i18n(G.label)})),"onUpdate:modelValue"(G){I.mode=G}})])]),r("tr",[r("td",[f.i18n("vxe.export.expColumn")]),r("td",[r("div",{class:"vxe-export--panel-column"},[r("ul",{class:"vxe-export--panel-column-header"},[r("li",{class:["vxe-export--panel-column-option",{"is--checked":z,"is--indeterminate":ue}],title:f.i18n("vxe.table.allTitle"),onClick:R},[r("span",{class:["vxe-checkbox--icon",ue?f.icon.TABLE_CHECKBOX_INDETERMINATE:z?f.icon.TABLE_CHECKBOX_CHECKED:f.icon.TABLE_CHECKBOX_UNCHECKED]}),r("span",{class:"vxe-checkbox--label"},f.i18n("vxe.export.expCurrentColumn"))])]),r("ul",{class:"vxe-export--panel-column-body"},Q)])])]),r("tr",[r("td",f.i18n("vxe.export.expOpts")),r("td",[r("div",{class:"vxe-export--panel-option-row"},[r(Do,{modelValue:I.isHeader,title:f.i18n("vxe.export.expHeaderTitle"),content:f.i18n("vxe.export.expOptHeader"),"onUpdate:modelValue"(G){I.isHeader=G}}),r(Do,{modelValue:I.isFooter,disabled:!F.hasFooter,title:f.i18n("vxe.export.expFooterTitle"),content:f.i18n("vxe.export.expOptFooter"),"onUpdate:modelValue"(G){I.isFooter=G}}),r(Do,{modelValue:I.original,title:f.i18n("vxe.export.expOriginalTitle"),content:f.i18n("vxe.export.expOptOriginal"),"onUpdate:modelValue"(G){I.original=G}})]),r("div",{class:"vxe-export--panel-option-row"},[r(Do,{modelValue:ie&&re&&S?I.isColgroup:!1,title:f.i18n("vxe.export.expColgroupTitle"),disabled:!ie||!re||!S,content:f.i18n("vxe.export.expOptColgroup"),"onUpdate:modelValue"(G){I.isColgroup=G}}),r(Do,{modelValue:ve&&S&&L?I.isMerge:!1,title:f.i18n("vxe.export.expMergeTitle"),disabled:!ve||!S||!L,content:f.i18n("vxe.export.expOptMerge"),"onUpdate:modelValue"(G){I.isMerge=G}}),ne?Et():r(Do,{modelValue:j?I.useStyle:!1,disabled:!j,title:f.i18n("vxe.export.expUseStyleTitle"),content:f.i18n("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(G){I.useStyle=G}}),r(Do,{modelValue:Ce?I.isAllExpand:!1,disabled:!Ce,title:f.i18n("vxe.export.expAllExpandTitle"),content:f.i18n("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(G){I.isAllExpand=G}})])])])]])]),r("div",{class:"vxe-export--panel-btns"},[r(po,{content:f.i18n("vxe.export.expCancel"),onClick:k}),r(po,{ref:g,status:"primary",content:f.i18n(ne?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:N})])])})}}}),Gn=kt({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,name:String,strict:{type:Boolean,default:()=>f.radio.strict},size:{type:String,default:()=>f.radio.size||f.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:c}=t,h=bt("$xeform",null),g=bt("$xeformiteminfo",null),C={xID:n.uniqueId(),props:e,context:t},i=Qt(e),p=bt("$xeradiogroup",null);let d={};const x=we(()=>e.disabled||p&&p.props.disabled),B=we(()=>p?p.name:e.name),$=we(()=>p?p.props.strict:e.strict),V=we(()=>{const{modelValue:E,label:k}=e;return p?p.props.modelValue===k:E===k}),R=(E,k)=>{p?p.handleChecked({label:E},k):(c("update:modelValue",E),d.dispatchEvent("change",{label:E},k),h&&g&&h.triggerItemEvent(k,g.itemConfig.field,E))},q=E=>{x.value||R(e.label,E)},y=E=>{const k=x.value,N=$.value;!k&&!N&&e.label===(p?p.props.modelValue:e.modelValue)&&R(null,E)};d={dispatchEvent(E,k,N){c(E,Object.assign({$radio:C,$event:N},k))}},Object.assign(C,d);const O=()=>{const E=i.value,k=x.value,N=B.value,H=V.value;return r("label",{class:["vxe-radio",{[`size--${E}`]:E,"is--checked":H,"is--disabled":k}],title:e.title},[r("input",{class:"vxe-radio--input",type:"radio",name:N,checked:H,disabled:k,onChange:q,onClick:y}),r("span",{class:["vxe-radio--icon",H?"vxe-icon-radio-checked":"vxe-icon-radio-unchecked"]}),r("span",{class:"vxe-radio--label"},l.default?l.default({}):Ht(e.content))])};return C.renderVN=O,C},render(){return this.renderVN()}}),dl=kt({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,strict:{type:Boolean,default:()=>f.radioButton.strict},size:{type:String,default:()=>f.radioButton.size||f.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:c}=t,h=bt("$xeform",null),g=bt("$xeformiteminfo",null),m=n.uniqueId(),C=Qt(e),i={xID:m,props:e,context:t};let p={};const d=bt("$xeradiogroup",null),x=we(()=>e.disabled||d&&d.props.disabled),B=we(()=>d?d.name:null),$=we(()=>d?d.props.strict:e.strict),V=we(()=>{const{modelValue:E,label:k}=e;return d?d.props.modelValue===k:E===k});p={dispatchEvent(E,k,N){c(E,Object.assign({$radioButton:i,$event:N},k))}},Object.assign(i,p);const R=(E,k)=>{d?d.handleChecked({label:E},k):(c("update:modelValue",E),p.dispatchEvent("change",{label:E},k),h&&g&&h.triggerItemEvent(k,g.itemConfig.field,E))},q=E=>{x.value||R(e.label,E)},y=E=>{const k=x.value,N=$.value;!k&&!N&&e.label===(d?d.props.modelValue:e.modelValue)&&R(null,E)},O=()=>{const E=C.value,k=x.value,N=B.value,H=V.value;return r("label",{class:["vxe-radio","vxe-radio-button",{[`size--${E}`]:E,"is--disabled":k}],title:e.title},[r("input",{class:"vxe-radio--input",type:"radio",name:N,checked:H,disabled:k,onChange:q,onClick:y}),r("span",{class:"vxe-radio--label"},l.default?l.default({}):Ht(e.content))])};return Object.assign(i,{renderVN:O,dispatchEvent}),O}}),Yn=kt({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:Boolean,type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>f.radioGroup.strict},size:{type:String,default:()=>f.radioGroup.size||f.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:c}=t,h=bt("$xeform",null),g=bt("$xeformiteminfo",null),C={xID:n.uniqueId(),props:e,context:t,name:n.uniqueId("xegroup_")},i=we(()=>e.optionProps||{}),p=we(()=>i.value.label||"label"),d=we(()=>i.value.value||"value"),x=we(()=>i.value.disabled||"disabled");let B={};Qt(e);const $={handleChecked(R,q){c("update:modelValue",R.label),B.dispatchEvent("change",R),h&&g&&h.triggerItemEvent(q,g.itemConfig.field,R.label)}};B={dispatchEvent(R,q,y){c(R,Object.assign({$radioGroup:C,$event:y},q))}};const V=()=>{const{options:R,type:q}=e,y=l.default,O=d.value,E=p.value,k=x.value,N=q==="button"?dl:Gn;return r("div",{class:"vxe-radio-group"},y?y({}):R?R.map(H=>r(N,{label:H[O],content:H[E],disabled:H[k]})):[])};return Object.assign(C,$,{renderVN:V,dispatchEvent}),Gt("$xeradiogroup",C),V}}),$l=kt({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=bt("$xetable",{}),{computeImportOpts:l}=t.getComputeMaps(),c=qt({loading:!1}),h=We(),g=we(()=>{const{storeData:V}=e;return`${V.filename}.${V.type}`}),m=we(()=>{const{storeData:V}=e;return V.file&&V.type}),C=we(()=>{const{storeData:V}=e,{type:R,typeList:q}=V;if(R){const y=n.find(q,O=>R===O.value);return y?f.i18n(y.label):"*.*"}return`*.${q.map(y=>y.value).join(", *.")}`}),i=()=>{const{storeData:V}=e;Object.assign(V,{filename:"",sheetName:"",type:""})},p=()=>{const{storeData:V,defaultOptions:R}=e;t.readFile(R).then(q=>{const{file:y}=q;Object.assign(V,Ei(y),{file:y})}).catch(q=>q)},d=()=>{ee(()=>{const V=h.value;V&&V.focus()})},x=()=>{const{storeData:V}=e;V.visible=!1},B=()=>{const{storeData:V,defaultOptions:R}=e,q=l.value;c.loading=!0,t.importByFile(V.file,Object.assign({},q,R)).then(()=>{c.loading=!1,V.visible=!1}).catch(()=>{c.loading=!1})};return()=>{const{defaultOptions:V,storeData:R}=e,q=g.value,y=m.value,O=C.value;return r(On,{modelValue:R.visible,title:f.i18n("vxe.import.impTitle"),className:"vxe-table-import-popup-wrapper",width:440,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:c.loading,"onUpdate:modelValue"(E){R.visible=E},onShow:d},{default:()=>r("div",{class:"vxe-export--panel"},[r("table",{cellspacing:0,cellpadding:0,border:0},[r("tbody",[r("tr",[r("td",f.i18n("vxe.import.impFile")),r("td",[y?r("div",{class:"vxe-import-selected--file",title:q},[r("span",q),r("i",{class:f.icon.INPUT_CLEAR,onClick:i})]):r("button",{ref:h,class:"vxe-import-select--file",onClick:p},f.i18n("vxe.import.impSelect"))])]),r("tr",[r("td",f.i18n("vxe.import.impType")),r("td",O)]),r("tr",[r("td",f.i18n("vxe.import.impOpts")),r("td",[r(Yn,{modelValue:V.mode,"onUpdate:modelValue"(E){V.mode=E}},{default:()=>R.modeList.map(E=>r(Gn,{label:E.value,content:f.i18n(E.label)}))})])])])]),r("div",{class:"vxe-export--panel-btns"},[r(po,{content:f.i18n("vxe.import.impCancel"),onClick:x}),r(po,{status:"primary",disabled:!y,content:f.i18n("vxe.import.impConfirm"),onClick:B})])])})}}});let nl,yn,Co;const Uc='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function Vr(){const e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function Li(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function Va(e,t){const{style:l}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${Uc}</style>`,l?`<style>${l}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const Ss=e=>{const t=Object.assign({},e);return nl||(nl=document.createElement("form"),yn=document.createElement("input"),nl.className="vxe-table--file-form",yn.name="file",yn.type="file",nl.appendChild(yn),document.body.appendChild(nl)),new Promise((l,c)=>{const h=t.types||[],g=!h.length||h.some(m=>m==="*");yn.multiple=!!t.multiple,yn.accept=g?"":`.${h.join(", .")}`,yn.onchange=m=>{const{files:C}=m.target,i=C[0];let p="";if(!g)for(let d=0;d<C.length;d++){const{type:x}=Ei(C[d]);if(!n.includes(h,x)){p=x;break}}p?(t.message!==!1&&(Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({content:f.i18n("vxe.error.notType",[p]),status:"error"})),c({status:!1,files:C,file:i})):l({status:!0,files:C,file:i})},nl.reset(),yn.click()})};function Aa(){if(Co){if(Co.parentNode){try{Co.contentDocument.write("")}catch{}Co.parentNode.removeChild(Co)}Co=null}}function Ar(){Co.parentNode||document.body.appendChild(Co)}function Xc(){requestAnimationFrame(Aa)}function bi(e,t,l=""){const{beforePrintMethod:c}=t;c&&(l=c({content:l,options:t,$table:e})||""),l=Va(t,l);const h=Li(l,t);Fo.msie?(Aa(),Co=Vr(),Ar(),Co.contentDocument.write(l),Co.contentDocument.execCommand("print")):(Co||(Co=Vr(),Co.onload=g=>{g.target.src&&(g.target.contentWindow.onafterprint=Xc,g.target.contentWindow.print())}),Ar(),Co.src=URL.createObjectURL(h))}const Os=e=>{const{filename:t,type:l,content:c}=e,h=`${t}.${l}`;if(window.Blob){const g=c instanceof Blob?c:Li(n.toValueString(c),e);if(navigator.msSaveBlob)navigator.msSaveBlob(g,h);else{const m=URL.createObjectURL(g),C=document.createElement("a");C.target="_blank",C.download=h,C.href=m,document.body.appendChild(C),C.click(),requestAnimationFrame(()=>{C.parentNode&&C.parentNode.removeChild(C),URL.revokeObjectURL(m)})}return Promise.resolve()}return Promise.reject(new Error(yi("vxe.error.notExp")))};let ll;const Kc="\uFEFF",An=`\r
`;function $r(e){return e.property||["seq","checkbox","radio"].indexOf(e.type)>-1}const $a=e=>{const t=[];return e.forEach(l=>{l.childNodes&&l.childNodes.length?(t.push(l),t.push(...$a(l.childNodes))):t.push(l)}),t},Zc=e=>{let t=1;const l=(g,m)=>{if(m&&(g._level=m._level+1,t<g._level&&(t=g._level)),g.childNodes&&g.childNodes.length){let C=0;g.childNodes.forEach(i=>{l(i,g),C+=i._colSpan}),g._colSpan=C}else g._colSpan=1};e.forEach(g=>{g._level=1,l(g)});const c=[];for(let g=0;g<t;g++)c.push([]);return $a(e).forEach(g=>{g.childNodes&&g.childNodes.length?g._rowSpan=1:g._rowSpan=t-g._level+1,c[g._level-1].push(g)}),c};function Jc(e){return e===!0?"full":e||"default"}function sl(e){return e==="TRUE"||e==="true"||e===!0}function vs(e,t){const{footerFilterMethod:l}=e;return l?t.filter((c,h)=>l({items:c,$rowIndex:h})):t}function Qc(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function il(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function ko(e,t){return e.getElementsByTagName(t)}function Br(e){return`#${e}@${n.uniqueId()}`}function Ba(e,t){return e.replace(/#\d+@\d+/g,l=>n.hasOwnProp(t,l)?t[l]:l)}function jr(e,t){return Ba(e,t).replace(/^"+$/g,c=>'"'.repeat(Math.ceil(c.length/2)))}function ja(e,t,l){const c=t.split(An),h=[];let g=[];if(c.length){const m={},C=Date.now();c.forEach(i=>{if(i){const p={};i=i.replace(/("")|(\n)/g,(x,B)=>{const $=Br(C);return m[$]=B?'"':`
`,$}).replace(/"(.*?)"/g,(x,B)=>{const $=Br(C);return m[$]=Ba(B,m),$});const d=i.split(l);g.length?(d.forEach((x,B)=>{B<g.length&&(p[g[B]]=jr(x.trim(),m))}),h.push(p)):g=d.map(x=>jr(x.trim(),m))}})}return{fields:g,rows:h}}function ed(e,t){return ja(e,t,",")}function td(e,t){return ja(e,t,"	")}function od(e,t){const c=new DOMParser().parseFromString(t,"text/html"),h=ko(c,"body"),g=[],m=[];if(h.length){const C=ko(h[0],"table");if(C.length){const i=ko(C[0],"thead");if(i.length){n.arrayEach(ko(i[0],"tr"),d=>{n.arrayEach(ko(d,"th"),x=>{m.push(x.textContent)})});const p=ko(C[0],"tbody");p.length&&n.arrayEach(ko(p[0],"tr"),d=>{const x={};n.arrayEach(ko(d,"td"),(B,$)=>{m[$]&&(x[m[$]]=B.textContent||"")}),g.push(x)})}}}return{fields:m,rows:g}}function nd(e,t){const c=new DOMParser().parseFromString(t,"application/xml"),h=ko(c,"Worksheet"),g=[],m=[];if(h.length){const C=ko(h[0],"Table");if(C.length){const i=ko(C[0],"Row");i.length&&(n.arrayEach(ko(i[0],"Cell"),p=>{m.push(p.textContent)}),n.arrayEach(i,(p,d)=>{if(d){const x={},B=ko(p,"Cell");n.arrayEach(B,($,V)=>{m[V]&&(x[m[V]]=$.textContent)}),g.push(x)}}))}}return{fields:m,rows:g}}function Hr(e){n.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}function ld(e,t){const l=[];return e.forEach(c=>{const h=c.property;h&&l.push(h)}),t.some(c=>l.indexOf(c)>-1)}const sd=["exportData","importByFile","importData","saveFile","readFile","print","openImport","openExport","openPrint"],id={setupTable(e){const{props:t,reactData:l,internalData:c}=e,{computeTreeOpts:h,computePrintOpts:g,computeExportOpts:m,computeImportOpts:C,computeCustomOpts:i,computeSeqOpts:p,computeRadioOpts:d,computeCheckboxOpts:x,computeColumnOpts:B}=e.getComputeMaps(),$=bt("$xegrid",null),V=L=>{const w=h.value,S=w.children||w.childrenField;return L[S]&&L[S].length},R=(L,w,S,j)=>{const fe=p.value.seqMethod||S.seqMethod;return fe?fe({row:L,rowIndex:e.getRowIndex(L),$rowIndex:w,column:S,columnIndex:e.getColumnIndex(S),$columnIndex:j}):e.getRowSeq(L)};function q(L,w){const S=B.value,j=w.headerExportMethod||S.headerExportMethod;return j?j({column:w,options:L,$table:e}):(L.original?w.property:w.getTitle())||""}const y=L=>n.isBoolean(L)?L?"TRUE":"FALSE":L,O=(L,w,S)=>{const{isAllExpand:j,mode:G}=L,{treeConfig:fe}=t,ke=d.value,he=x.value,Ve=h.value,$e=B.value;if(ll||(ll=document.createElement("div")),fe){const ce=Ve.children||Ve.childrenField,P=[],Z=new Map;return n.eachTree(S,(le,pe,De,te,oe,se)=>{const me=le._row||le,ye=oe&&oe._row?oe._row:oe;if(j||!ye||Z.has(ye)&&e.isTreeExpandByRow(ye)){const ge=V(me),Ae={_row:me,_level:se.length-1,_hasChild:ge,_expand:ge&&e.isTreeExpandByRow(me)};w.forEach((Ye,Ue)=>{let _e="";const Pe=Ye.editRender||Ye.cellRender;let Fe=Ye.exportMethod;if(!Fe&&Pe&&Pe.name){const Y=Ke.renderer.get(Pe.name);Y&&(Fe=Y.exportMethod)}if(Fe||(Fe=$e.exportMethod),Fe)_e=Fe({$table:e,row:me,column:Ye,options:L});else switch(Ye.type){case"seq":_e=G==="all"?te.map((Y,ae)=>ae%2===0?Number(Y)+1:".").join(""):R(me,pe,Ye,Ue);break;case"checkbox":_e=y(e.isCheckedByCheckboxRow(me)),Ae._checkboxLabel=he.labelField?n.get(me,he.labelField):"",Ae._checkboxDisabled=he.checkMethod&&!he.checkMethod({row:me});break;case"radio":_e=y(e.isCheckedByRadioRow(me)),Ae._radioLabel=ke.labelField?n.get(me,ke.labelField):"",Ae._radioDisabled=ke.checkMethod&&!ke.checkMethod({row:me});break;default:if(L.original)_e=Ho(me,Ye);else if(_e=e.getCellLabel(me,Ye),Ye.type==="html")ll.innerHTML=_e,_e=ll.innerText.trim();else{const Y=e.getCell(me,Ye);Y&&(_e=Y.innerText.trim())}}Ae[Ye.id]=n.toValueString(_e)}),Z.set(me,1),P.push(Object.assign(Ae,me))}},{children:ce}),P}return S.map((ce,P)=>{const Z={_row:ce};return w.forEach((le,pe)=>{let De="";const te=le.editRender||le.cellRender;let oe=le.exportMethod;if(!oe&&te&&te.name){const se=Ke.renderer.get(te.name);se&&(oe=se.exportMethod)}if(oe)De=oe({$table:e,row:ce,column:le,options:L});else switch(le.type){case"seq":De=G==="all"?P+1:R(ce,P,le,pe);break;case"checkbox":De=y(e.isCheckedByCheckboxRow(ce)),Z._checkboxLabel=he.labelField?n.get(ce,he.labelField):"",Z._checkboxDisabled=he.checkMethod&&!he.checkMethod({row:ce});break;case"radio":De=y(e.isCheckedByRadioRow(ce)),Z._radioLabel=ke.labelField?n.get(ce,ke.labelField):"",Z._radioDisabled=ke.checkMethod&&!ke.checkMethod({row:ce});break;default:if(L.original)De=Ho(ce,le);else if(De=e.getCellLabel(ce,le),le.type==="html")ll.innerHTML=De,De=ll.innerText.trim();else{const se=e.getCell(ce,le);se&&(De=se.innerText.trim())}}Z[le.id]=n.toValueString(De)}),Z})},E=L=>{const{columns:w,dataFilterMethod:S}=L;let j=L.data;return S&&(j=j.filter((G,fe)=>S({row:G,$rowIndex:fe}))),O(L,w,j)},k=(L,w,S)=>{const j=B.value,G=S.editRender||S.cellRender;let fe=S.footerExportMethod;if(!fe&&G&&G.name){const Ve=Ke.renderer.get(G.name);Ve&&(fe=Ve.footerExportMethod)}fe||(fe=j.footerExportMethod);const ke=e.getVTColumnIndex(S);return fe?fe({$table:e,items:w,itemIndex:ke,row:w,_columnIndex:ke,column:S,options:L}):n.toValueString(w[ke])},N=(L,w,S)=>{let j=Kc;if(L.isHeader&&(j+=w.map(G=>il(q(L,G))).join(",")+An),S.forEach(G=>{j+=w.map(fe=>il(Qc(fe,G[fe.id]))).join(",")+An}),L.isFooter){const{footerTableData:G}=l;vs(L,G).forEach(ke=>{j+=w.map(he=>il(k(L,ke,he))).join(",")+An})}return j},H=(L,w,S)=>{let j="";if(L.isHeader&&(j+=w.map(G=>il(q(L,G))).join("	")+An),S.forEach(G=>{j+=w.map(fe=>il(G[fe.id])).join("	")+An}),L.isFooter){const{footerTableData:G}=l;vs(L,G).forEach(ke=>{j+=w.map(he=>il(k(L,ke,he))).join(",")+An})}return j},I=(L,w,S)=>{const j=L[w],G=n.isUndefined(j)||n.isNull(j)?S:j;let Ve=G==="title"||(G===!0||G==="tooltip")||G==="ellipsis";const{scrollXLoad:$e,scrollYLoad:ce}=l;return($e||ce)&&!Ve&&(Ve=!0),Ve},F=(L,w,S)=>{const{id:j,border:G,treeConfig:fe,headerAlign:ke,align:he,footerAlign:Ve,showOverflow:$e,showHeaderOverflow:ce}=t,{isAllSelected:P,isIndeterminate:Z,mergeList:le}=l,pe=h.value,{print:De,isHeader:te,isFooter:oe,isColgroup:se,isMerge:me,colgroups:ye,original:ge}=L,Ae="check-all",Ue=[`<table class="${["vxe-table",`border--${Jc(G)}`,De?"is--print":"",te?"is--header":""].filter(Pe=>Pe).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${w.map(Pe=>`<col style="width:${Pe.renderWidth}px">`).join("")}</colgroup>`];if(te&&(Ue.push("<thead>"),se&&!ge?ye.forEach(Pe=>{Ue.push(`<tr>${Pe.map(Fe=>{const Y=Fe.headerAlign||Fe.align||ke||he,ae=I(Fe,"showHeaderOverflow",ce)?["col--ellipsis"]:[],Re=q(L,Fe);let Oe=0,A=0;n.eachTree([Fe],xe=>{(!xe.childNodes||!Fe.childNodes.length)&&A++,Oe+=xe.renderWidth},{children:"childNodes"});const U=Oe-A;return Y&&ae.push(`col--${Y}`),Fe.type==="checkbox"?`<th class="${ae.join(" ")}" colspan="${Fe._colSpan}" rowspan="${Fe._rowSpan}"><div ${De?"":`style="width: ${U}px"`}><input type="checkbox" class="${Ae}" ${P?"checked":""}><span>${Re}</span></div></th>`:`<th class="${ae.join(" ")}" colspan="${Fe._colSpan}" rowspan="${Fe._rowSpan}" title="${Re}"><div ${De?"":`style="width: ${U}px"`}><span>${Xt(Re,!0)}</span></div></th>`}).join("")}</tr>`)}):Ue.push(`<tr>${w.map(Pe=>{const Fe=Pe.headerAlign||Pe.align||ke||he,Y=I(Pe,"showHeaderOverflow",ce)?["col--ellipsis"]:[],ae=q(L,Pe);return Fe&&Y.push(`col--${Fe}`),Pe.type==="checkbox"?`<th class="${Y.join(" ")}"><div ${De?"":`style="width: ${Pe.renderWidth}px"`}><input type="checkbox" class="${Ae}" ${P?"checked":""}><span>${ae}</span></div></th>`:`<th class="${Y.join(" ")}" title="${ae}"><div ${De?"":`style="width: ${Pe.renderWidth}px"`}><span>${Xt(ae,!0)}</span></div></th>`}).join("")}</tr>`),Ue.push("</thead>")),S.length&&(Ue.push("<tbody>"),fe?S.forEach(Pe=>{Ue.push("<tr>"+w.map(Fe=>{const Y=Fe.align||he,ae=I(Fe,"showOverflow",$e)?["col--ellipsis"]:[],Re=Pe[Fe.id];if(Y&&ae.push(`col--${Y}`),Fe.treeNode){let Oe="";return Pe._hasChild&&(Oe=`<i class="${Pe._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),ae.push("vxe-table--tree-node"),Fe.type==="radio"?`<td class="${ae.join(" ")}" title="${Re}"><div ${De?"":`style="width: ${Fe.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Pe._level*pe.indent}px"><div class="vxe-table--tree-icon-wrapper">${Oe}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${j}" ${Pe._radioDisabled?"disabled ":""}${sl(Re)?"checked":""}><span>${Pe._radioLabel}</span></div></div></div></td>`:Fe.type==="checkbox"?`<td class="${ae.join(" ")}" title="${Re}"><div ${De?"":`style="width: ${Fe.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Pe._level*pe.indent}px"><div class="vxe-table--tree-icon-wrapper">${Oe}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${Pe._checkboxDisabled?"disabled ":""}${sl(Re)?"checked":""}><span>${Pe._checkboxLabel}</span></div></div></div></td>`:`<td class="${ae.join(" ")}" title="${Re}"><div ${De?"":`style="width: ${Fe.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Pe._level*pe.indent}px"><div class="vxe-table--tree-icon-wrapper">${Oe}</div><div class="vxe-table--tree-cell">${Re}</div></div></div></td>`}return Fe.type==="radio"?`<td class="${ae.join(" ")}"><div ${De?"":`style="width: ${Fe.renderWidth}px"`}><input type="radio" name="radio_${j}" ${Pe._radioDisabled?"disabled ":""}${sl(Re)?"checked":""}><span>${Pe._radioLabel}</span></div></td>`:Fe.type==="checkbox"?`<td class="${ae.join(" ")}"><div ${De?"":`style="width: ${Fe.renderWidth}px"`}><input type="checkbox" ${Pe._checkboxDisabled?"disabled ":""}${sl(Re)?"checked":""}><span>${Pe._checkboxLabel}</span></div></td>`:`<td class="${ae.join(" ")}" title="${Re}"><div ${De?"":`style="width: ${Fe.renderWidth}px"`}>${Xt(Re,!0)}</div></td>`}).join("")+"</tr>")}):S.forEach(Pe=>{Ue.push("<tr>"+w.map(Fe=>{const Y=Fe.align||he,ae=I(Fe,"showOverflow",$e)?["col--ellipsis"]:[],Re=Pe[Fe.id];let Oe=1,A=1;if(me&&le.length){const U=e.getVTRowIndex(Pe._row),xe=e.getVTColumnIndex(Fe),Be=ca(le,U,xe);if(Be){const{rowspan:He,colspan:qe}=Be;if(!He||!qe)return"";He>1&&(Oe=He),qe>1&&(A=qe)}}return Y&&ae.push(`col--${Y}`),Fe.type==="radio"?`<td class="${ae.join(" ")}" rowspan="${Oe}" colspan="${A}"><div ${De?"":`style="width: ${Fe.renderWidth}px"`}><input type="radio" name="radio_${j}" ${Pe._radioDisabled?"disabled ":""}${sl(Re)?"checked":""}><span>${Pe._radioLabel}</span></div></td>`:Fe.type==="checkbox"?`<td class="${ae.join(" ")}" rowspan="${Oe}" colspan="${A}"><div ${De?"":`style="width: ${Fe.renderWidth}px"`}><input type="checkbox" ${Pe._checkboxDisabled?"disabled ":""}${sl(Re)?"checked":""}><span>${Pe._checkboxLabel}</span></div></td>`:`<td class="${ae.join(" ")}" rowspan="${Oe}" colspan="${A}" title="${Re}"><div ${De?"":`style="width: ${Fe.renderWidth}px"`}>${Xt(Re,!0)}</div></td>`}).join("")+"</tr>")}),Ue.push("</tbody>")),oe){const{footerTableData:Pe}=l,Fe=vs(L,Pe);Fe.length&&(Ue.push("<tfoot>"),Fe.forEach(Y=>{Ue.push(`<tr>${w.map(ae=>{const Re=ae.footerAlign||ae.align||Ve||he,Oe=I(ae,"showOverflow",$e)?["col--ellipsis"]:[],A=k(L,Y,ae);return Re&&Oe.push(`col--${Re}`),`<td class="${Oe.join(" ")}" title="${A}"><div ${De?"":`style="width: ${ae.renderWidth}px"`}>${Xt(A,!0)}</div></td>`}).join("")}</tr>`)}),Ue.push("</tfoot>"))}const _e=!P&&Z?`<script>(function(){var a=document.querySelector(".${Ae}");if(a){a.indeterminate=true}})()<\/script>`:"";return Ue.push("</table>",_e),De?Ue.join(""):Va(L,Ue.join(""))},z=(L,w,S)=>{let j=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${L.sheetName}">`,"<Table>",w.map(G=>`<Column ss:Width="${G.renderWidth}"/>`).join("")].join("");if(L.isHeader&&(j+=`<Row>${w.map(G=>`<Cell><Data ss:Type="String">${q(L,G)}</Data></Cell>`).join("")}</Row>`),S.forEach(G=>{j+="<Row>"+w.map(fe=>`<Cell><Data ss:Type="String">${G[fe.id]}</Data></Cell>`).join("")+"</Row>"}),L.isFooter){const{footerTableData:G}=l;vs(L,G).forEach(ke=>{j+=`<Row>${w.map(he=>`<Cell><Data ss:Type="String">${k(L,ke,he)}</Data></Cell>`).join("")}</Row>`})}return`${j}</Table></Worksheet></Workbook>`},ue=(L,w,S)=>{if(w.length)switch(L.type){case"csv":return N(L,w,S);case"txt":return H(L,w,S);case"html":return F(L,w,S);case"xml":return z(L,w,S)}return""},Ce=(L,w)=>{const{filename:S,type:j,download:G}=L;if(!G){const fe=Li(w,L);return Promise.resolve({type:j,content:w,blob:fe})}Os({filename:S,type:j,content:w}).then(()=>{L.message!==!1&&(Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({content:f.i18n("vxe.table.expSuccess"),status:"success"}))})},ve=L=>{const{remote:w,columns:S,colgroups:j,exportMethod:G,afterExportMethod:fe}=L;return new Promise(ke=>{if(w){const he={options:L,$table:e,$grid:$};ke(G?G(he):he)}else{const he=E(L);ke(e.preventEvent(null,"event.export",{options:L,columns:S,colgroups:j,datas:he},()=>Ce(L,ue(L,S,he))))}}).then(ke=>(Hr(S),L.print||fe&&fe({status:!0,options:L,$table:e,$grid:$}),Object.assign({status:!0},ke))).catch(()=>{Hr(S),L.print||fe&&fe({status:!1,options:L,$table:e,$grid:$});const ke={status:!1};return Promise.reject(ke)})},ne=(L,w)=>{const{tableFullColumn:S,_importResolve:j,_importReject:G}=c;let fe={fields:[],rows:[]};switch(w.type){case"csv":fe=ed(S,L);break;case"txt":fe=td(S,L);break;case"html":fe=od(S,L);break;case"xml":fe=nd(S,L);break}const{fields:ke,rows:he}=fe;ld(S,ke)?e.createData(he).then($e=>{let ce;return w.mode==="insert"?ce=e.insert($e):ce=e.reloadData($e),w.message!==!1&&(Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({content:f.i18n("vxe.table.impSuccess",[he.length]),status:"success"})),ce.then(()=>{j&&j({status:!0})})}):w.message!==!1&&(Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({content:f.i18n("vxe.error.impFields"),status:"error"}),G&&G({status:!1}))},re=(L,w)=>{const{importMethod:S,afterImportMethod:j}=w,{type:G,filename:fe}=Ei(L);if(!S&&!n.includes(Ke.globalConfs.importTypes,G)){w.message!==!1&&(Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({content:f.i18n("vxe.error.notType",[G]),status:"error"}));const he={status:!1};return Promise.reject(he)}return new Promise((he,Ve)=>{const $e=P=>{he(P),c._importResolve=null,c._importReject=null},ce=P=>{Ve(P),c._importResolve=null,c._importReject=null};if(c._importResolve=$e,c._importReject=ce,window.FileReader){const P=Object.assign({mode:"insert"},w,{type:G,filename:fe});if(P.remote)S?Promise.resolve(S({file:L,options:P,$table:e})).then(()=>{$e({status:!0})}).catch(()=>{$e({status:!0})}):$e({status:!0});else{const{tableFullColumn:Z}=c;e.preventEvent(null,"event.import",{file:L,options:P,columns:Z},()=>{const le=new FileReader;le.onerror=()=>{nt("vxe.error.notType",[G]),ce({status:!1})},le.onload=pe=>{ne(pe.target.result,P)},le.readAsText(L,P.encoding||"UTF-8")})}}else nt("vxe.error.notExp"),$e({status:!0})}).then(()=>{j&&j({status:!0,options:w,$table:e})}).catch(he=>(j&&j({status:!1,options:w,$table:e}),Promise.reject(he)))},ie=(L,w)=>{const{treeConfig:S,showHeader:j,showFooter:G}=t,{initStore:fe,mergeList:ke,isGroup:he,footerTableData:Ve,exportStore:$e,exportParams:ce}=l,{collectColumn:P}=c,Z=S,le=i.value,pe=e.getCheckboxRecords(),De=!!Ve.length,te=!Z&&ke.length,oe=Object.assign({message:!0,isHeader:j,isFooter:G},L),se=oe.types||Ke.globalConfs.exportTypes,me=oe.modes,ye=le.checkMethod,ge=P.slice(0),{columns:Ae}=oe,Ye=se.map(_e=>({value:_e,label:`vxe.export.types.${_e}`})),Ue=me.map(_e=>({value:_e,label:`vxe.export.modes.${_e}`}));return n.eachTree(ge,(_e,Pe,Fe,Y,ae)=>{(_e.children&&_e.children.length||$r(_e))&&(_e.checked=Ae?Ae.some(Oe=>{if(bs(Oe))return _e===Oe;if(n.isString(Oe))return _e.field===Oe;{const A=Oe.id||Oe.colId,U=Oe.type,xe=Oe.property||Oe.field;if(A)return _e.id===A;if(xe&&U)return _e.property===xe&&_e.type===U;if(xe)return _e.property===xe;if(U)return _e.type===U}return!1}):_e.visible,_e.halfChecked=!1,_e.disabled=ae&&ae.disabled||(ye?!ye({column:_e}):!1))}),Object.assign($e,{columns:ge,typeList:Ye,modeList:Ue,hasFooter:De,hasMerge:te,hasTree:Z,isPrint:w,hasColgroup:he,visible:!0}),Object.assign(ce,{mode:pe.length?"selected":"current"},oe),me.indexOf(ce.mode)===-1&&(ce.mode=me[0]),se.indexOf(ce.type)===-1&&(ce.type=se[0]),fe.export=!0,ee()},Q={exportData(L){const{treeConfig:w}=t,{isGroup:S,tableGroupColumn:j}=l,{tableFullColumn:G,afterFullData:fe}=c,ke=m.value,he=h.value,Ve=Object.assign({isHeader:!0,isFooter:!0,isColgroup:!0,download:!0,type:"csv",mode:"current"},ke,{print:!1},L),{type:$e,mode:ce,columns:P,original:Z,beforeExportMethod:le}=Ve;let pe=[];const De=P&&P.length?P:null;let te=Ve.columnFilterMethod;!De&&!te&&(te=Z?({column:se})=>se.property:({column:se})=>$r(se)),De?(Ve._isCustomColumn=!0,pe=n.searchTree(n.mapTree(De,se=>{let me;if(se){if(bs(se))me=se;else if(n.isString(se))me=e.getColumnByField(se);else{const ye=se.id||se.colId,ge=se.type,Ae=se.property||se.field;ye?me=e.getColumnById(ye):Ae&&ge?me=G.find(Ye=>Ye.property===Ae&&Ye.type===ge):Ae?me=e.getColumnByField(Ae):ge&&(me=G.find(Ye=>Ye.type===ge))}return me||{}}},{children:"childNodes",mapChildren:"_children"}),(se,me)=>bs(se)&&(!te||te({column:se,$columnIndex:me})),{children:"_children",mapChildren:"childNodes",original:!0})):pe=n.searchTree(S?j:G,(se,me)=>se.visible&&(!te||te({column:se,$columnIndex:me})),{children:"children",mapChildren:"childNodes",original:!0});const oe=[];if(n.eachTree(pe,se=>{se.children&&se.children.length||oe.push(se)},{children:"childNodes"}),Ve.columns=oe,Ve.colgroups=Zc(pe),Ve.filename||(Ve.filename=f.i18n(Ve.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[n.toDateString(Date.now(),"yyyyMMddHHmmss")])),Ve.sheetName||(Ve.sheetName=document.title),!Ve.exportMethod&&!n.includes(Ke.globalConfs.exportTypes,$e)){nt("vxe.error.notType",[$e]);const se={status:!1};return Promise.reject(se)}if(Ve.print||le&&le({options:Ve,$table:e,$grid:$}),!Ve.data){if(Ve.data=fe,ce==="selected"){const se=e.getCheckboxRecords();["html","pdf"].indexOf($e)>-1&&w?Ve.data=n.searchTree(e.getTableData().fullData,me=>e.findRowIndexOf(se,me)>-1,Object.assign({},he,{data:"_row"})):Ve.data=se}else if(ce==="all"&&($||st("vxe.error.errProp",["all","mode=current,selected"]),$&&!Ve.remote)){const{reactData:se}=$,{computeProxyOpts:me}=$.getComputeMaps(),ye=me.value,{beforeQueryAll:ge,afterQueryAll:Ae,ajax:Ye={},props:Ue={}}=ye,_e=Ye.queryAll;if(_e||st("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),_e){const Pe={$table:e,$grid:$,sort:se.sortData,filters:se.filterData,form:se.formData,target:_e,options:Ve};return Promise.resolve((ge||_e)(Pe)).catch(Fe=>Fe).then(Fe=>(Ve.data=(Ue.list?n.get(Fe,Ue.list):Fe)||[],Ae&&Ae(Pe),ve(Ve)))}}}return ve(Ve)},importByFile(L,w){const S=Object.assign({},w),{beforeImportMethod:j}=S;return j&&j({options:S,$table:e}),re(L,S)},importData(L){const w=C.value,S=Object.assign({types:Ke.globalConfs.importTypes},w,L),{beforeImportMethod:j,afterImportMethod:G}=S;return j&&j({options:S,$table:e}),Ss(S).catch(fe=>(G&&G({status:!1,options:S,$table:e}),Promise.reject(fe))).then(fe=>{const{file:ke}=fe;return re(ke,S)})},saveFile(L){return Os(L)},readFile(L){return Ss(L)},print(L){const w=g.value,S=Object.assign({original:!1},w,L,{type:"html",download:!1,remote:!1,print:!0});return S.sheetName||(S.sheetName=document.title),new Promise(j=>{S.content?j(bi(e,S,S.content)):j(Q.exportData(S).then(({content:G})=>bi(e,S,G)))})},openImport(L){const{treeConfig:w,importConfig:S}=t,{initStore:j,importStore:G,importParams:fe}=l,ke=C.value,he=Object.assign({mode:"insert",message:!0,types:Ke.globalConfs.importTypes},L,ke),{types:Ve}=he;if(!!w){he.message&&Ke.modal.message({content:f.i18n("vxe.error.treeNotImp"),status:"error"});return}S||nt("vxe.error.reqProp",["import-config"]);const ce=Ve.map(Z=>({value:Z,label:`vxe.export.types.${Z}`})),P=he.modes.map(Z=>({value:Z,label:`vxe.import.modes.${Z}`}));Object.assign(G,{file:null,type:"",filename:"",modeList:P,typeList:ce,visible:!0}),Object.assign(fe,he),j.import=!0},openExport(L){const w=m.value;t.exportConfig||nt("vxe.error.reqProp",["export-config"]),ie(Object.assign({},w,L))},openPrint(L){const w=g.value;t.printConfig||nt("vxe.error.reqProp",["print-config"]),ie(Object.assign({},w,L),!0)}};return Q},setupGrid(e){return e.extendTableMethods(sd)}},Ha=e=>{const t=Object.assign({},e,{type:"html"});bi(null,t,t.content)},Vi={ExportPanel:Al,ImportPanel:$l,install(e){Ke.saveFile=Os,Ke.readFile=Ss,Ke.print=Ha,Ke.setConfig({export:{types:{csv:0,html:0,xml:0,txt:0}}}),Ke.hooks.add("$tableExport",id),e.component(Al.name,Al),e.component($l.name,$l)}},rd=Vi;Ft.component(Al.name,Al);Ft.component($l.name,$l);function ad(e,t){let l=0,c=0;const h=!Fo.firefox&&mn(e,"vxe-checkbox--label");if(h){const g=getComputedStyle(e);l-=n.toNumber(g.paddingTop),c-=n.toNumber(g.paddingLeft)}for(;e&&e!==t;)if(l+=e.offsetTop,c+=e.offsetLeft,e=e.offsetParent,h){const g=getComputedStyle(e);l-=n.toNumber(g.paddingTop),c-=n.toNumber(g.paddingLeft)}return{offsetTop:l,offsetLeft:c}}const cd={setupTable(e){const{props:t,reactData:l,internalData:c}=e,{refElem:h}=e.getRefMaps(),{computeEditOpts:g,computeCheckboxOpts:m,computeMouseOpts:C,computeTreeOpts:i}=e.getComputeMaps();function p($,V,R){let q=0,y=[];const O=R>0,E=R>0?R:Math.abs(R)+V.offsetHeight,{scrollYLoad:k}=l,{afterFullData:N,scrollYStore:H}=c;if(k){const I=e.getVTRowIndex($.row);O?y=N.slice(I,I+Math.ceil(E/H.rowHeight)):y=N.slice(I-Math.floor(E/H.rowHeight)+1,I+1)}else{const I=O?"next":"previous";for(;V&&q<E;){const F=e.getRowNode(V);F&&(y.push(F.item),q+=V.offsetHeight,V=V[`${I}ElementSibling`])}}return y}const d=($,V)=>{const{column:R,cell:q}=V;if(R.type==="checkbox"){const y=h.value,{elemStore:O}=c,E=$.clientX,k=$.clientY,N=O[`${R.fixed||"main"}-body-wrapper`]||O["main-body-wrapper"],H=N?N.value:null;if(!H)return;const I=H.querySelector(".vxe-table--checkbox-range"),F=document.onmousemove,z=document.onmouseup,ue=q.parentNode,Ce=e.getCheckboxRecords();let ve=[];const ne=1,re=ad($.target,H),ie=re.offsetTop+$.offsetY,Q=re.offsetLeft+$.offsetX,L=H.scrollTop,w=ue.offsetHeight;let S=null,j=!1,G=1;const fe=($e,ce)=>{e.dispatchEvent(`checkbox-range-${$e}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},ce)},ke=$e=>{const{clientX:ce,clientY:P}=$e,Z=ce-E,le=P-k+(H.scrollTop-L);let pe=Math.abs(le),De=Math.abs(Z),te=ie,oe=Q;le<ne?(te+=le,te<ne&&(te=ne,pe=ie)):pe=Math.min(pe,H.scrollHeight-ie-ne),Z<ne?(oe+=Z,De>Q&&(oe=ne,De=Q)):De=Math.min(De,H.clientWidth-Q-ne),I.style.height=`${pe}px`,I.style.width=`${De}px`,I.style.left=`${oe}px`,I.style.top=`${te}px`,I.style.display="block";const se=p(V,ue,le<ne?-pe:pe);pe>10&&se.length!==ve.length&&(ve=se,$e.ctrlKey?se.forEach(me=>{e.handleSelectRow({row:me},Ce.indexOf(me)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(se,!0,!1)),fe("change",$e))},he=()=>{clearTimeout(S),S=null},Ve=$e=>{he(),S=setTimeout(()=>{if(S){const{scrollLeft:ce,scrollTop:P,clientHeight:Z,scrollHeight:le}=H,pe=Math.ceil(G*50/w);j?P+Z<le?(e.scrollTo(ce,P+pe),Ve($e),ke($e)):he():P?(e.scrollTo(ce,P-pe),Ve($e),ke($e)):he()}},50)};un(y,"drag--range"),document.onmousemove=$e=>{$e.preventDefault(),$e.stopPropagation();const{clientY:ce}=$e,{boundingTop:P}=Qo(H);ce<P?(j=!1,G=P-ce,S||Ve($e)):ce>P+H.clientHeight?(j=!0,G=ce-P-H.clientHeight,S||Ve($e)):S&&he(),ke($e)},document.onmouseup=$e=>{he(),Io(y,"drag--range"),I.removeAttribute("style"),document.onmousemove=F,document.onmouseup=z,fe("end",$e)},fe("start",$)}},x=($,V)=>{const{editConfig:R,checkboxConfig:q,mouseConfig:y}=t,O=m.value,E=C.value,k=g.value;if(y&&E.area&&e.handleCellAreaEvent)return e.handleCellAreaEvent($,V);q&&O.range&&d($,V),y&&E.selected&&(!R||k.mode==="cell")&&e.handleSelected(V,$)};return{moveTabSelected($,V,R){const{editConfig:q}=t,{afterFullData:y,visibleColumn:O}=c,E=g.value;let k,N,H;const I=Object.assign({},$),F=e.getVTRowIndex(I.row),z=e.getVTColumnIndex(I.column);R.preventDefault(),V?z<=0?F>0&&(N=F-1,k=y[N],H=O.length-1):H=z-1:z>=O.length-1?F<y.length-1&&(N=F+1,k=y[N],H=0):H=z+1;const ue=O[H];ue&&(k?(I.rowIndex=N,I.row=k):I.rowIndex=F,I.columnIndex=H,I.column=ue,I.cell=e.getCell(I.row,I.column),q?(E.trigger==="click"||E.trigger==="dblclick")&&(E.mode==="row"?e.handleActived(I,R):e.scrollToRow(I.row,I.column).then(()=>e.handleSelected(I,R))):e.scrollToRow(I.row,I.column).then(()=>e.handleSelected(I,R)))},moveCurrentRow($,V,R){const{treeConfig:q}=t,{currentRow:y}=l,{afterFullData:O}=c,E=i.value,k=E.children||E.childrenField;let N;if(R.preventDefault(),y)if(q){const{index:H,items:I}=n.findTree(O,F=>F===y,{children:k});$&&H>0?N=I[H-1]:V&&H<I.length-1&&(N=I[H+1])}else{const H=e.getVTRowIndex(y);$&&H>0?N=O[H-1]:V&&H<O.length-1&&(N=O[H+1])}else N=O[0];if(N){const H={$table:e,row:N,rowIndex:e.getRowIndex(N),$rowIndex:e.getVMRowIndex(N)};e.scrollToRow(N).then(()=>e.triggerCurrentRowEvent(R,H))}},moveSelected($,V,R,q,y,O){const{afterFullData:E,visibleColumn:k}=c,N=Object.assign({},$),H=e.getVTRowIndex(N.row),I=e.getVTColumnIndex(N.column);O.preventDefault(),R&&H>0?(N.rowIndex=H-1,N.row=E[N.rowIndex]):y&&H<E.length-1?(N.rowIndex=H+1,N.row=E[N.rowIndex]):V&&I?(N.columnIndex=I-1,N.column=k[N.columnIndex]):q&&I<k.length-1&&(N.columnIndex=I+1,N.column=k[N.columnIndex]),e.scrollToRow(N.row,N.column).then(()=>{N.cell=e.getCell(N.row,N.column),e.handleSelected(N,O)})},triggerHeaderCellMousedownEvent($,V){const{mouseConfig:R}=t,q=C.value;if(R&&q.area&&e.handleHeaderCellAreaEvent){const y=$.currentTarget,O=yt($,y,"vxe-cell--sort").flag,E=yt($,y,"vxe-cell--filter").flag;e.handleHeaderCellAreaEvent($,Object.assign({cell:y,triggerSort:O,triggerFilter:E},V))}e.focus(),e.closeMenu&&e.closeMenu()},triggerCellMousedownEvent($,V){const R=$.currentTarget;V.cell=R,x($,V),e.focus(),e.closeFilter(),e.closeMenu&&e.closeMenu()}}}},Ai={install(){Ke.hooks.add("$tableKeyboard",cd)}},dd=Ai;let Il=class{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return Ht(this.$options.content||this.$options.message)}get message(){return this.content}};const ud=["fullValidate","validate","clearValidate"],fd={setupTable(e){const{props:t,reactData:l,internalData:c}=e,{refValidTooltip:h}=e.getRefMaps(),{computeValidOpts:g,computeTreeOpts:m,computeEditOpts:C}=e.getComputeMaps();let i={},p={},d;const x=R=>new Promise(q=>{g.value.autoPos===!1?(e.dispatchEvent("valid-error",R,null),q()):e.handleActived(R,{type:"valid-error",trigger:"call"}).then(()=>{q(p.showValidTooltip(R))})}),B=R=>{if(g.value.msgMode==="single"){const y=Object.keys(R),O=R;if(y.length){const E=y[0];O[E]=R[E]}return O}return R},$=(R,q,y)=>{const O={},{editRules:E,treeConfig:k}=t,{afterFullData:N,visibleColumn:H}=c,I=m.value,F=I.children||I.childrenField,z=g.value;let ue;R===!0?ue=N:R&&(n.isFunction(R)?q=R:ue=n.isArray(R)?R:[R]),ue||(e.getInsertRecords?ue=e.getInsertRecords().concat(e.getUpdateRecords()):ue=[]);const Ce=[];c._lastCallTime=Date.now(),d=!1,i.clearValidate();const ve={};if(E){const ne=e.getColumns(),re=ie=>{if(y||!d){const Q=[];ne.forEach(L=>{(y||!d)&&n.has(E,L.property)&&Q.push(p.validCellRules("all",ie,L).catch(({rule:w,rules:S})=>{const j={rule:w,rules:S,rowIndex:e.getRowIndex(ie),row:ie,columnIndex:e.getColumnIndex(L),column:L,field:L.property,$table:e};if(O[L.property]||(O[L.property]=[]),ve[`${ze(e,ie)}:${L.id}`]={column:L,row:ie,rule:w,content:w.content},O[L.property].push(j),!y)return d=!0,Promise.reject(j)}))}),Ce.push(Promise.all(Q))}};return k?n.eachTree(ue,re,{children:F}):ue.forEach(re),Promise.all(Ce).then(()=>{const ie=Object.keys(O);return l.validErrorMaps=B(ve),ee().then(()=>{if(ie.length)return Promise.reject(O[ie[0]][0]);q&&q()})}).catch(ie=>new Promise((Q,L)=>{const w=()=>{ee(()=>{q?(q(O),Q()):f.validToReject==="obsolete"?L(O):Q(O)})},S=()=>{ie.cell=e.getCell(ie.row,ie.column),na(ie.cell),x(ie).then(w)};if(z.autoPos===!1)w();else{const j=ie.row,G=ie.column,fe=N.indexOf(j),ke=H.indexOf(G),he=fe>0?N[fe-1]:j,Ve=ke>0?H[ke-1]:G;e.scrollToRow(he,Ve).then(S)}}))}else l.validErrorMaps={};return ee().then(()=>{q&&q()})};i={fullValidate(R,q){return n.isFunction(q)&&st("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),$(R,q,!0)},validate(R,q){return n.isFunction(q)&&st("vxe.error.notValidators",["validate(rows, callback)","validate(rows)"]),$(R,q)},clearValidate(R,q){const{validErrorMaps:y}=l,O=h.value,E=g.value,k=n.isArray(R)?R:R?[R]:[],N=n.isArray(q)?q:(q?[q]:[]).map(I=>xo(e,I));let H={};if(O&&O.reactData.visible&&O.close(),E.msgMode==="single")return l.validErrorMaps={},ee();if(k.length&&N.length)H=Object.assign({},y),k.forEach(I=>{N.forEach(F=>{const z=`${ze(e,I)}:${F.id}`;H[z]&&delete H[z]})});else if(k.length){const I=k.map(F=>`${ze(e,F)}`);n.each(y,(F,z)=>{I.indexOf(z.split(":")[0])>-1&&(H[z]=F)})}else if(N.length){const I=N.map(F=>`${F.id}`);n.each(y,(F,z)=>{I.indexOf(z.split(":")[1])>-1&&(H[z]=F)})}return l.validErrorMaps=H,ee()}};const V=(R,q)=>{const{type:y,min:O,max:E,pattern:k}=R,N=y==="number",H=N?n.toNumber(q):n.getSize(q);return!!(N&&isNaN(q)||!n.eqNull(O)&&H<n.toNumber(O)||!n.eqNull(E)&&H>n.toNumber(E)||k&&!(n.isRegExp(k)?k:new RegExp(k)).test(q))};return p={validCellRules(R,q,y,O){const{editRules:E}=t,{field:k}=y,N=[],H=[];if(k&&E){const I=n.get(E,k);if(I){const F=n.isUndefined(O)?n.get(q,k):O;I.forEach(z=>{const{type:ue,trigger:Ce,required:ve,validator:ne}=z;if(R==="all"||!Ce||R===Ce)if(ne){const re={cellValue:F,rule:z,rules:I,row:q,rowIndex:e.getRowIndex(q),column:y,columnIndex:e.getColumnIndex(y),field:y.field,$table:e,$grid:e.xegrid};let ie;if(n.isString(ne)){const Q=Ke.validators.get(ne);Q?Q.cellValidatorMethod?ie=Q.cellValidatorMethod(re):st("vxe.error.notValidators",[ne]):nt("vxe.error.notValidators",[ne])}else ie=ne(re);ie&&(n.isError(ie)?(d=!0,N.push(new Il({type:"custom",trigger:Ce,content:ie.message,rule:new Il(z)}))):ie.catch&&H.push(ie.catch(Q=>{d=!0,N.push(new Il({type:"custom",trigger:Ce,content:Q&&Q.message?Q.message:z.content||z.message,rule:new Il(z)}))})))}else{const re=ue==="array",ie=n.isArray(F);let Q=!0;re||ie?Q=!ie||!F.length:n.isString(F)?Q=Go(F.trim()):Q=Go(F),(ve?Q||V(z,F):!Q&&V(z,F))&&(d=!0,N.push(new Il(z)))}})}}return Promise.all(H).then(()=>{if(N.length){const I={rules:N,rule:N[0]};return Promise.reject(I)}})},hasCellRules(R,q,y){const{editRules:O}=t,{field:E}=y;if(E&&O){const k=n.get(O,E);return k&&!!n.find(k,N=>R==="all"||!N.trigger||R===N.trigger)}return!1},triggerValidate(R){const{editConfig:q,editRules:y}=t,{editStore:O}=l,{actived:E}=O,k=C.value,N=g.value;if(y&&N.msgMode==="single"&&(l.validErrorMaps={}),q&&y&&E.row){const{row:H,column:I,cell:F}=E.args;if(p.hasCellRules(R,H,I))return p.validCellRules(R,H,I).then(()=>{k.mode==="row"&&i.clearValidate(H,I)}).catch(({rule:z})=>{if(!z.trigger||R===z.trigger){const ue={rule:z,row:H,column:I,cell:F};return p.showValidTooltip(ue),Promise.reject(ue)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(R){const{height:q}=t,{tableData:y,validStore:O,validErrorMaps:E}=l,{rule:k,row:N,column:H,cell:I}=R,F=g.value,z=h.value,ue=k.content;return O.visible=!0,F.msgMode==="single"?l.validErrorMaps={[`${ze(e,N)}:${H.id}`]:{column:H,row:N,rule:k,content:ue}}:l.validErrorMaps=Object.assign({},E,{[`${ze(e,N)}:${H.id}`]:{column:H,row:N,rule:k,content:ue}}),e.dispatchEvent("valid-error",R,null),z&&z&&(F.message==="tooltip"||F.message==="default"&&!q&&y.length<2)?z.open(I,ue):ee()}},Object.assign(Object.assign({},i),p)},setupGrid(e){return e.extendTableMethods(ud)}},$i={install(){Ke.hooks.add("$tableValidator",fd)}},pd=$i,ul=kt({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>f.tooltip.size||f.size},trigger:{type:String,default:()=>f.tooltip.trigger||"hover"},theme:{type:String,default:()=>f.tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:!0},enterable:Boolean,enterDelay:{type:Number,default:()=>f.tooltip.enterDelay},leaveDelay:{type:Number,default:()=>f.tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:l,emit:c}=t,h=n.uniqueId(),g=Qt(e),m=qt({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),C=We(),i={refElem:C},p={xID:h,props:e,context:t,reactData:m,getRefMaps:()=>i};let d={};const x=()=>{const{tipTarget:I,tipStore:F}=m;if(I){const{scrollTop:z,scrollLeft:ue,visibleWidth:Ce}=Sn(),{top:ve,left:ne}=Qo(I),re=C.value,ie=6,Q=re.offsetHeight,L=re.offsetWidth;let w=ne,S=ve-Q-ie;w=Math.max(ie,ne+Math.floor((I.offsetWidth-L)/2)),w+L+ie>ue+Ce&&(w=ue+Ce-L-ie),ve-Q<z+ie&&(F.placement="bottom",S=ve+I.offsetHeight+ie),F.style.top=`${S}px`,F.style.left=`${w}px`,F.arrowStyle.left=`${ne-w+I.offsetWidth/2}px`}},B=I=>{I!==m.visible&&(m.visible=I,m.isUpdate=!0,c("update:modelValue",I))},$=()=>{m.tipZindex<on()&&(m.tipZindex=Yo())},V=()=>{m.visible?d.close():d.open()},R=()=>{d.open()},q=()=>{const{trigger:I,enterable:F,leaveDelay:z}=e;m.tipActive=!1,F&&I==="hover"?setTimeout(()=>{m.tipActive||d.close()},z):d.close()},y=()=>{m.tipActive=!0},O=()=>{const{trigger:I,enterable:F,leaveDelay:z}=e;m.tipActive=!1,F&&I==="hover"&&setTimeout(()=>{m.tipActive||d.close()},z)},E=()=>{const{tipStore:I}=m,F=C.value;return F&&(F.parentNode||document.body.appendChild(F)),B(!0),$(),I.placement="top",I.style={width:"auto",left:0,top:0,zIndex:e.zIndex||m.tipZindex},I.arrowStyle={left:"50%"},d.updatePlacement()},k=n.debounce(()=>{m.tipActive&&E()},e.enterDelay,{leading:!1,trailing:!0});d={dispatchEvent(I,F,z){c(I,Object.assign({$tooltip:p,$event:z},F))},open(I,F){return d.toVisible(I||m.target,F)},close(){return m.tipTarget=null,m.tipActive=!1,Object.assign(m.tipStore,{style:{},placement:"",arrowStyle:null}),B(!1),ee()},toVisible(I,F){if(I){const{trigger:z,enterDelay:ue}=e;if(m.tipActive=!0,m.tipTarget=I,F&&(m.tipContent=F),ue&&z==="hover")k();else return E()}return ee()},updatePlacement(){return ee().then(()=>{const{tipTarget:I}=m,F=C.value;if(I&&F)return x(),ee().then(x)})},isActived(){return m.tipActive},setActived(I){m.tipActive=!!I}},Object.assign(p,d),ut(()=>e.content,()=>{m.tipContent=e.content}),ut(()=>e.modelValue,()=>{m.isUpdate||(e.modelValue?d.open():d.close()),m.isUpdate=!1}),go(()=>{ee(()=>{const{trigger:I,content:F,modelValue:z}=e,ue=C.value;if(ue){const Ce=ue.parentNode;if(Ce){m.tipContent=F,m.tipZindex=Yo(),n.arrayEach(ue.children,(ne,re)=>{re>1&&(Ce.insertBefore(ne,ue),m.target||(m.target=ne))}),Ce.removeChild(ue);const{target:ve}=m;ve&&(I==="hover"?(ve.onmouseenter=R,ve.onmouseleave=q):I==="click"&&(ve.onclick=V)),z&&d.open()}}})}),Ci(()=>{const{trigger:I}=e,{target:F}=m,z=C.value;if(F&&(I==="hover"?(F.onmouseenter=null,F.onmouseleave=null):I==="click"&&(F.onclick=null)),z){const ue=z.parentNode;ue&&ue.removeChild(z)}});const N=()=>{const{useHTML:I}=e,{tipContent:F}=m,z=l.content;return z?r("div",{key:1,class:"vxe-table--tooltip-content"},Vt(z({}))):I?r("div",{key:2,class:"vxe-table--tooltip-content",innerHTML:F}):r("div",{key:3,class:"vxe-table--tooltip-content"},Xt(F))},H=()=>{const{popupClassName:I,theme:F,isArrow:z,enterable:ue}=e,{tipActive:Ce,visible:ve,tipStore:ne}=m,re=l.default,ie=g.value;let Q;return ue&&(Q={onMouseenter:y,onMouseleave:O}),r("div",Object.assign({ref:C,class:["vxe-table--tooltip-wrapper",`theme--${F}`,I?n.isFunction(I)?I({$tooltip:p}):I:"",{[`size--${ie}`]:ie,[`placement--${ne.placement}`]:ne.placement,"is--enterable":ue,"is--visible":ve,"is--arrow":z,"is--active":Ce}],style:ne.style},Q),[N(),r("div",{class:"vxe-table--tooltip-arrow",style:ne.arrowStyle}),...re?Vt(re({})):[]])};return p.renderVN=H,p},render(){return this.renderVN()}}),Bl=kt({name:"VxeTableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const t=bt("$xetable",{}),{reactData:l}=t,{computeCustomOpts:c,computeColumnOpts:h,computeIsMaxFixedColumn:g}=t.getComputeMaps(),m=We(),C=We(),i=We(),p=We();let d;const x=Q=>{const{customStore:L}=e;L.activeWrapper=!0,t.customOpenEvent(Q)},B=Q=>{const{customStore:L}=e;L.activeWrapper=!1,setTimeout(()=>{!L.activeBtn&&!L.activeWrapper&&t.customColseEvent(Q)},300)},$=Q=>{z(),t.closeCustom(),t.emitCustomEvent("confirm",Q)},V=Q=>{t.closeCustom(),t.emitCustomEvent("cancel",Q)},R=Q=>{t.resetColumn(!0),t.closeCustom(),t.emitCustomEvent("reset",Q)},q=Q=>{Ke.modal?Ke.modal.confirm({content:f.i18n("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(L=>{L==="confirm"&&R(Q)}):R(Q)},y=Q=>{const{customColumnList:L}=l,w=n.findTree(L,S=>S===Q);if(w&&w.parent){const{parent:S}=w;S.children&&S.children.length&&(S.visible=S.children.every(j=>j.visible),S.halfVisible=!S.visible&&S.children.some(j=>j.visible||j.halfVisible),y(S))}},O=Q=>{const L=!Q.visible,w=c.value;n.eachTree([Q],S=>{S.visible=L,S.halfVisible=!1}),y(Q),w.immediate&&t.handleCustom(),t.checkCustomStatus()},E=(Q,L)=>{const w=g.value;Q.fixed===L?t.clearColumnFixed(Q):(!w||Q.fixed)&&t.setColumnFixed(Q,L)},k=Q=>{g.value||t.setColumnFixed(Q,Q.fixed)},N=()=>{const{customStore:Q}=e,{customColumnList:L}=l,w=c.value,{checkMethod:S}=w,j=!Q.isAll;n.eachTree(L,G=>{(!S||S({column:G}))&&(G.visible=j,G.halfVisible=!1)}),Q.isAll=j,t.checkCustomStatus()},H=Q=>{const S=Q.currentTarget.parentNode.parentNode,j=S.getAttribute("colid"),G=t.getColumnById(j);S.draggable=!0,p.value=G,un(S,"active--drag-origin")},I=Q=>{const S=Q.currentTarget.parentNode.parentNode,j=i.value;S.draggable=!1,p.value=null,Io(S,"active--drag-origin"),j&&(j.style.display="")},F=Q=>{const L=new Image;Q.dataTransfer&&Q.dataTransfer.setDragImage(L,0,0)},z=()=>{const{customColumnList:Q}=l;Q.forEach((L,w)=>{const S=w+1;L.renderSortNumber=S})},ue=Q=>{const{customColumnList:L}=l,w=Q.currentTarget,S=i.value;if(d){if(d!==w){const j=d.getAttribute("drag-pos"),G=w.getAttribute("colid"),fe=t.getColumnById(G);if(!fe)return;const ke=n.findIndexOf(L,ce=>ce.id===fe.id),he=d.getAttribute("colid"),Ve=t.getColumnById(he);if(!Ve)return;L.splice(ke,1);const $e=n.findIndexOf(L,ce=>ce.id===Ve.id);L.splice($e+(j==="bottom"?1:0),0,fe)}d.draggable=!1,d.removeAttribute("drag-pos"),Io(d,"active--drag-target")}p.value=null,w.draggable=!1,w.removeAttribute("drag-pos"),S&&(S.style.display=""),Io(w,"active--drag-target"),Io(w,"active--drag-origin"),z()},Ce=Q=>{const L=Q.currentTarget;d!==L&&Io(d,"active--drag-target");const w=L.getAttribute("colid"),S=t.getColumnById(w);if(S&&S.level===1){Q.preventDefault();const G=Q.clientY-L.getBoundingClientRect().y<L.clientHeight/2?"top":"bottom";un(L,"active--drag-target"),L.setAttribute("drag-pos",G),d=L}ve(Q)},ve=Q=>{const L=i.value,w=C.value;if(w&&L){const S=w.parentNode,j=S.getBoundingClientRect();L.style.display="block",L.style.top=`${Math.min(S.clientHeight-S.scrollTop-L.clientHeight,Q.clientY-j.y)}px`,L.style.left=`${Math.min(S.clientWidth-S.scrollLeft-L.clientWidth-16,Q.clientX-j.x)}px`}},ne=()=>{const{customStore:Q}=e,{customColumnList:L}=l,w=c.value,{maxHeight:S}=Q,{checkMethod:j,visibleMethod:G,trigger:fe}=w,ke=g.value,he=[],Ve={};fe==="hover"&&(Ve.onMouseenter=x,Ve.onMouseleave=B),n.eachTree(L,(P,Z,le,pe,De)=>{if(G?G({column:P}):!0){const oe=P.visible,se=P.halfVisible,me=P.children&&P.children.length,ye=Xt(P.getTitle(),1),ge=j?!j({column:P}):!1;he.push(r("li",{key:P.id,class:["vxe-table-custom--option",`level--${P.level}`,{"is--group":me}]},[r("div",{title:ye,class:["vxe-table-custom--checkbox-option",{"is--checked":oe,"is--indeterminate":se,"is--disabled":ge}],onClick:()=>{ge||O(P)}},[r("span",{class:["vxe-checkbox--icon",se?f.icon.TABLE_CHECKBOX_INDETERMINATE:oe?f.icon.TABLE_CHECKBOX_CHECKED:f.icon.TABLE_CHECKBOX_UNCHECKED]}),r("span",{class:"vxe-checkbox--label"},ye)]),!De&&w.allowFixed?r("div",{class:"vxe-table-custom--fixed-option"},[r("span",{class:["vxe-table-custom--fixed-left-option",P.fixed==="left"?f.icon.TOOLBAR_TOOLS_FIXED_LEFT_ACTIVED:f.icon.TOOLBAR_TOOLS_FIXED_LEFT,{"is--checked":P.fixed==="left","is--disabled":ke&&!P.fixed}],title:f.i18n(P.fixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{E(P,"left")}}),r("span",{class:["vxe-table-custom--fixed-right-option",P.fixed==="right"?f.icon.TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVED:f.icon.TOOLBAR_TOOLS_FIXED_RIGHT,{"is--checked":P.fixed==="right","is--disabled":ke&&!P.fixed}],title:f.i18n(P.fixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{E(P,"right")}})]):null]))}});const $e=Q.isAll,ce=Q.isIndeterminate;return r("div",{ref:m,key:"simple",class:["vxe-table-custom-wrapper",{"is--active":Q.visible}]},[r("ul",{class:"vxe-table-custom--header"},[r("li",{class:"vxe-table-custom--option"},[r("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":$e,"is--indeterminate":ce}],title:f.i18n("vxe.table.allTitle"),onClick:N},[r("span",{class:["vxe-checkbox--icon",ce?f.icon.TABLE_CHECKBOX_INDETERMINATE:$e?f.icon.TABLE_CHECKBOX_CHECKED:f.icon.TABLE_CHECKBOX_UNCHECKED]}),r("span",{class:"vxe-checkbox--label"},f.i18n("vxe.toolbar.customAll"))])])]),r("ul",Object.assign({class:"vxe-table-custom--body",style:S?{maxHeight:`${S}px`}:{}},Ve),he),w.showFooter?r("div",{class:"vxe-table-custom--footer"},[r("button",{class:"btn--reset",onClick:R},w.resetButtonText||f.i18n("vxe.toolbar.customRestore")),r("button",{class:"btn--confirm",onClick:$},w.confirmButtonText||f.i18n("vxe.toolbar.customConfirm"))]):null])},re=()=>{const{customStore:Q}=e,{customColumnList:L}=l,w=c.value,{checkMethod:S,visibleMethod:j}=w,G=h.value,fe=g.value,ke=[];return n.eachTree(L,(he,Ve,$e,ce,P)=>{if(j?j({column:he}):!0){const le=he.visible,pe=he.halfVisible,De=Xt(he.getTitle(),1),te=he.children&&he.children.length,oe=S?!S({column:he}):!1;ke.push(r("tr",{key:he.id,colid:he.id,class:[`vxe-table-custom-popup--row level--${he.level}`,{"is--group":te}],onDragstart:F,onDragend:ue,onDragover:Ce},[r("td",{class:"vxe-table-custom-popup--column-item col--sort"},[he.level===1?r("span",{class:"vxe-table-custom-popup--column-sort-btn",onMousedown:H,onMouseup:I},[r("i",{class:"vxe-icon-sort"})]):null]),r("td",{class:"vxe-table-custom-popup--column-item col--name"},[r("div",{class:"vxe-table-custom-popup--name",title:De},De)]),r("td",{class:"vxe-table-custom-popup--column-item col--visible"},[r("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":le,"is--indeterminate":pe,"is--disabled":oe}],onClick:()=>{oe||O(he)}},[r("span",{class:["vxe-checkbox--icon",pe?f.icon.TABLE_CHECKBOX_INDETERMINATE:le?f.icon.TABLE_CHECKBOX_CHECKED:f.icon.TABLE_CHECKBOX_UNCHECKED]})])]),r("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[!P&&w.allowFixed?r(Yn,{modelValue:he.fixed||"",type:"button",size:"mini",options:[{label:f.i18n("vxe.custom.setting.fixedLeft"),value:"left",disabled:fe},{label:f.i18n("vxe.custom.setting.fixedUnset"),value:""},{label:f.i18n("vxe.custom.setting.fixedRight"),value:"right",disabled:fe}],"onUpdate:modelValue"(se){he.fixed=se},onChange(){k(he)}}):null])]))}}),r(On,{key:"popup",className:"vxe-table-custom-popup-wrapper vxe-table--ignore-clear",modelValue:Q.visible,title:f.i18n("vxe.custom.cstmTitle"),width:"40vw",minWidth:520,height:"50vh",minHeight:300,mask:!0,lockView:!0,showFooter:!0,resize:!0,escClosable:!0,destroyOnClose:!0,"onUpdate:modelValue"(he){Q.visible=he}},{default:()=>r("div",{ref:C,class:"vxe-table-custom-popup--body"},[r("div",{class:"vxe-table-custom-popup--table-wrapper"},[r("table",{},[r("colgroup",{},[r("col",{style:{width:"80px"}}),r("col",{}),r("col",{style:{width:"80px"}}),r("col",{style:{width:"200px"}})]),r("thead",{},[r("tr",{},[r("th",{},[r("span",{class:"vxe-table-custom-popup--table-sort-help-title"},f.i18n("vxe.custom.setting.colSort")),r(ul,{enterable:!0,content:f.i18n("vxe.custom.setting.sortHelpTip")},{default:()=>r("i",{class:"vxe-table-custom-popup--table-sort-help-icon vxe-icon-question-circle-fill"})})]),r("th",{},f.i18n("vxe.custom.setting.colTitle")),r("th",{},f.i18n("vxe.custom.setting.colVisible")),r("th",{},f.i18n("vxe.custom.setting.colFixed",[G.maxFixedSize||0]))])]),r(cc,{class:"vxe-table-custom--body",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>ke})])]),r("div",{ref:i,class:"vxe-table-custom-popup--drag-hint"},f.i18n("vxe.custom.cstmDragTarget",[p.value?p.value.getTitle():""]))]),footer:()=>r("div",{class:"vxe-table-custom-popup--footer"},[r(po,{content:w.resetButtonText||f.i18n("vxe.custom.cstmRestore"),onClick:q}),r(po,{content:w.resetButtonText||f.i18n("vxe.custom.cstmCancel"),onClick:V}),r(po,{status:"primary",content:w.confirmButtonText||f.i18n("vxe.custom.cstmConfirm"),onClick:$})])})};return()=>c.value.mode==="popup"?re():ne()}}),md=["openCustom","closeCustom"],hd={setupTable(e){const{reactData:t,internalData:l}=e,{computeCustomOpts:c}=e.getComputeMaps(),{refTableHeader:h,refTableBody:g,refTableCustom:m}=e.getRefMaps(),C=e.xegrid,i=()=>{const{customStore:R}=t,q=h.value,y=g.value,O=m.value,E=O?O.$el:null,k=q.$el,N=y.$el;let H=0;k&&(H+=k.clientHeight),N&&(H+=N.clientHeight),R.maxHeight=Math.max(0,E?Math.min(E.clientHeight,H-80):0)},p=()=>{const{initStore:R,customStore:q}=t;return q.visible=!0,R.custom=!0,t.customColumnList=l.collectColumn.slice(0),B(),i(),ee().then(()=>i())},d=()=>{const{customStore:R}=t,q=c.value;return R.visible&&(R.visible=!1,q.immediate||e.handleCustom()),ee()},x={openCustom:p,closeCustom:d},B=()=>{const{customStore:R}=t,{collectColumn:q}=l,y=c.value,{checkMethod:O}=y;R.isAll=q.every(E=>(O?!O({column:E}):!1)||E.visible),R.isIndeterminate=!R.isAll&&q.some(E=>(!O||O({column:E}))&&(E.visible||E.halfVisible))},$=(R,q)=>{(C||e).dispatchEvent("custom",{type:R},q)},V={checkCustomStatus:B,emitCustomEvent:$,triggerCustomEvent(R){const{customStore:q}=e.reactData;q.visible?(d(),$("close",R)):(q.btnEl=R.target,p(),$("open",R))},customOpenEvent(R){const{customStore:q}=t;q.visible||(q.activeBtn=!0,q.btnEl=R.target,e.openCustom(),e.emitCustomEvent("open",R))},customColseEvent(R){const{customStore:q}=t;q.visible&&(q.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",R))}};return Object.assign(Object.assign({},x),V)},setupGrid(e){return e.extendTableMethods(md)}},Bi={Panel:Bl,install(e){Ke.hooks.add("$tableCustom",hd),e.component(Bl.name,Bl)}},gd=Bi;Ft.component(Bl.name,Bl);const ii=kt({name:"VxeIcon",props:{name:String,roll:Boolean,status:String},emits:["click"],setup(e,{emit:t}){const l=c=>{t("click",{$event:c})};return()=>{const{name:c,roll:h,status:g}=e;return r("i",{class:[`vxe-icon-${c}`,h?"roll":"",g?[`theme--${g}`]:""],onClick:l})}}}),ns=Object.assign(ii,{install(e){e.component(ii.name,ii)}}),vd=ns;Ft.component(ns.name,ns);function bd(e){const{$table:t,column:l}=e,c=l.titlePrefix||l.titleHelp;return c?[r("i",{class:["vxe-cell-title-prefix-icon",c.icon||f.icon.TABLE_TITLE_PREFIX],onMouseenter(h){t.triggerHeaderTitleEvent(h,c,e)},onMouseleave(h){t.handleTargetLeaveEvent(h)}})]:[]}function xd(e){const{$table:t,column:l}=e,c=l.titleSuffix;return c?[r("i",{class:["vxe-cell-title-suffix-icon",c.icon||f.icon.TABLE_TITLE_SUFFIX],onMouseenter(h){t.triggerHeaderTitleEvent(h,c,e)},onMouseleave(h){t.handleTargetLeaveEvent(h)}})]:[]}function wn(e,t){const{$table:l,column:c}=e,{props:h,reactData:g}=l,{computeTooltipOpts:m}=l.getComputeMaps(),{showHeaderOverflow:C}=h,{type:i,showHeaderOverflow:p}=c,x=m.value.showAll,B=n.isUndefined(p)||n.isNull(p)?C:p,$=B==="title",V=B===!0||B==="tooltip",R={};return($||V||x)&&(R.onMouseenter=q=>{g._isResize||($?Si(q.currentTarget,c):(V||x)&&l.triggerHeaderTooltipEvent(q,e))}),(V||x)&&(R.onMouseleave=q=>{g._isResize||(V||x)&&l.handleTargetLeaveEvent(q)}),[i==="html"&&n.isString(t)?r("span",Object.assign({class:"vxe-cell--title",innerHTML:t},R)):r("span",Object.assign({class:"vxe-cell--title"},R),Vt(t))]}function Cd(e){const{$table:t,column:l,_columnIndex:c,items:h,row:g}=e,{slots:m,editRender:C,cellRender:i}=l,p=C||i,d=m?m.footer:null;if(d)return t.callSlot(d,e);if(p){const x=Ke.renderer.get(p.name);if(x&&x.renderFooter)return Vt(x.renderFooter(p,e))}return n.isArray(h)?[Xt(h[c],1)]:[Xt(n.get(g,l.field),1)]}function zr(e){const{$table:t,row:l,column:c}=e;return Xt(t.getCellLabel(l,c),1)}const dt={createColumn(e,t){const{type:l,sortable:c,filters:h,editRender:g,treeNode:m}=t,{props:C}=e,{editConfig:i}=C,{computeEditOpts:p,computeCheckboxOpts:d}=e.getComputeMaps(),x=d.value,B=p.value,$={renderHeader:dt.renderDefaultHeader,renderCell:m?dt.renderTreeCell:dt.renderDefaultCell,renderFooter:dt.renderDefaultFooter};switch(l){case"seq":$.renderHeader=dt.renderSeqHeader,$.renderCell=m?dt.renderTreeIndexCell:dt.renderSeqCell;break;case"radio":$.renderHeader=dt.renderRadioHeader,$.renderCell=m?dt.renderTreeRadioCell:dt.renderRadioCell;break;case"checkbox":$.renderHeader=dt.renderCheckboxHeader,$.renderCell=x.checkField?m?dt.renderTreeSelectionCellByProp:dt.renderCheckboxCellByProp:m?dt.renderTreeSelectionCell:dt.renderCheckboxCell;break;case"expand":$.renderCell=dt.renderExpandCell,$.renderData=dt.renderExpandData;break;case"html":$.renderCell=m?dt.renderTreeHTMLCell:dt.renderHTMLCell,h&&c?$.renderHeader=dt.renderSortAndFilterHeader:c?$.renderHeader=dt.renderSortHeader:h&&($.renderHeader=dt.renderFilterHeader);break;default:i&&g?($.renderHeader=dt.renderEditHeader,$.renderCell=B.mode==="cell"?m?dt.renderTreeCellEdit:dt.renderCellEdit:m?dt.renderTreeRowEdit:dt.renderRowEdit):h&&c?$.renderHeader=dt.renderSortAndFilterHeader:c?$.renderHeader=dt.renderSortHeader:h&&($.renderHeader=dt.renderFilterHeader)}return vc(e,t,$)},renderHeaderTitle(e){const{$table:t,column:l}=e,{slots:c,editRender:h,cellRender:g}=l,m=h||g,C=c?c.header:null;if(C)return wn(e,t.callSlot(C,e));if(m){const i=Ke.renderer.get(m.name);if(i&&i.renderHeader)return wn(e,Vt(i.renderHeader(m,e)))}return wn(e,Xt(l.getTitle(),1))},renderDefaultHeader(e){return bd(e).concat(dt.renderHeaderTitle(e)).concat(xd(e))},renderDefaultCell(e){const{$table:t,row:l,column:c}=e,{slots:h,editRender:g,cellRender:m}=c,C=g||m,i=h?h.default:null;if(i)return t.callSlot(i,e);if(C){const x=g?"renderCell":"renderDefault",B=Ke.renderer.get(C.name),$=B?B[x]:null;if($)return Vt($(C,Object.assign({$type:g?"edit":"cell"},e)))}const p=t.getCellLabel(l,c),d=g?g.placeholder:"";return[r("span",{class:"vxe-cell--label"},g&&Go(p)?[r("span",{class:"vxe-cell--placeholder"},Xt(Ht(d),1))]:Xt(p,1))]},renderTreeCell(e){return dt.renderTreeIcon(e,dt.renderDefaultCell(e))},renderDefaultFooter(e){return[r("span",{class:"vxe-cell--item"},Cd(e))]},renderTreeIcon(e,t){const{$table:l,isHidden:c}=e,{reactData:h}=l,{computeTreeOpts:g}=l.getComputeMaps(),{treeExpandedMaps:m,treeExpandLazyLoadedMaps:C}=h,i=g.value,{row:p,column:d,level:x}=e,{slots:B}=d,{indent:$,lazy:V,trigger:R,iconLoaded:q,showIcon:y,iconOpen:O,iconClose:E}=i,k=i.children||i.childrenField,N=i.hasChild||i.hasChildField,H=p[k],I=B?B.icon:null;let F=!1,z=!1,ue=!1;const Ce={};if(I)return l.callSlot(I,e);if(!c){const ve=ze(l,p);z=!!m[ve],V&&(ue=!!C[ve],F=p[N])}return(!R||R==="default")&&(Ce.onClick=ve=>{ve.stopPropagation(),l.triggerTreeExpandEvent(ve,e)}),[r("div",{class:["vxe-cell--tree-node",{"is--active":z}],style:{paddingLeft:`${x*$}px`}},[y&&(H&&H.length||F)?[r("div",Object.assign({class:"vxe-tree--btn-wrapper"},Ce),[r("i",{class:["vxe-tree--node-btn",ue?q||f.icon.TABLE_TREE_LOADED:z?O||f.icon.TABLE_TREE_OPEN:E||f.icon.TABLE_TREE_CLOSE]})])]:null,r("div",{class:"vxe-tree-cell"},t)])]},renderSeqHeader(e){const{$table:t,column:l}=e,{slots:c}=l,h=c?c.header:null;return wn(e,h?t.callSlot(h,e):Xt(l.getTitle(),1))},renderSeqCell(e){const{$table:t,column:l}=e,{props:c}=t,{treeConfig:h}=c,{computeSeqOpts:g}=t.getComputeMaps(),m=g.value,{slots:C}=l,i=C?C.default:null;if(i)return t.callSlot(i,e);const{seq:p}=e,d=m.seqMethod;return[Xt(d?d(e):h?p:(m.startIndex||0)+p,1)]},renderTreeIndexCell(e){return dt.renderTreeIcon(e,dt.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:l}=e,{slots:c}=l,h=c?c.header:null,g=c?c.title:null;return wn(e,h?t.callSlot(h,e):[r("span",{class:"vxe-radio--label"},g?t.callSlot(g,e):Xt(l.getTitle(),1))])},renderRadioCell(e){const{$table:t,column:l,isHidden:c}=e,{reactData:h}=t,{computeRadioOpts:g}=t.getComputeMaps(),{selectRadioRow:m}=h,C=g.value,{slots:i}=l,{labelField:p,checkMethod:d,visibleMethod:x}=C,{row:B}=e,$=i?i.default:null,V=i?i.radio:null,R=t.eqRow(B,m),q=!x||x({row:B});let y=!!d,O;c||(O={onClick(N){!y&&q&&(N.stopPropagation(),t.triggerRadioRowEvent(N,e))}},d&&(y=!d({row:B})));const E=Object.assign(Object.assign({},e),{checked:R,disabled:y,visible:q});if(V)return t.callSlot(V,E);const k=[];return q&&k.push(r("span",{class:["vxe-radio--icon",R?f.icon.TABLE_RADIO_CHECKED:f.icon.TABLE_RADIO_UNCHECKED]})),($||p)&&k.push(r("span",{class:"vxe-radio--label"},$?t.callSlot($,E):n.get(B,p))),[r("span",Object.assign({class:["vxe-cell--radio",{"is--checked":R,"is--disabled":y}]},O),k)]},renderTreeRadioCell(e){return dt.renderTreeIcon(e,dt.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:l,isHidden:c}=e,{reactData:h}=t,{computeIsAllCheckboxDisabled:g,computeCheckboxOpts:m}=t.getComputeMaps(),{isAllSelected:C,isIndeterminate:i}=h,p=g.value,{slots:d}=l,x=d?d.header:null,B=d?d.title:null,$=m.value,V=l.getTitle();let R;c||(R={onClick(y){p||(y.stopPropagation(),t.triggerCheckAllEvent(y,!C))}});const q=Object.assign(Object.assign({},e),{checked:C,disabled:p,indeterminate:i});return x?wn(q,t.callSlot(x,q)):($.checkStrictly?!$.showHeader:$.showHeader===!1)?wn(q,[r("span",{class:"vxe-checkbox--label"},B?t.callSlot(B,q):V)]):wn(q,[r("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":C,"is--disabled":p,"is--indeterminate":i}],title:f.i18n("vxe.table.allTitle")},R),[r("span",{class:["vxe-checkbox--icon",i?f.icon.TABLE_CHECKBOX_INDETERMINATE:C?f.icon.TABLE_CHECKBOX_CHECKED:f.icon.TABLE_CHECKBOX_UNCHECKED]})].concat(B||V?[r("span",{class:"vxe-checkbox--label"},B?t.callSlot(B,q):V)]:[]))])},renderCheckboxCell(e){const{$table:t,row:l,column:c,isHidden:h}=e,{props:g,reactData:m}=t,{treeConfig:C}=g,{selectCheckboxMaps:i,treeIndeterminateMaps:p}=m,{computeCheckboxOpts:d}=t.getComputeMaps(),x=d.value,{labelField:B,checkMethod:$,visibleMethod:V}=x,{slots:R}=c,q=R?R.default:null,y=R?R.checkbox:null;let O=!1,E=!1;const k=!V||V({row:l});let N=!!$,H;if(!h){const z=ze(t,l);E=!!i[z],H={onClick(ue){!N&&k&&(ue.stopPropagation(),t.triggerCheckRowEvent(ue,e,!E))}},$&&(N=!$({row:l})),C&&(O=!!p[z])}const I=Object.assign(Object.assign({},e),{checked:E,disabled:N,visible:k,indeterminate:O});if(y)return t.callSlot(y,I);const F=[];return k&&F.push(r("span",{class:["vxe-checkbox--icon",O?f.icon.TABLE_CHECKBOX_INDETERMINATE:E?f.icon.TABLE_CHECKBOX_CHECKED:f.icon.TABLE_CHECKBOX_UNCHECKED]})),(q||B)&&F.push(r("span",{class:"vxe-checkbox--label"},q?t.callSlot(q,I):n.get(l,B))),[r("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":E,"is--disabled":N,"is--indeterminate":O,"is--hidden":!k}]},H),F)]},renderTreeSelectionCell(e){return dt.renderTreeIcon(e,dt.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:l,column:c,isHidden:h}=e,{props:g,reactData:m}=t,{treeConfig:C}=g,{treeIndeterminateMaps:i}=m,{computeCheckboxOpts:p}=t.getComputeMaps(),d=p.value,{labelField:x,checkField:B,checkMethod:$,visibleMethod:V}=d,R=d.indeterminateField||d.halfField,{slots:q}=c,y=q?q.default:null,O=q?q.checkbox:null;let E=!1,k=!1;const N=!V||V({row:l});let H=!!$,I;if(!h){const ue=ze(t,l);k=n.get(l,B),I={onClick(Ce){!H&&N&&(Ce.stopPropagation(),t.triggerCheckRowEvent(Ce,e,!k))}},$&&(H=!$({row:l})),C&&(E=!!i[ue])}const F=Object.assign(Object.assign({},e),{checked:k,disabled:H,visible:N,indeterminate:E});if(O)return t.callSlot(O,F);const z=[];return N&&(z.push(r("span",{class:["vxe-checkbox--icon",E?f.icon.TABLE_CHECKBOX_INDETERMINATE:k?f.icon.TABLE_CHECKBOX_CHECKED:f.icon.TABLE_CHECKBOX_UNCHECKED]})),(y||x)&&z.push(r("span",{class:"vxe-checkbox--label"},y?t.callSlot(y,F):n.get(l,x)))),[r("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":k,"is--disabled":H,"is--indeterminate":R&&!k?l[R]:E,"is--hidden":!N}]},I),z)]},renderTreeSelectionCellByProp(e){return dt.renderTreeIcon(e,dt.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:l,row:c,column:h}=e,{reactData:g}=t,{rowExpandedMaps:m,rowExpandLazyLoadedMaps:C}=g,{computeExpandOpts:i}=t.getComputeMaps(),p=i.value,{lazy:d,labelField:x,iconLoaded:B,showIcon:$,iconOpen:V,iconClose:R,visibleMethod:q}=p,{slots:y}=h,O=y?y.default:null,E=y?y.icon:null;let k=!1,N=!1;if(E)return t.callSlot(E,e);if(!l){const H=ze(t,c);k=!!m[H],d&&(N=!!C[H])}return[$&&(!q||q(e))?r("span",{class:["vxe-table--expanded",{"is--active":k}],onClick(H){H.stopPropagation(),t.triggerRowExpandEvent(H,e)}},[r("i",{class:["vxe-table--expand-btn",N?B||f.icon.TABLE_EXPAND_LOADED:k?V||f.icon.TABLE_EXPAND_OPEN:R||f.icon.TABLE_EXPAND_CLOSE]})]):null,O||x?r("span",{class:"vxe-table--expand-label"},O?t.callSlot(O,e):n.get(c,x)):null]},renderExpandData(e){const{$table:t,column:l}=e,{slots:c,contentRender:h}=l,g=c?c.content:null;if(g)return t.callSlot(g,e);if(h){const m=Ke.renderer.get(h.name);if(m&&m.renderExpand)return Vt(m.renderExpand(h,e))}return[]},renderHTMLCell(e){const{$table:t,column:l}=e,{slots:c}=l,h=c?c.default:null;return h?t.callSlot(h,e):[r("span",{class:"vxe-cell--html",innerHTML:zr(e)})]},renderTreeHTMLCell(e){return dt.renderTreeIcon(e,dt.renderHTMLCell(e))},renderSortAndFilterHeader(e){return dt.renderDefaultHeader(e).concat(dt.renderSortIcon(e)).concat(dt.renderFilterIcon(e))},renderSortHeader(e){return dt.renderDefaultHeader(e).concat(dt.renderSortIcon(e))},renderSortIcon(e){const{$table:t,column:l}=e,{computeSortOpts:c}=t.getComputeMaps(),h=c.value,{showIcon:g,iconLayout:m,iconAsc:C,iconDesc:i}=h,{order:p}=l;return g?[r("span",{class:["vxe-cell--sort",`vxe-cell--sort-${m}-layout`]},[r("i",{class:["vxe-sort--asc-btn",C||f.icon.TABLE_SORT_ASC,{"sort--active":p==="asc"}],title:f.i18n("vxe.table.sortAsc"),onClick(d){d.stopPropagation(),t.triggerSortEvent(d,l,"asc")}}),r("i",{class:["vxe-sort--desc-btn",i||f.icon.TABLE_SORT_DESC,{"sort--active":p==="desc"}],title:f.i18n("vxe.table.sortDesc"),onClick(d){d.stopPropagation(),t.triggerSortEvent(d,l,"desc")}})])]:[]},renderFilterHeader(e){return dt.renderDefaultHeader(e).concat(dt.renderFilterIcon(e))},renderFilterIcon(e){const{$table:t,column:l,hasFilter:c}=e,{reactData:h}=t,{filterStore:g}=h,{computeFilterOpts:m}=t.getComputeMaps(),C=m.value,{showIcon:i,iconNone:p,iconMatch:d}=C;return i?[r("span",{class:["vxe-cell--filter",{"is--active":g.visible&&g.column===l}]},[r("i",{class:["vxe-filter--btn",c?d||f.icon.TABLE_FILTER_MATCH:p||f.icon.TABLE_FILTER_NONE],title:f.i18n("vxe.table.filter"),onClick(x){t.triggerFilterEvent&&t.triggerFilterEvent(x,e.column,e)}})])]:[]},renderEditHeader(e){const{$table:t,column:l}=e,{props:c}=t,{computeEditOpts:h}=t.getComputeMaps(),{editConfig:g,editRules:m}=c,C=h.value,{sortable:i,filters:p,editRender:d}=l;let x=!1;if(m){const B=n.get(m,l.field);B&&(x=B.some($=>$.required))}return(gt(g)?[x&&C.showAsterisk?r("i",{class:"vxe-cell--required-icon"}):null,gt(d)&&C.showIcon?r("i",{class:["vxe-cell--edit-icon",C.icon||f.icon.TABLE_EDIT]}):null]:[]).concat(dt.renderDefaultHeader(e)).concat(i?dt.renderSortIcon(e):[]).concat(p?dt.renderFilterIcon(e):[])},renderRowEdit(e){const{$table:t,column:l}=e,{reactData:c}=t,{editStore:h}=c,{actived:g}=h,{editRender:m}=l;return dt.runRenderer(e,gt(m)&&g&&g.row===e.row)},renderTreeRowEdit(e){return dt.renderTreeIcon(e,dt.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:l}=e,{reactData:c}=t,{editStore:h}=c,{actived:g}=h,{editRender:m}=l;return dt.runRenderer(e,gt(m)&&g&&g.row===e.row&&g.column===e.column)},renderTreeCellEdit(e){return dt.renderTreeIcon(e,dt.renderCellEdit(e))},runRenderer(e,t){const{$table:l,column:c}=e,{slots:h,editRender:g,formatter:m}=c,C=h?h.default:null,i=h?h.edit:null,p=Ke.renderer.get(g.name);return t?i?l.callSlot(i,e):p&&p.renderEdit?Vt(p.renderEdit(g,Object.assign({$type:"edit"},e))):[]:C?l.callSlot(C,e):m?[r("span",{class:"vxe-cell--label"},zr(e))]:dt.renderDefaultCell(e)}},za={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},Hn=kt({name:"VxeColumn",props:za,setup(e,{slots:t}){const l=We(),c=bt("$xetable",{}),h=bt("xecolgroup",null),g=dt.createColumn(c,e);return g.slots=t,Gt("$xegrid",null),ia(c,e,g),go(()=>{ra(c,l.value,g,h)}),io(()=>{aa(c,g)}),()=>r("div",{ref:l})}}),ji=Object.assign(Hn,{install(e){e.component(Hn.name,Hn),e.component("VxeTableColumn",Hn)}}),yd=ji;Ft.component(Hn.name,Hn);Ft.component("VxeTableColumn",Hn);const zn=kt({name:"VxeColgroup",props:za,setup(e,{slots:t}){const l=We(),c=bt("$xetable",{}),h=bt("xecolgroup",null),g=dt.createColumn(c,e),m={};t.header&&(m.header=t.header);const C={column:g};return g.slots=m,g.children=[],Gt("xecolgroup",C),Gt("$xegrid",null),ia(c,e,g),go(()=>{ra(c,l.value,g,h)}),io(()=>{aa(c,g)}),()=>r("div",{ref:l},t.default?t.default():[])}}),Hi=Object.assign(zn,{install(e){e.component(zn.name,zn),e.component("VxeTableColgroup",zn)}}),wd=Hi;Ft.component(zn.name,zn);Ft.component("VxeTableColgroup",zn);let Wr;const $n=[],Ed=500;function Sd(){$n.length&&($n.forEach(e=>{e.tarList.forEach(t=>{const{target:l,width:c,heighe:h}=t,g=l.clientWidth,m=l.clientHeight;(g&&c!==g||m&&h!==m)&&(t.width=g,t.heighe=m,setTimeout(e.callback))})}),Wa())}function Wa(){clearTimeout(Wr),Wr=setTimeout(Sd,f.resizeInterval||Ed)}class Od{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:l}=this;l.some(c=>c.target===t)||l.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),$n.length||Wa(),$n.some(c=>c===this)||$n.push(this)}}unobserve(t){n.remove($n,l=>l.tarList.some(c=>c.target===t))}disconnect(){n.remove($n,t=>t===this)}}function _a(e){return window.ResizeObserver?new window.ResizeObserver(e):new Od(e)}const rl="body",Td={mini:3,small:2,medium:1},_r=kt({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=bt("$xetable",{}),l=bt("xesize",null),{xID:c,props:h,context:g,reactData:m,internalData:C}=t,{refTableHeader:i,refTableBody:p,refTableFooter:d,refTableLeftBody:x,refTableRightBody:B,refValidTooltip:$}=t.getRefMaps(),{computeEditOpts:V,computeMouseOpts:R,computeSYOpts:q,computeEmptyOpts:y,computeKeyboardOpts:O,computeTooltipOpts:E,computeRadioOpts:k,computeExpandOpts:N,computeTreeOpts:H,computeCheckboxOpts:I,computeValidOpts:F,computeRowOpts:z,computeColumnOpts:ue}=t.getComputeMaps(),Ce=We(),ve=We(),ne=We(),re=We(),ie=We(),Q=We(),L=We(),w=()=>{if(l){const me=l.value;if(me)return Td[me]||0}return 0},S=()=>{const{delayHover:me}=h,{lastScrollTime:ye,_isResize:ge}=m;return!!(ge||ye&&Date.now()<ye+me)},j=(me,ye)=>{let ge=1;if(!me)return ge;const Ae=H.value,Ye=Ae.children||Ae.childrenField,Ue=me[Ye];if(Ue&&t.isTreeExpandByRow(me))for(let _e=0;_e<Ue.length;_e++)ge+=j(Ue[_e]);return ge},G=(me,ye,ge)=>{let Ae=1;return ge&&(Ae=j(ye[ge-1])),m.rowHeight*Ae-(ge?1:12-w())},fe=me=>{const{row:ye,column:ge}=me,{afterFullData:Ae}=C,{treeConfig:Ye}=h,Ue=H.value,{slots:_e,treeNode:Pe}=ge,{fullAllDataRowIdData:Fe}=C,Y=ze(t,ye),ae=Fe[Y];let Re=0,Oe=0,A=[];if(ae&&(Re=ae.level,Oe=ae._index,A=ae.items),_e&&_e.line)return t.callSlot(_e.line,me);const U=t.eqRow(Ae[0],ye);return Ye&&Pe&&(Ue.showLine||Ue.line)?[r("div",{class:"vxe-tree--line-wrapper"},[r("div",{class:"vxe-tree--line",style:{height:`${U?1:G(me,A,Oe)}px`,left:`${Re*Ue.indent+(Re?2-w():0)+16}px`}})])]:[]},ke=(me,ye,ge,Ae,Ye,Ue,_e,Pe,Fe,Y,ae,Re)=>{const{columnKey:Oe,height:A,showOverflow:U,cellClassName:xe,cellStyle:Be,align:He,spanMethod:qe,mouseConfig:Qe,editConfig:et,editRules:ot,tooltipConfig:Je}=h,{tableData:it,overflowX:St,scrollYLoad:D,currentColumn:Tt,mergeList:xt,editStore:ht,isAllOverflow:rt,validErrorMaps:Mt}=m,{afterFullData:Ct}=C,Nt=F.value,wt=I.value,Dt=V.value,At=E.value,Wt=z.value,Jt=q.value,Yt=ue.value,{type:Ut,cellRender:to,editRender:$t,align:Bt,showOverflow:jt,className:Kt,treeNode:ro,slots:Zt}=Fe,{actived:yo}=ht,{rHeight:Po}=Jt,{height:zo}=Wt,Tn=$t||to,hn=Tn?Ke.renderer.get(Tn.name):null,Xn=hn?hn.cellClassName:"",Rn=hn?hn.cellStyle:"",wo=At.showAll,oo=t.getColumnIndex(Fe),No=t.getVTColumnIndex(Fe),Lo=gt($t);let Wo=ge?Fe.fixed!==ge:Fe.fixed&&St;const nn=n.isUndefined(jt)||n.isNull(jt)?U:jt;let Uo=nn==="ellipsis";const Vo=nn==="title",mo=nn===!0||nn==="tooltip";let Ao=Vo||mo||Uo,gn;const Xo={},Ko=Bt||He,$o=Mt[`${ye}:${Fe.id}`],vn=ot&&Nt.showMessage&&(Nt.message==="default"?A||it.length>1:Nt.message==="inline"),Eo={colid:Fe.id},eo={$table:t,$grid:t.xegrid,seq:me,rowid:ye,row:Ye,rowIndex:Ue,$rowIndex:_e,_rowIndex:Pe,column:Fe,columnIndex:oo,$columnIndex:Y,_columnIndex:No,fixed:ge,type:rl,isHidden:Wo,level:Ae,visibleData:Ct,data:it,items:Re};if(D&&!Ao&&(Uo=Ao=!0),(Vo||mo||wo||Je)&&(Xo.onMouseenter=Lt=>{S()||(Vo?Si(Lt.currentTarget,Fe):(mo||wo)&&t.triggerBodyTooltipEvent(Lt,eo),t.dispatchEvent("cell-mouseenter",Object.assign({cell:Lt.currentTarget},eo),Lt))}),(mo||wo||Je)&&(Xo.onMouseleave=Lt=>{S()||((mo||wo)&&t.handleTargetLeaveEvent(Lt),t.dispatchEvent("cell-mouseleave",Object.assign({cell:Lt.currentTarget},eo),Lt))}),(wt.range||Qe)&&(Xo.onMousedown=Lt=>{t.triggerCellMousedownEvent(Lt,eo)}),Xo.onClick=Lt=>{t.triggerCellClickEvent(Lt,eo)},Xo.onDblclick=Lt=>{t.triggerCellDblclickEvent(Lt,eo)},xt.length){const Lt=ca(xt,Pe,No);if(Lt){const{rowspan:ao,colspan:_o}=Lt;if(!ao||!_o)return null;ao>1&&(Eo.rowspan=ao),_o>1&&(Eo.colspan=_o)}}else if(qe){const{rowspan:Lt=1,colspan:ao=1}=qe(eo)||{};if(!Lt||!ao)return null;Lt>1&&(Eo.rowspan=Lt),ao>1&&(Eo.colspan=ao)}Wo&&xt&&(Eo.colspan>1||Eo.rowspan>1)&&(Wo=!1),!Wo&&et&&($t||to)&&(Dt.showStatus||Dt.showUpdateStatus)&&(gn=t.isUpdateByRow(Ye,Fe.field));const ln=[];if(Wo&&U&&rt)ln.push(r("div",{class:["vxe-cell",{"c--title":Vo,"c--tooltip":mo,"c--ellipsis":Uo}],style:{maxHeight:Ao&&(Po||zo)?`${Po||zo}px`:""}}));else if(ln.push(...fe(eo),r("div",{class:["vxe-cell",{"c--title":Vo,"c--tooltip":mo,"c--ellipsis":Uo}],style:{maxHeight:Ao&&(Po||zo)?`${Po||zo}px`:""},title:Vo?t.getCellLabel(Ye,Fe):null},Fe.renderCell(eo))),vn&&$o){const Lt=$o.rule,ao=Zt?Zt.valid:null,_o=Object.assign(Object.assign({},eo),$o);ln.push(r("div",{class:["vxe-cell--valid-error-hint",En(Nt.className,_o)],style:Lt&&Lt.maxWidth?{width:`${Lt.maxWidth}px`}:null},ao?t.callSlot(ao,_o):[r("span",{class:"vxe-cell--valid-error-msg"},$o.content)]))}return r("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",Fe.id,{[`col--${Ko}`]:Ko,[`col--${Ut}`]:Ut,"col--last":Y===ae.length-1,"col--tree-node":ro,"col--edit":Lo,"col--ellipsis":Ao,"fixed--hidden":Wo,"col--dirty":gn,"col--active":et&&Lo&&yo.row===Ye&&(yo.column===Fe||Dt.mode==="row"),"col--valid-error":!!$o,"col--current":Tt===Fe},En(Xn,eo),En(Kt,eo),En(xe,eo)],key:Oe||Yt.useKey?Fe.id:Y},Eo),{style:Object.assign({height:Ao&&(Po||zo)?`${Po||zo}px`:""},n.isFunction(Rn)?Rn(eo):Rn,n.isFunction(Be)?Be(eo):Be)}),Xo),ln)},he=(me,ye,ge)=>{const{stripe:Ae,rowKey:Ye,highlightHoverRow:Ue,rowClassName:_e,rowStyle:Pe,showOverflow:Fe,editConfig:Y,treeConfig:ae}=h,{hasFixedColumn:Re,treeExpandedMaps:Oe,scrollYLoad:A,rowExpandedMaps:U,expandColumn:xe,selectRadioRow:Be,pendingRowMaps:He,pendingRowList:qe}=m,{fullAllDataRowIdData:Qe}=C,et=I.value,ot=k.value,Je=H.value,it=V.value,St=z.value,{transform:D}=Je,Tt=Je.children||Je.childrenField,xt=[];return ye.forEach((ht,rt)=>{const Mt={};let Ct=rt;Ct=t.getRowIndex(ht),(St.isHover||Ue)&&(Mt.onMouseenter=Bt=>{S()||t.triggerHoverEvent(Bt,{row:ht,rowIndex:Ct})},Mt.onMouseleave=()=>{S()||t.clearHoverRow()});const Nt=ze(t,ht),wt=Qe[Nt];let Dt=0,At=-1,Wt=0;wt&&(Dt=wt.level,At=wt.seq,Wt=wt._index);const Jt={$table:t,seq:At,rowid:Nt,fixed:me,type:rl,level:Dt,row:ht,rowIndex:Ct,$rowIndex:rt,_rowIndex:Wt},Yt=xe&&!!U[Nt];let Ut=!1,to=[],$t=!1;if(Y&&($t=t.isInsertByRow(ht)),ae&&!A&&!D&&(to=ht[Tt],Ut=to&&to.length&&!!Oe[Nt]),xt.push(r("tr",Object.assign({class:["vxe-body--row",ae?`row--level-${Dt}`:"",{"row--stripe":Ae&&(t.getVTRowIndex(ht)+1)%2===0,"is--new":$t,"is--expand-row":Yt,"is--expand-tree":Ut,"row--new":$t&&(it.showStatus||it.showInsertStatus),"row--radio":ot.highlight&&t.eqRow(Be,ht),"row--checked":et.highlight&&t.isCheckedByCheckboxRow(ht),"row--pending":qe.length&&!!He[Nt]},En(_e,Jt)],rowid:Nt,style:Pe?n.isFunction(Pe)?Pe(Jt):Pe:null,key:Ye||St.useKey||ae?Nt:rt},Mt),ge.map((Bt,jt)=>ke(At,Nt,me,Dt,ht,Ct,rt,Wt,Bt,jt,ge,ye)))),Yt){const Bt=N.value,{height:jt}=Bt,Kt={};jt&&(Kt.height=`${jt}px`),ae&&(Kt.paddingLeft=`${Dt*Je.indent+30}px`);const{showOverflow:ro}=xe,Zt=n.isUndefined(ro)||n.isNull(ro)?Fe:ro,yo={$table:t,seq:At,column:xe,fixed:me,type:rl,level:Dt,row:ht,rowIndex:Ct,$rowIndex:rt,_rowIndex:Wt};xt.push(r("tr",Object.assign({class:"vxe-body--expanded-row",key:`expand_${Nt}`,style:Pe?n.isFunction(Pe)?Pe(yo):Pe:null},Mt),[r("td",{class:{"vxe-body--expanded-column":1,"fixed--hidden":me&&!Re,"col--ellipsis":Zt},colspan:ge.length},[r("div",{class:{"vxe-body--expanded-cell":1,"is--ellipsis":jt},style:Kt},[xe.renderData(yo)])])]))}Ut&&xt.push(...he(me,to,ge))}),xt};let Ve;const $e=(me,ye,ge,Ae)=>{(ge||Ae)&&(ge&&(xr(ge),ge.scrollTop=ye),Ae&&(xr(Ae),Ae.scrollTop=ye),clearTimeout(Ve),Ve=setTimeout(()=>{Cs(ge),Cs(Ae),m.lastScrollTime=Date.now()},300))},ce=me=>{const{fixedType:ye}=e,{highlightHoverRow:ge}=h,{scrollXLoad:Ae,scrollYLoad:Ye}=m,{elemStore:Ue,lastScrollTop:_e,lastScrollLeft:Pe}=C,Fe=z.value,Y=i.value,ae=p.value,Re=d.value,Oe=x.value,A=B.value,U=$.value,xe=Ce.value,Be=Y?Y.$el:null,He=Re?Re.$el:null,qe=ae.$el,Qe=Oe?Oe.$el:null,et=A?A.$el:null,ot=Ue["main-body-ySpace"],Je=ot?ot.value:null,it=Ue["main-body-xSpace"],St=it?it.value:null,D=Ye&&Je?Je.clientHeight:qe.clientHeight,Tt=Ae&&St?St.clientWidth:qe.clientWidth;let xt=xe.scrollTop;const ht=qe.scrollLeft,rt=ht!==Pe,Mt=xt!==_e;C.lastScrollTop=xt,C.lastScrollLeft=ht,m.lastScrollTime=Date.now(),(Fe.isHover||ge)&&t.clearHoverRow(),Qe&&ye==="left"?(xt=Qe.scrollTop,$e(ye,xt,qe,et)):et&&ye==="right"?(xt=et.scrollTop,$e(ye,xt,qe,Qe)):(rt&&(Be&&(Be.scrollLeft=qe.scrollLeft),He&&(He.scrollLeft=qe.scrollLeft)),(Qe||et)&&(t.checkScrolling(),Mt&&$e(ye,xt,Qe,et))),Ae&&rt&&t.triggerScrollXEvent(me),Ye&&Mt&&t.triggerScrollYEvent(me),rt&&U&&U.reactData.visible&&U.updatePlacement(),t.dispatchEvent("scroll",{type:rl,fixed:ye,scrollTop:xt,scrollLeft:ht,scrollHeight:qe.scrollHeight,scrollWidth:qe.scrollWidth,bodyHeight:D,bodyWidth:Tt,isX:rt,isY:Mt},me)};let P,Z=0,le=0,pe=0,De=!1;const te=(me,ye,ge,Ae,Ye)=>{const{elemStore:Ue}=C,{scrollXLoad:_e,scrollYLoad:Pe}=m,Fe=p.value,Y=x.value,ae=B.value,Re=Y?Y.$el:null,Oe=ae?ae.$el:null,A=Fe.$el,U=Ue["main-body-ySpace"],xe=U?U.value:null,Be=Ue["main-body-xSpace"],He=Be?Be.value:null,qe=Pe&&xe?xe.clientHeight:A.clientHeight,Qe=_e&&He?He.clientWidth:A.clientWidth,et=De===ye?Math.max(0,Z-pe):0;De=ye,Z=Math.abs(ye?ge-et:ge+et),le=0,pe=0,clearTimeout(P);const ot=()=>{if(pe<Z){const{fixedType:Je}=e;le=Math.max(5,Math.floor(le*1.5)),pe=pe+le,pe>Z&&(le=le-(pe-Z));const{scrollTop:it,clientHeight:St,scrollHeight:D}=A,Tt=it+le*(ye?-1:1);A.scrollTop=Tt,Re&&(Re.scrollTop=Tt),Oe&&(Oe.scrollTop=Tt),(ye?Tt<D-St:Tt>=0)&&(P=setTimeout(ot,10)),t.dispatchEvent("scroll",{type:rl,fixed:Je,scrollTop:A.scrollTop,scrollLeft:A.scrollLeft,scrollHeight:A.scrollHeight,scrollWidth:A.scrollWidth,bodyHeight:qe,bodyWidth:Qe,isX:Ae,isY:Ye},me)}};ot()},oe=me=>{const{deltaY:ye,deltaX:ge}=me,{highlightHoverRow:Ae}=h,{scrollYLoad:Ye}=m,{lastScrollTop:Ue,lastScrollLeft:_e}=C,Pe=z.value,Fe=p.value,Y=Ce.value,ae=Fe.$el,Re=ye,Oe=ge,A=Re<0;if(A?Y.scrollTop<=0:Y.scrollTop>=Y.scrollHeight-Y.clientHeight)return;const U=Y.scrollTop+Re,xe=ae.scrollLeft+Oe,Be=xe!==_e,He=U!==Ue;He&&(me.preventDefault(),C.lastScrollTop=U,C.lastScrollLeft=xe,m.lastScrollTime=Date.now(),(Pe.isHover||Ae)&&t.clearHoverRow(),te(me,A,Re,Be,He),Ye&&t.triggerScrollYEvent(me))};return go(()=>{ee(()=>{const{fixedType:me}=e,{elemStore:ye}=C,ge=`${me||"main"}-body-`,Ae=Ce.value;ye[`${ge}wrapper`]=Ce,ye[`${ge}table`]=ve,ye[`${ge}colgroup`]=ne,ye[`${ge}list`]=re,ye[`${ge}xSpace`]=ie,ye[`${ge}ySpace`]=Q,ye[`${ge}emptyBlock`]=L,Ae&&(Ae.onscroll=ce,Ae._onscroll=ce)})}),Ci(()=>{const me=Ce.value;clearTimeout(P),me&&(me._onscroll=null,me.onscroll=null)}),io(()=>{const{fixedType:me}=e,{elemStore:ye}=C,ge=`${me||"main"}-body-`;ye[`${ge}wrapper`]=null,ye[`${ge}table`]=null,ye[`${ge}colgroup`]=null,ye[`${ge}list`]=null,ye[`${ge}xSpace`]=null,ye[`${ge}ySpace`]=null,ye[`${ge}emptyBlock`]=null}),()=>{let{fixedColumn:me,fixedType:ye,tableColumn:ge}=e;const{keyboardConfig:Ae,showOverflow:Ye,spanMethod:Ue,mouseConfig:_e}=h,{tableData:Pe,mergeList:Fe,scrollYLoad:Y,isAllOverflow:ae}=m,{visibleColumn:Re}=C,{slots:Oe}=g,A=q.value,U=y.value,xe=O.value,Be=R.value;ye&&(!m.expandColumn&&(Y||Ye&&ae)&&!Fe.length&&!Ue&&!(Ae&&xe.isMerge)?ge=me:ge=Re);let He;const qe=Oe?Oe.empty:null;if(qe)He=t.callSlot(qe,{$table:t,$grid:t.xegrid});else{const Qe=U.name?Ke.renderer.get(U.name):null,et=Qe?Qe.renderTableEmptyView||Qe.renderEmpty:null;et?He=Vt(et(U,{$table:t})):He=h.emptyText||f.i18n("vxe.table.emptyText")}return r("div",Object.assign({ref:Ce,class:["vxe-table--body-wrapper",ye?`fixed-${ye}--wrapper`:"body--wrapper"],xid:c},A.mode==="wheel"?{onWheel:oe}:{}),[ye?Et():r("div",{ref:ie,class:"vxe-body--x-space"}),r("div",{ref:Q,class:"vxe-body--y-space"}),r("table",{ref:ve,class:"vxe-table--body",xid:c,cellspacing:0,cellpadding:0,border:0},[r("colgroup",{ref:ne},ge.map((Qe,et)=>r("col",{name:Qe.id,key:et}))),r("tbody",{ref:re},he(ye,Pe,ge))]),r("div",{class:"vxe-table--checkbox-range"}),_e&&Be.area?r("div",{class:"vxe-table--cell-area"},[r("span",{class:"vxe-table--cell-main-area"},Be.extension?[r("span",{class:"vxe-table--cell-main-area-btn",onMousedown(Qe){t.triggerCellExtendMousedownEvent(Qe,{$table:t,fixed:ye,type:rl})}})]:[]),r("span",{class:"vxe-table--cell-copy-area"}),r("span",{class:"vxe-table--cell-extend-area"}),r("span",{class:"vxe-table--cell-multi-area"}),r("span",{class:"vxe-table--cell-active-area"})]):null,ye?null:r("div",{class:"vxe-table--empty-block",ref:L},[r("div",{class:"vxe-table--empty-content"},He)])])}}}),ri="header",qr=kt({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=bt("$xetable",{}),{xID:l,props:c,reactData:h,internalData:g}=t,{refElem:m,refTableBody:C,refLeftContainer:i,refRightContainer:p,refCellResizeBar:d}=t.getRefMaps(),{computeColumnOpts:x}=t.getComputeMaps(),B=We([]),$=We(),V=We(),R=We(),q=We(),y=We(),O=We(),E=()=>{const{isGroup:H}=h;B.value=H?mc(e.tableGroupColumn):[]},k=(H,I)=>{const{column:F}=I,{fixedType:z}=e,ue=C.value,Ce=i.value,ve=p.value,ne=d.value,{clientX:re}=H,ie=$.value,Q=H.target,L=I.cell=Q.parentNode;let w=0;const S=ue.$el,j=fc(Q,ie),G=Q.clientWidth,fe=Math.floor(G/2),ke=gc(I)-fe;let he=j.left-L.clientWidth+G+ke,Ve=j.left+fe;const $e=document.onmousemove,ce=document.onmouseup,P=z==="left",Z=z==="right",le=m.value;let pe=0;if(P||Z){const te=P?"nextElementSibling":"previousElementSibling";let oe=L[te];for(;oe&&!mn(oe,"fixed--hidden");)mn(oe,"col--group")||(pe+=oe.offsetWidth),oe=oe[te];Z&&ve&&(Ve=ve.offsetLeft+pe)}const De=function(te){te.stopPropagation(),te.preventDefault();const oe=te.clientX-re;let se=Ve+oe;const me=z?0:S.scrollLeft;P?se=Math.min(se,(ve?ve.offsetLeft:S.clientWidth)-pe-ke):Z?(he=(Ce?Ce.clientWidth:0)+pe+ke,se=Math.min(se,Ve+L.clientWidth-ke)):he=Math.max(S.scrollLeft,he),w=Math.max(se,he),ne.style.left=`${w-me}px`};h._isResize=!0,un(le,"drag--resize"),ne.style.display="block",document.onmousemove=De,document.onmouseup=function(te){document.onmousemove=$e,document.onmouseup=ce;const oe=F.renderWidth+(Z?Ve-w:w-Ve);F.resizeWidth=oe,ne.style.display="none",h._isResize=!1,g._lastResizeTime=Date.now(),t.analyColumnWidth(),t.recalculate(!0).then(()=>{t.saveCustomResizable(),t.updateCellAreas(),t.dispatchEvent("resizable-change",Object.assign(Object.assign({},I),{resizeWidth:oe}),te)}),Io(le,"drag--resize")},De(H),t.closeMenu&&t.closeMenu()};return ut(()=>e.tableColumn,E),go(()=>{ee(()=>{const{fixedType:H}=e,{internalData:I}=t,{elemStore:F}=I,z=`${H||"main"}-header-`;F[`${z}wrapper`]=$,F[`${z}table`]=V,F[`${z}colgroup`]=R,F[`${z}list`]=q,F[`${z}xSpace`]=y,F[`${z}repair`]=O,E()})}),io(()=>{const{fixedType:H}=e,{internalData:I}=t,{elemStore:F}=I,z=`${H||"main"}-header-`;F[`${z}wrapper`]=null,F[`${z}table`]=null,F[`${z}colgroup`]=null,F[`${z}list`]=null,F[`${z}xSpace`]=null,F[`${z}repair`]=null}),()=>{const{fixedType:H,fixedColumn:I,tableColumn:F}=e,{resizable:z,border:ue,columnKey:Ce,headerRowClassName:ve,headerCellClassName:ne,headerRowStyle:re,headerCellStyle:ie,showHeaderOverflow:Q,headerAlign:L,align:w,mouseConfig:S}=c,{isGroup:j,currentColumn:G,scrollXLoad:fe,overflowX:ke,scrollbarWidth:he}=h,{visibleColumn:Ve}=g,$e=x.value;let ce=B.value,P=F;return j?P=Ve:(H&&(fe||Q)&&(P=I),ce=[P]),r("div",{ref:$,class:["vxe-table--header-wrapper",H?`fixed-${H}--wrapper`:"body--wrapper"],xid:l},[H?Et():r("div",{ref:y,class:"vxe-body--x-space"}),r("table",{ref:V,class:"vxe-table--header",xid:l,cellspacing:0,cellpadding:0,border:0},[r("colgroup",{ref:R},P.map((Z,le)=>r("col",{name:Z.id,key:le})).concat(he?[r("col",{name:"col_gutter"})]:[])),r("thead",{ref:q},ce.map((Z,le)=>r("tr",{class:["vxe-header--row",ve?n.isFunction(ve)?ve({$table:t,$rowIndex:le,fixed:H,type:ri}):ve:""],style:re?n.isFunction(re)?re({$table:t,$rowIndex:le,fixed:H,type:ri}):re:null},Z.map((pe,De)=>{const{type:te,showHeaderOverflow:oe,headerAlign:se,align:me,headerClassName:ye}=pe,ge=pe.children&&pe.children.length,Ae=H?pe.fixed!==H&&!ge:!!pe.fixed&&ke,Ye=n.isUndefined(oe)||n.isNull(oe)?Q:oe,Ue=se||me||L||w;let _e=Ye==="ellipsis";const Pe=Ye==="title",Fe=Ye===!0||Ye==="tooltip";let Y=Pe||Fe||_e;const ae=pe.filters&&pe.filters.some(xe=>xe.checked),Re=t.getColumnIndex(pe),Oe=t.getVTColumnIndex(pe),A={$table:t,$grid:t.xegrid,$rowIndex:le,column:pe,columnIndex:Re,$columnIndex:De,_columnIndex:Oe,fixed:H,type:ri,isHidden:Ae,hasFilter:ae},U={onClick:xe=>t.triggerHeaderCellClickEvent(xe,A),onDblclick:xe=>t.triggerHeaderCellDblclickEvent(xe,A)};return fe&&!Y&&(_e=Y=!0),S&&(U.onMousedown=xe=>t.triggerHeaderCellMousedownEvent(xe,A)),r("th",Object.assign(Object.assign({class:["vxe-header--column",pe.id,{[`col--${Ue}`]:Ue,[`col--${te}`]:te,"col--last":De===Z.length-1,"col--fixed":pe.fixed,"col--group":ge,"col--ellipsis":Y,"fixed--hidden":Ae,"is--sortable":pe.sortable,"col--filter":!!pe.filters,"is--filter-active":ae,"col--current":G===pe},ye?n.isFunction(ye)?ye(A):ye:"",ne?n.isFunction(ne)?ne(A):ne:""],colid:pe.id,colspan:pe.colSpan>1?pe.colSpan:null,rowspan:pe.rowSpan>1?pe.rowSpan:null,style:ie?n.isFunction(ie)?ie(A):ie:null},U),{key:Ce||$e.useKey||ge?pe.id:De}),[r("div",{class:["vxe-cell",{"c--title":Pe,"c--tooltip":Fe,"c--ellipsis":_e}]},pe.renderHeader(A)),!Ae&&!ge&&(n.isBoolean(pe.resizable)?pe.resizable:$e.resizable||z)?r("div",{class:["vxe-resizable",{"is--line":!ue||ue==="none"}],onMousedown:xe=>k(xe,A)}):null])}).concat(he?[r("th",{class:"vxe-header--gutter col--gutter"})]:[]))))]),r("div",{ref:O,class:"vxe-table--header-border-line"})])}}}),ai="footer";function Rd(e,t,l){for(let c=0;c<e.length;c++){const{row:h,col:g,rowspan:m,colspan:C}=e[c];if(g>-1&&h>-1&&m&&C){if(h===t&&g===l)return{rowspan:m,colspan:C};if(t>=h&&t<h+m&&l>=g&&l<g+C)return{rowspan:0,colspan:0}}}}const Gr=kt({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=bt("$xetable",{}),{xID:l,props:c,reactData:h,internalData:g}=t,{refTableHeader:m,refTableBody:C,refValidTooltip:i}=t.getRefMaps(),{computeTooltipOpts:p,computeColumnOpts:d}=t.getComputeMaps(),x=We(),B=We(),$=We(),V=We(),R=We(),q=O=>{const{fixedType:E}=e,{scrollXLoad:k}=h,{lastScrollLeft:N}=g,H=i.value,I=m.value,F=C.value,z=I?I.$el:null,ue=x.value,Ce=F.$el,ve=ue.scrollLeft,ne=ve!==N;g.lastScrollLeft=ve,h.lastScrollTime=Date.now(),z&&(z.scrollLeft=ve),Ce&&(Ce.scrollLeft=ve),k&&ne&&t.triggerScrollXEvent(O),ne&&H&&H.reactData.visible&&H.updatePlacement(),t.dispatchEvent("scroll",{type:ai,fixed:E,scrollTop:Ce.scrollTop,scrollLeft:ve,isX:ne,isY:!1},O)};return go(()=>{ee(()=>{const{fixedType:O}=e,{elemStore:E}=g,k=`${O||"main"}-footer-`;E[`${k}wrapper`]=x,E[`${k}table`]=B,E[`${k}colgroup`]=$,E[`${k}list`]=V,E[`${k}xSpace`]=R})}),io(()=>{const{fixedType:O}=e,{elemStore:E}=g,k=`${O||"main"}-footer-`;E[`${k}wrapper`]=null,E[`${k}table`]=null,E[`${k}colgroup`]=null,E[`${k}list`]=null,E[`${k}xSpace`]=null}),()=>{let{fixedType:O,fixedColumn:E,tableColumn:k,footerTableData:N}=e;const{footerRowClassName:H,footerCellClassName:I,footerRowStyle:F,footerCellStyle:z,footerAlign:ue,footerSpanMethod:Ce,align:ve,columnKey:ne,showFooterOverflow:re}=c,{visibleColumn:ie}=g,{scrollXLoad:Q,overflowX:L,scrollbarWidth:w,currentColumn:S,mergeFooterList:j}=h,G=p.value,fe=d.value;return O&&(!h.expandColumn&&(Q||re)&&(!j.length||!Ce)?k=E:k=ie),r("div",{ref:x,class:["vxe-table--footer-wrapper",O?`fixed-${O}--wrapper`:"body--wrapper"],xid:l,onScroll:q},[O?Et():r("div",{ref:R,class:"vxe-body--x-space"}),r("table",{ref:B,class:"vxe-table--footer",xid:l,cellspacing:0,cellpadding:0,border:0},[r("colgroup",{ref:$},k.map((ke,he)=>r("col",{name:ke.id,key:he})).concat(w?[r("col",{name:"col_gutter"})]:[])),r("tfoot",{ref:V},N.map((ke,he)=>{const Ve=he,$e={$table:t,row:ke,_rowIndex:he,$rowIndex:Ve,fixed:O,type:ai};return r("tr",{class:["vxe-footer--row",H?n.isFunction(H)?H($e):H:""],style:F?n.isFunction(F)?F($e):F:null},k.map((ce,P)=>{const{type:Z,showFooterOverflow:le,footerAlign:pe,align:De,footerClassName:te}=ce,oe=G.showAll,se=ce.children&&ce.children.length,me=O?ce.fixed!==O&&!se:ce.fixed&&L,ye=n.isUndefined(le)||n.isNull(le)?re:le,ge=pe||De||ue||ve;let Ae=ye==="ellipsis";const Ye=ye==="title",Ue=ye===!0||ye==="tooltip";let _e=Ye||Ue||Ae;const Pe={colid:ce.id},Fe={},Y=t.getColumnIndex(ce),ae=t.getVTColumnIndex(ce),Re=ae,Oe={$table:t,$grid:t.xegrid,row:ke,rowIndex:he,_rowIndex:he,$rowIndex:Ve,column:ce,columnIndex:Y,$columnIndex:P,_columnIndex:ae,itemIndex:Re,items:ke,fixed:O,type:ai,data:N};if(Q&&!_e&&(Ae=_e=!0),(Ye||Ue||oe)&&(Fe.onMouseenter=A=>{Ye?Si(A.currentTarget,ce):(Ue||oe)&&t.triggerFooterTooltipEvent(A,Oe)}),(Ue||oe)&&(Fe.onMouseleave=A=>{(Ue||oe)&&t.handleTargetLeaveEvent(A)}),Fe.onClick=A=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:A.currentTarget},Oe),A)},Fe.onDblclick=A=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:A.currentTarget},Oe),A)},j.length){const A=Rd(j,he,ae);if(A){const{rowspan:U,colspan:xe}=A;if(!U||!xe)return null;U>1&&(Pe.rowspan=U),xe>1&&(Pe.colspan=xe)}}else if(Ce){const{rowspan:A=1,colspan:U=1}=Ce(Oe)||{};if(!A||!U)return null;A>1&&(Pe.rowspan=A),U>1&&(Pe.colspan=U)}return r("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",ce.id,{[`col--${ge}`]:ge,[`col--${Z}`]:Z,"col--last":P===k.length-1,"fixed--hidden":me,"col--ellipsis":_e,"col--current":S===ce},En(te,Oe),En(I,Oe)]},Pe),{style:z?n.isFunction(z)?z(Oe):z:null}),Fe),{key:ne||fe.useKey?ce.id:P}),[r("div",{class:["vxe-cell",{"c--title":Ye,"c--tooltip":Ue,"c--ellipsis":Ae}]},ce.renderFooter(Oe))])}).concat(w?[r("td",{class:"vxe-footer--gutter col--gutter"})]:[]))}))])])}}}),zi={id:String,data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>f.table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>f.table.resizable},stripe:{type:Boolean,default:()=>f.table.stripe},border:{type:[Boolean,String],default:()=>f.table.border},round:{type:Boolean,default:()=>f.table.round},size:{type:String,default:()=>f.table.size||f.size},fit:{type:Boolean,default:()=>f.table.fit},loading:Boolean,align:{type:String,default:()=>f.table.align},headerAlign:{type:String,default:()=>f.table.headerAlign},footerAlign:{type:String,default:()=>f.table.footerAlign},showHeader:{type:Boolean,default:()=>f.table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>f.table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>f.table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>f.table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>f.table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>f.table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>f.table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>f.table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>f.table.rowId},zIndex:Number,emptyText:{type:String,default:()=>f.table.emptyText},keepSource:{type:Boolean,default:()=>f.table.keepSource},autoResize:{type:Boolean,default:()=>f.table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,rowConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:()=>f.table.animat},delayHover:{type:Number,default:()=>f.table.delayHover},params:Object},Wi=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","edit-actived","edit-activated","edit-disabled","valid-error","scroll","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],Md=Fo["-webkit"]&&!Fo.edge,ci="VXE_TABLE_CUSTOM_COLUMN_WIDTH",di="VXE_TABLE_CUSTOM_COLUMN_VISIBLE",ui="VXE_TABLE_CUSTOM_COLUMN_FIXED",fi="VXE_TABLE_CUSTOM_COLUMN_SORT",jl=kt({name:"VxeTable",props:zi,emits:Wi,setup(e,t){const{slots:l,emit:c}=t,h=Ke.tooltip,g=n.uniqueId(),m=Qt(e),C=Jr(),i=qt({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selectCheckboxMaps:{},currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},treeIndeterminateMaps:{},mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,pendingRowMaps:{},pendingRowList:[],initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],scaleList:[],scaleMinList:[],autoList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null},insertMaps:{},removeMaps:{}},tooltipStore:{row:null,column:null,content:null,visible:!1},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},scrollVMLoading:!1,_isResize:!1}),p={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},columnStatusMaps:{},rowStatusMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let d={},x={};const B=We(),$=We(),V=We(),R=We(),q=We(),y=We(),O=We(),E=We(),k=We(),N=We(),H=We(),I=We(),F=We(),z=We(),ue=We(),Ce=We(),ve=We(),ne=We(),re=We(),ie=We(),Q=bt("$xegrid",null);let L;const w=we(()=>Object.assign({},f.table.validConfig,e.validConfig)),S=we(()=>Object.assign({},f.table.scrollX,e.scrollX)),j=we(()=>Object.assign({},f.table.scrollY,e.scrollY)),G=we(()=>({default:48,medium:44,small:40,mini:36})),fe=we(()=>Object.assign({},f.table.columnConfig,e.columnConfig)),ke=we(()=>Object.assign({},f.table.rowConfig,e.rowConfig)),he=we(()=>Object.assign({},f.table.resizeConfig,e.resizeConfig)),Ve=we(()=>Object.assign({},f.table.resizableConfig,e.resizableConfig)),$e=we(()=>Object.assign({startIndex:0},f.table.seqConfig,e.seqConfig)),ce=we(()=>Object.assign({},f.table.radioConfig,e.radioConfig)),P=we(()=>Object.assign({},f.table.checkboxConfig,e.checkboxConfig));let Z=We();Z=we(()=>Object.assign({},f.tooltip,f.table.tooltipConfig,e.tooltipConfig));const le=we(()=>{const o=Z.value;return Object.assign({},o)}),pe=we(()=>{const o=Z.value;return Object.assign({isArrow:!1},o)}),De=we(()=>Object.assign({},f.table.editConfig,e.editConfig)),te=we(()=>Object.assign({orders:["asc","desc",null]},f.table.sortConfig,e.sortConfig)),oe=we(()=>Object.assign({},f.table.filterConfig,e.filterConfig)),se=we(()=>Object.assign({},f.table.mouseConfig,e.mouseConfig)),me=we(()=>Object.assign({},f.table.areaConfig,e.areaConfig)),ye=we(()=>Object.assign({},f.table.keyboardConfig,e.keyboardConfig)),ge=we(()=>Object.assign({},f.table.clipConfig,e.clipConfig)),Ae=we(()=>Object.assign({},f.table.fnrConfig,e.fnrConfig)),Ye=we(()=>Object.assign({},f.table.menuConfig,e.menuConfig)),Ue=we(()=>{const s=Ye.value.header;return s&&s.options?s.options:[]}),_e=we(()=>{const s=Ye.value.body;return s&&s.options?s.options:[]}),Pe=we(()=>{const s=Ye.value.footer;return s&&s.options?s.options:[]}),Fe=we(()=>{const o=Ye.value,s=Ue.value,a=_e.value,u=Pe.value;return!!(e.menuConfig&&gt(o)&&(s.length||a.length||u.length))}),Y=we(()=>{const{ctxMenuStore:o}=i,s=[];return o.list.forEach(a=>{a.forEach(u=>{s.push(u)})}),s}),ae=we(()=>Object.assign({},f.table.exportConfig,e.exportConfig)),Re=we(()=>Object.assign({},f.table.importConfig,e.importConfig)),Oe=we(()=>Object.assign({},f.table.printConfig,e.printConfig)),A=we(()=>Object.assign({},f.table.expandConfig,e.expandConfig)),U=we(()=>Object.assign({},f.table.treeConfig,e.treeConfig)),xe=we(()=>Object.assign({},f.table.emptyRender,e.emptyRender)),Be=we(()=>Object.assign({},f.table.loadingConfig,e.loadingConfig)),He=we(()=>e.border?Math.max(2,Math.ceil(i.scrollbarWidth/i.tableColumn.length)):1),qe=we(()=>Object.assign({},f.table.customConfig,e.customConfig)),Qe=we(()=>{const{collectColumn:o}=p;let s=0;return o.forEach(a=>{a.fixed&&s++}),s}),et=we(()=>{const o=Qe.value,s=fe.value,{maxFixedSize:a}=s;return a?o>=a:!1}),ot=we(()=>{const{border:o}=e;return o===!0?"full":o||"default"}),Je=we(()=>{const{tableData:o}=i,{tableFullData:s}=p,a=P.value,{strict:u,checkMethod:b}=a;return u?o.length||s.length?b?s.every(T=>!b({row:T})):!1:!0:!1}),it={refElem:B,refTooltip:$,refValidTooltip:R,refTableFilter:y,refTableCustom:O,refTableMenu:q,refTableHeader:E,refTableBody:k,refTableFooter:N,refTableLeftHeader:H,refTableLeftBody:I,refTableLeftFooter:F,refTableRightHeader:z,refTableRightBody:ue,refTableRightFooter:Ce,refLeftContainer:ve,refRightContainer:ne,refCellResizeBar:re},St={computeSize:m,computeValidOpts:w,computeSXOpts:S,computeSYOpts:j,computeColumnOpts:fe,computeRowOpts:ke,computeResizeleOpts:he,computeResizableOpts:Ve,computeSeqOpts:$e,computeRadioOpts:ce,computeCheckboxOpts:P,computeTooltipOpts:Z,computeEditOpts:De,computeSortOpts:te,computeFilterOpts:oe,computeMouseOpts:se,computeAreaOpts:me,computeKeyboardOpts:ye,computeClipOpts:ge,computeFNROpts:Ae,computeHeaderMenu:Ue,computeBodyMenu:_e,computeFooterMenu:Pe,computeIsMenu:Fe,computeMenuOpts:Ye,computeExportOpts:ae,computeImportOpts:Re,computePrintOpts:Oe,computeExpandOpts:A,computeTreeOpts:U,computeEmptyOpts:xe,computeLoadingOpts:Be,computeCustomOpts:qe,computeFixedColumnSize:Qe,computeIsMaxFixedColumn:et,computeIsAllCheckboxDisabled:Je},D={xID:g,props:e,context:t,instance:C,reactData:i,internalData:p,getRefMaps:()=>it,getComputeMaps:()=>St,xegrid:Q},Tt=(o,s,a)=>{const u=n.get(o,a),b=n.get(s,a);return Go(u)&&Go(b)?!0:n.isString(u)||n.isNumber(u)?""+u==""+b:n.isEqual(u,b)},xt=o=>{const s=te.value,{orders:a}=s,u=o.order||null,b=a.indexOf(u)+1;return a[b<a.length?b:0]},ht=o=>{const s=f.version,a=n.toStringJSON(localStorage.getItem(o)||"");return a&&a._v===s?a:{_v:s}},rt=o=>{const{fullAllDataRowIdData:s}=p,a={};return n.each(o,(u,b)=>{s[b]&&(a[b]=u)}),a},Mt=o=>{const{fullDataRowIdData:s}=p,a=[];return n.each(o,(u,b)=>{s[b]&&D.findRowIndexOf(a,s[b].row)===-1&&a.push(s[b].row)}),a},Ct=()=>{const{visibleColumn:o}=p,s=k.value,a=s?s.$el:null;if(a){const{scrollLeft:u,clientWidth:b}=a,T=u+b;let M=-1,_=0,W=0;for(let X=0,K=o.length;X<K&&(_+=o[X].renderWidth,M===-1&&u<_&&(M=X),!(M>=0&&(W++,_>T)));X++);return{toVisibleIndex:Math.max(0,M),visibleSize:Math.max(8,W)}}return{toVisibleIndex:0,visibleSize:8}},Nt=()=>{const o=E.value,s=k.value,a=s?s.$el:null,u=m.value,b=G.value;if(a){const T=o?o.$el:null;let M=0,_;_=a.querySelector("tr"),!_&&T&&(_=T.querySelector("tr")),_&&(M=_.clientHeight),M||(M=b[u||"default"]);const W=Math.max(8,Math.ceil(a.clientHeight/M)+2);return{rowHeight:M,visibleSize:W}}return{rowHeight:0,visibleSize:8}},wt=(o,s,a)=>{for(let u=0,b=o.length;u<b;u++){const T=o[u],{startIndex:M,endIndex:_}=s,W=T[a],X=T[a+"span"],K=W+X;W<M&&M<K&&(s.startIndex=W),W<_&&_<K&&(s.endIndex=K),(s.startIndex!==M||s.endIndex!==_)&&(u=-1)}},Dt=(o,s,a)=>{if(o){const{treeConfig:u}=e,{visibleColumn:b}=p;n.isArray(o)||(o=[o]),u&&o.length&&nt("vxe.error.noTree",["merge-cells | merge-footer-items"]),o.forEach(T=>{let{row:M,col:_,rowspan:W,colspan:X}=T;if(a&&n.isNumber(M)&&(M=a[M]),n.isNumber(_)&&(_=b[_]),(a?M:n.isNumber(M))&&_&&(W||X)&&(W=n.toNumber(W)||1,X=n.toNumber(X)||1,W>1||X>1)){const K=n.findIndexOf(s,Me=>(Me._row===M||ze(D,Me._row)===ze(D,M))&&(Me._col.id===_||Me._col.id===_.id)),be=s[K];if(be)be.rowspan=W,be.colspan=X,be._rowspan=W,be._colspan=X;else{const Me=a?D.findRowIndexOf(a,M):M,Ee=d.getVTColumnIndex(_);s.push({row:Me,col:Ee,rowspan:W,colspan:X,_row:M,_col:_,_rowspan:W,_colspan:X})}}})}},At=(o,s,a)=>{const u=[];if(o){const{treeConfig:b}=e,{visibleColumn:T}=p;n.isArray(o)||(o=[o]),b&&o.length&&nt("vxe.error.noTree",["merge-cells | merge-footer-items"]),o.forEach(M=>{let{row:_,col:W}=M;a&&n.isNumber(_)&&(_=a[_]),n.isNumber(W)&&(W=T[W]);const X=n.findIndexOf(s,K=>(K._row===_||ze(D,K._row)===ze(D,_))&&(K._col.id===W||K._col.id===W.id));if(X>-1){const K=s.splice(X,1);u.push(K[0])}})}return u},Wt=()=>{const{tableFullColumn:o}=p;o.forEach(s=>{s.order=null})},Jt=o=>{const{parentHeight:s}=i,a=e[o];let u=0;if(a)if(a==="100%"||a==="auto")u=s;else{const b=D.getExcludeHeight();Pl(a)?u=Math.floor((n.toInteger(a)||1)/100*s):u=n.toNumber(a),u=Math.max(40,u-b)}return u},Yt=()=>{const{id:o,customConfig:s}=e,a=qe.value,{storage:u}=a,b=u===!0,T=b?{}:Object.assign({},u||{}),M=b||T.resizable,_=b||T.visible,W=b||T.fixed,X=b||T.sort;if(s&&(M||_||W||X)){const K={};if(!o){nt("vxe.error.reqProp",["id"]);return}if(M){const Ie=ht(ci)[o];Ie&&n.each(Ie,(Te,Ne)=>{K[Ne]={resizeWidth:Te}})}if(W){const Ie=ht(ui)[o];Ie&&Ie.split(",").forEach(Ne=>{const[Se,Ge]=Ne.split("|");K[Se]?K[Se].fixed=Ge:K[Se]={fixed:Ge}})}let be=!1;if(X){const Ie=ht(fi)[o];Ie&&n.each(Ie,(Te,Ne)=>{K[Ne]?K[Ne].renderSortNumber=Te:K[Ne]={renderSortNumber:Te},be||(be=!0)})}if(_){const Ie=ht(di)[o];if(Ie){const Te=Ie.split("|"),Ne=Te[0]?Te[0].split(","):[],Se=Te[1]?Te[1].split(","):[];Ne.forEach(Ge=>{K[Ge]?K[Ge].visible=!1:K[Ge]={visible:!1}}),Se.forEach(Ge=>{K[Ge]?K[Ge].visible=!0:K[Ge]={visible:!0}})}}let{collectColumn:Me}=p;const Ee={};n.eachTree(Me,Ie=>{const Te=Ie.getKey();Te&&(Ee[Te]=Ie)}),n.each(K,({visible:Ie,resizeWidth:Te,fixed:Ne,renderSortNumber:Se},Ge)=>{const Ze=Ee[Ge];Ze&&(n.isNumber(Te)&&(Ze.resizeWidth=Te),n.isBoolean(Ie)&&(Ze.visible=Ie),Ne&&(Ze.fixed=Ne),Se&&(Ze.renderSortNumber=Number(Se)))}),be&&(Me=n.orderBy(Me,"renderSortNumber"),p.collectColumn=Me,p.tableFullColumn=Lt(Me))}},Ut=()=>{const{tableFullColumn:o,collectColumn:s}=p,a=p.fullColumnIdData={},u=p.fullColumnFieldData={},b=se.value,T=fe.value,M=ke.value,_=s.some(al);let W=!!e.showOverflow,X,K,be,Me,Ee;const Ie=(Te,Ne,Se,Ge,Ze)=>{const{id:at,field:lt,fixed:ft,type:It,treeNode:zt}=Te,Pt={column:Te,colid:at,index:Ne,items:Se,parent:Ze};lt&&(u[lt]&&st("vxe.error.colRepet",["field",lt]),u[lt]=Pt),!Ee&&It==="html"&&(Ee=Te),zt?(K&&st("vxe.error.colRepet",["tree-node",zt]),K||(K=Te)):It==="expand"&&(X&&st("vxe.error.colRepet",["type",It]),X||(X=Te)),It==="checkbox"?(be&&st("vxe.error.colRepet",["type",It]),be||(be=Te)):It==="radio"&&(Me&&st("vxe.error.colRepet",["type",It]),Me||(Me=Te)),W&&Te.showOverflow===!1&&(W=!1),a[at]&&nt("vxe.error.colRepet",["colId",at]),a[at]=Pt};_?n.eachTree(s,(Te,Ne,Se,Ge,Ze,at)=>{Te.level=at.length,Ie(Te,Ne,Se,Ge,Ze)}):o.forEach(Ie),X&&b.area&&nt("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),Ee&&(T.useKey||nt("vxe.error.reqProp",["column-config.useKey","column.type=html"]),M.useKey||nt("vxe.error.reqProp",["row-config.useKey","column.type=html"])),i.isGroup=_,i.treeNodeColumn=K,i.expandColumn=X,i.isAllOverflow=W},to=()=>{p.customHeight=Jt("height"),p.customMinHeight=Jt("minHeight"),p.customMaxHeight=Jt("maxHeight")},$t=()=>{const o=E.value,s=k.value,a=N.value,u=s?s.$el:null,b=o?o.$el:null,T=a?a.$el:null;if(!u)return;let M=0;const _=40,W=u.clientWidth-1;let X=W,K=X/100;const{fit:be}=e,{columnStore:Me}=i,{resizeList:Ee,pxMinList:Ie,pxList:Te,scaleList:Ne,scaleMinList:Se,autoList:Ge}=Me;if(Ie.forEach(Rt=>{const Ot=n.toInteger(Rt.minWidth);M+=Ot,Rt.renderWidth=Ot}),Se.forEach(Rt=>{const Ot=Math.floor(n.toInteger(Rt.minWidth)*K);M+=Ot,Rt.renderWidth=Ot}),Ne.forEach(Rt=>{const Ot=Math.floor(n.toInteger(Rt.width)*K);M+=Ot,Rt.renderWidth=Ot}),Te.forEach(Rt=>{const Ot=n.toInteger(Rt.width);M+=Ot,Rt.renderWidth=Ot}),Ee.forEach(Rt=>{const Ot=n.toInteger(Rt.resizeWidth);M+=Ot,Rt.renderWidth=Ot}),X-=M,K=X>0?Math.floor(X/(Se.length+Ie.length+Ge.length)):0,be?X>0&&Se.concat(Ie).forEach(Rt=>{M+=K,Rt.renderWidth+=K}):K=_,Ge.forEach(Rt=>{const Ot=Math.max(K,_);Rt.renderWidth=Ot,M+=Ot}),be){const Rt=Ne.concat(Se).concat(Ie).concat(Ge);let Ot=Rt.length-1;if(Ot>0){let _t=W-M;if(_t>0){for(;_t>0&&Ot>=0;)_t--,Rt[Ot--].renderWidth++;M=W}}}const Ze=u.offsetHeight,at=u.scrollHeight>u.clientHeight;let lt=0;at&&(lt=Math.max(u.offsetWidth-u.clientWidth,0)),i.scrollbarWidth=lt,i.overflowY=at,p.tableWidth=M,p.tableHeight=Ze;let ft=0;b&&(ft=b.clientHeight,ee(()=>{b&&u&&b.scrollLeft!==u.scrollLeft&&(b.scrollLeft=u.scrollLeft)})),p.headerHeight=ft;let It=!1,zt=0,Pt=0;T?(zt=T.offsetHeight,It=M>T.clientWidth,It&&(Pt=Math.max(zt-T.clientHeight,0))):(It=M>W,It&&(Pt=Math.max(Ze-u.clientHeight,0))),p.footerHeight=zt,i.overflowX=It,i.scrollbarHeight=Pt,to(),i.parentHeight=Math.max(p.headerHeight+zt+20,x.getParentHeight()),It&&x.checkScrolling()},Bt=o=>{const{sortBy:s,sortType:a}=o;return u=>{let b;return s?b=n.isFunction(s)?s({row:u,column:o}):n.get(u,s):b=x.getCellLabel(u,o),!a||a==="auto"?isNaN(b)?b:n.toNumber(b):a==="number"?n.toNumber(b):a==="string"?n.toValueString(b):b}},jt=()=>{const{treeConfig:o}=e,{afterFullData:s,fullDataRowIdData:a,fullAllDataRowIdData:u}=p,{afterTreeFullData:b}=p,T=U.value,M=T.children||T.childrenField,_={};o?n.eachTree(b,(W,X,K,be)=>{const Me=ze(D,W),Ee=u[Me],Ie=be.map((Te,Ne)=>Ne%2===0?Number(Te)+1:".").join("");if(Ee)Ee.seq=Ie,Ee._index=X;else{const Te={row:W,rowid:Me,seq:Ie,index:-1,$index:-1,_index:X,items:[],parent:null,level:0};u[Me]=Te,a[Me]=Te}_[Me]=W},{children:T.transform?T.mapChildrenField:M}):s.forEach((W,X)=>{const K=ze(D,W),be=u[K],Me=X+1;if(be)be.seq=Me,be._index=X;else{const Ee={row:W,rowid:K,seq:Me,index:-1,$index:-1,_index:X,items:[],parent:null,level:0};u[K]=Ee,a[K]=Ee}_[K]=W}),p.afterFullRowMaps=_},Kt=()=>{const{treeConfig:o}=e,{treeExpandedMaps:s}=i,a=U.value;if(o&&a.transform){const u=[],b={};return n.eachTree(p.afterTreeFullData,(T,M,_,W,X)=>{const K=ze(D,T),be=ze(D,X);(!X||b[be]&&s[be])&&(b[K]=1,u.push(T))},{children:a.mapChildrenField}),p.afterFullData=u,bl(u),u}return p.afterFullData},ro=()=>{const{treeConfig:o}=e,{tableFullColumn:s,tableFullData:a,tableFullTreeData:u}=p,b=oe.value,T=te.value,M=U.value,{transform:_}=M,{remote:W,filterMethod:X}=b,{remote:K,sortMethod:be,multiple:Me,chronological:Ee}=T;let Ie=[],Te=[];if(!W||!K){const Ne=[];let Se=[];if(s.forEach(Ge=>{const{field:Ze,sortable:at,order:lt,filters:ft}=Ge;if(!W&&ft&&ft.length){const It=[],zt=[];ft.forEach(Pt=>{Pt.checked&&(zt.push(Pt),It.push(Pt.value))}),zt.length&&Ne.push({column:Ge,valueList:It,itemList:zt})}!K&&at&&lt&&Se.push({column:Ge,field:Ze,property:Ze,order:lt,sortTime:Ge.sortTime})}),Me&&Ee&&Se.length>1&&(Se=n.orderBy(Se,"sortTime")),!W&&Ne.length){const Ge=Ze=>Ne.every(({column:at,valueList:lt,itemList:ft})=>{const{filterMethod:It,filterRender:zt}=at,Pt=zt?Ke.renderer.get(zt.name):null,Rt=Pt?Pt.filterMethod:null,Ot=Pt?Pt.defaultFilterMethod:null,_t=Ho(Ze,at);return It?ft.some(co=>It({value:co.value,option:co,cellValue:_t,row:Ze,column:at,$table:D})):Rt?ft.some(co=>Rt({value:co.value,option:co,cellValue:_t,row:Ze,column:at,$table:D})):X?X({options:ft,values:lt,cellValue:_t,row:Ze,column:at}):Ot?ft.some(co=>Ot({value:co.value,option:co,cellValue:_t,row:Ze,column:at,$table:D})):lt.indexOf(n.get(Ze,at.field))>-1});o&&_?(Te=n.searchTree(u,Ge,Object.assign(Object.assign({},M),{original:!0})),Ie=Te):(Ie=o?u.filter(Ge):a.filter(Ge),Te=Ie)}else o&&_?(Te=n.searchTree(u,()=>!0,Object.assign(Object.assign({},M),{original:!0})),Ie=Te):(Ie=o?u.slice(0):a.slice(0),Te=Ie);if(!K&&Se.length)if(o&&_){if(be){const Ge=be({data:Te,sortList:Se,$table:D});Te=n.isArray(Ge)?Ge:Te}else Te=n.orderBy(Te,Se.map(({column:Ge,order:Ze})=>[Bt(Ge),Ze]));Ie=Te}else{if(be){const Ge=be({data:Ie,sortList:Se,$table:D});Ie=n.isArray(Ge)?Ge:Ie}else Ie=n.orderBy(Ie,Se.map(({column:Ge,order:Ze})=>[Bt(Ge),Ze]));Te=Ie}}else o&&_?(Te=n.searchTree(u,()=>!0,Object.assign(Object.assign({},M),{original:!0})),Ie=Te):(Ie=o?u.slice(0):a.slice(0),Te=Ie);p.afterFullData=Ie,p.afterTreeFullData=Te,jt()},Zt=()=>{const{border:o,showFooter:s,showOverflow:a,showHeaderOverflow:u,showFooterOverflow:b,mouseConfig:T,spanMethod:M,footerSpanMethod:_,keyboardConfig:W}=e,{isGroup:X,currentRow:K,tableColumn:be,scrollXLoad:Me,scrollYLoad:Ee,scrollbarWidth:Ie,scrollbarHeight:Te,columnStore:Ne,editStore:Se,mergeList:Ge,mergeFooterList:Ze,isAllOverflow:at}=i;let{visibleColumn:lt,fullColumnIdData:ft,tableHeight:It,tableWidth:zt,headerHeight:Pt,footerHeight:Rt,elemStore:Ot,customHeight:_t,customMinHeight:co,customMaxHeight:qo}=p;const Jn=["main","left","right"],kn=ie.value,wl=He.value,Dn=se.value,rn=ye.value,In=Ot["main-body-wrapper"],Fn=In?In.value:null;return kn&&(kn.style.top=`${Pt}px`,kn.style.height=Fn?`${Fn.offsetHeight-Te}px`:""),_t>0&&s&&(_t+=Te),Jn.forEach((Ro,Pn)=>{const vo=Pn>0?Ro:"",no=["header","body","footer"],So=vo==="left";let lo=[],Nn;vo&&(lo=So?Ne.leftList:Ne.rightList,Nn=So?ve.value:ne.value),no.forEach(Bo=>{const ur=Ot[`${Ro}-${Bo}-wrapper`],Zo=ur?ur.value:null,fr=Ot[`${Ro}-${Bo}-table`],Ln=fr?fr.value:null;if(Bo==="header"){let Oo=zt,bo=be;X?bo=lt:vo&&(Me||u)&&(bo=lo),Oo=bo.reduce((uo,El)=>uo+El.renderWidth,0),Ln&&(Ln.style.width=Oo?`${Oo+Ie}px`:"");const ho=Ot[`${Ro}-${Bo}-repair`],Mo=ho?ho.value:null;Mo&&(Mo.style.width=`${zt}px`);const so=Ot[`${Ro}-${Bo}-list`],To=so?so.value:null;X&&To&&n.arrayEach(To.querySelectorAll(".col--group"),uo=>{const El=d.getColumnNode(uo);if(El){const us=El.item,{showHeaderOverflow:_s}=us,bn=n.isBoolean(_s)?_s:u,Qn=bn==="title"||(bn===!0||bn==="tooltip")||bn==="ellipsis";let Sl=0,Ol=0;Qn&&n.eachTree(us.children,fs=>{(!fs.children||!us.children.length)&&Ol++,Sl+=fs.renderWidth},{children:"children"}),uo.style.width=Qn?`${Sl-Ol-(o?2:0)}px`:""}})}else if(Bo==="body"){const Oo=Ot[`${Ro}-${Bo}-emptyBlock`],bo=Oo?Oo.value:null;if(Ks(Zo)){let so=0;const To=co-Pt-Rt;if(qo&&(so=qo-Pt-Rt,vo&&(so-=s?0:Te),so=Math.max(To,so),Zo.style.maxHeight=`${so}px`),_t){let uo=_t-Pt-Rt;vo&&(uo-=s?0:Te),so&&(uo=Math.min(so,uo)),Zo.style.height=`${Math.max(To,uo)}px`}else Zo.style.height="";Zo.style.minHeight=`${To}px`}Nn&&(Ks(Zo)&&(Zo.style.top=`${Pt}px`),Nn.style.height=`${(_t>0?_t-Pt-Rt:It)+Pt+Rt-Te*(s?2:1)}px`,Nn.style.width=`${lo.reduce((so,To)=>so+To.renderWidth,So?0:Ie)}px`);let ho=zt,Mo=be;vo&&(!i.expandColumn&&(Ee||a&&at)&&!Ge.length&&!M&&!(W&&rn.isMerge)?Mo=lo:Mo=lt),ho=Mo.reduce((so,To)=>so+To.renderWidth,0),Ln&&(Ln.style.width=ho?`${ho}px`:"",Ln.style.paddingRight=Ie&&vo&&(Fo["-moz"]||Fo.safari)?`${Ie}px`:""),bo&&(bo.style.width=ho?`${ho}px`:"")}else if(Bo==="footer"){let Oo=zt,bo=be;vo&&(!i.expandColumn&&(Me||b)&&(!Ze.length||!_)?bo=lo:bo=lt),Oo=bo.reduce((ho,Mo)=>ho+Mo.renderWidth,0),Ks(Zo)&&(Nn&&(Zo.style.top=`${_t>0?_t-Rt:It+Pt}px`),Zo.style.marginTop=`${-Math.max(1,Te)}px`),Ln&&(Ln.style.width=Oo?`${Oo+Ie}px`:"")}const pr=Ot[`${Ro}-${Bo}-colgroup`],mr=pr?pr.value:null;mr&&n.arrayEach(mr.children,Oo=>{const bo=Oo.getAttribute("name");if(bo==="col_gutter"&&(Oo.style.width=`${Ie}px`),ft[bo]){const ho=ft[bo].column,{showHeaderOverflow:Mo,showFooterOverflow:so,showOverflow:To}=ho;let uo;Oo.style.width=`${ho.renderWidth}px`,Bo==="header"?uo=n.isUndefined(Mo)||n.isNull(Mo)?u:Mo:Bo==="footer"?uo=n.isUndefined(so)||n.isNull(so)?b:so:uo=n.isUndefined(To)||n.isNull(To)?a:To;let bn=uo==="title"||(uo===!0||uo==="tooltip")||uo==="ellipsis";const qs=Ot[`${Ro}-${Bo}-list`],Gs=qs?qs.value:null;Ee&&!bn&&(bn=!0),Gs&&n.arrayEach(Gs.querySelectorAll(`.${ho.id}`),Ys=>{const Qn=parseInt(Ys.getAttribute("colspan")||1),Sl=Ys.querySelector(".vxe-cell");let Ol=ho.renderWidth;if(Sl){if(Qn>1){const fs=d.getColumnIndex(ho);for(let Us=1;Us<Qn;Us++){const hr=d.getColumns(fs+Us);hr&&(Ol+=hr.renderWidth)}}Sl.style.width=bn?`${Ol-wl*Qn}px`:""}})}})})}),K&&d.setCurrentRow(K),T&&Dn.selected&&Se.selected.row&&Se.selected.column&&D.addCellSelectedClass(),ee()},yo=o=>D.triggerValidate?D.triggerValidate(o):ee(),Po=(o,s)=>{yo("blur").catch(a=>a).then(()=>{D.handleActived(s,o).then(()=>yo("change")).catch(a=>a)})},zo=()=>{const{sortConfig:o}=e;if(o){const s=te.value;let{defaultSort:a}=s;a&&(n.isArray(a)||(a=[a]),a.length&&((o.multiple?a:a.slice(0,1)).forEach((u,b)=>{const{field:T,order:M}=u;if(T&&M){const _=d.getColumnByField(T);_&&_.sortable&&(_.order=M,_.sortTime=Date.now()+b)}}),s.remote||x.handleTableData(!0).then(Zt)))}},Tn=()=>{const{checkboxConfig:o}=e;if(o){const{fullDataRowIdData:s}=p,a=P.value,{checkAll:u,checkRowKeys:b}=a;if(u)Lo(!0,!0);else if(b){const T=[];b.forEach(M=>{s[M]&&T.push(s[M].row)}),No(T,!0,!0)}}},hn=()=>{const{radioConfig:o}=e;if(o){const{fullDataRowIdData:s}=p,a=ce.value,{checkRowKey:u,reserve:b}=a;if(u&&(s[u]&&oo(s[u].row,!0),b)){const T=Vn(D);p.radioReserveRow={[T]:u}}}},Xn=()=>{const{expandConfig:o}=e;if(o){const{fullDataRowIdData:s}=p,a=A.value,{expandAll:u,expandRowKeys:b}=a;if(u)d.setAllRowExpand(!0);else if(b){const T=[];b.forEach(M=>{s[M]&&T.push(s[M].row)}),d.setRowExpand(T,!0)}}},Rn=o=>{ce.value.reserve&&(p.radioReserveRow=o)},wo=(o,s)=>{const{checkboxReserveRowMap:a}=p;if(P.value.reserve){const b=ze(D,o);s?a[b]=o:a[b]&&delete a[b]}},oo=(o,s)=>{const a=ce.value,{checkMethod:u}=a;return o&&(s||!u||u({row:o}))&&(i.selectRadioRow=o,Rn(o)),ee()},No=(o,s,a)=>(o&&!n.isArray(o)&&(o=[o]),o.forEach(u=>x.handleSelectRow({row:u},!!s,a)),ee()),Lo=(o,s)=>{const{treeConfig:a}=e,{selectCheckboxMaps:u}=i,{afterFullData:b,afterFullRowMaps:T,checkboxReserveRowMap:M}=p,_=U.value,W=_.children||_.childrenField,X=P.value,{checkField:K,reserve:be,checkStrictly:Me,checkMethod:Ee}=X,Ie=X.indeterminateField||X.halfField,Te={};if(a||n.each(u,(Ne,Se)=>{T[Se]||(Te[Se]=Ne)}),Me)i.isAllSelected=o;else{if(K){const Ne=Se=>{(s||!Ee||Ee({row:Se}))&&(o&&(Te[ze(D,Se)]=Se),n.set(Se,K,o)),a&&Ie&&n.set(Se,Ie,!1)};a?n.eachTree(b,Ne,{children:W}):b.forEach(Ne)}else a?o?n.eachTree(b,Ne=>{(s||!Ee||Ee({row:Ne}))&&(Te[ze(D,Ne)]=Ne)},{children:W}):!s&&Ee&&n.eachTree(b,Ne=>{const Se=ze(D,Ne);!Ee({row:Ne})&&u[Se]&&(Te[Se]=Ne)},{children:W}):o?!s&&Ee?b.forEach(Ne=>{const Se=ze(D,Ne);(u[Se]||Ee({row:Ne}))&&(Te[Se]=Ne)}):b.forEach(Ne=>{Te[ze(D,Ne)]=Ne}):!s&&Ee&&b.forEach(Ne=>{const Se=ze(D,Ne);!Ee({row:Ne})&&u[Se]&&(Te[Se]=Ne)});be&&(o?n.each(Te,(Ne,Se)=>{M[Se]=Ne}):b.forEach(Ne=>wo(Ne,!1))),i.selectCheckboxMaps=K?{}:Te}return i.treeIndeterminateMaps={},p.treeIndeterminateRowMaps={},x.checkSelectionStatus(),ee()},Wo=()=>{const{treeConfig:o}=e,{expandColumn:s,currentRow:a,selectCheckboxMaps:u,selectRadioRow:b,rowExpandedMaps:T,treeExpandedMaps:M}=i,{fullDataRowIdData:_,fullAllDataRowIdData:W,radioReserveRow:X}=p,K=A.value,be=U.value,Me=ce.value,Ee=P.value;if(b&&!W[ze(D,b)]&&(i.selectRadioRow=null),Me.reserve&&X){const Ie=ze(D,X);_[Ie]&&oo(_[Ie].row,!0)}i.selectCheckboxMaps=rt(u),Ee.reserve&&No(Mt(p.checkboxReserveRowMap),!0,!0),a&&!W[ze(D,a)]&&(i.currentRow=null),i.rowExpandedMaps=s?rt(T):{},s&&K.reserve&&d.setRowExpand(Mt(p.rowExpandedReserveRowMap),!0),i.treeExpandedMaps=o?rt(M):{},o&&be.reserve&&d.setTreeExpand(Mt(p.treeExpandedReserveRowMap),!0)},nn=()=>{const{treeConfig:o}=e;if(o){const{tableFullData:s}=p,a=U.value,{expandAll:u,expandRowKeys:b}=a,T=a.children||a.childrenField;if(u)d.setAllTreeExpand(!0);else if(b){const M=[],_=Vn(D);b.forEach(W=>{const X=n.findTree(s,K=>W===n.get(K,_),{children:T});X&&M.push(X.item)}),d.setTreeExpand(M,!0)}}},Uo=o=>{const s=U.value,a=P.value,{transform:u,loadMethod:b}=s,{checkStrictly:T}=a;return new Promise(M=>{if(b){const{treeExpandLazyLoadedMaps:_}=i,{fullAllDataRowIdData:W}=p,X=ze(D,o),K=W[X];_[X]=o,b({$table:D,row:o}).then(be=>{if(K.treeLoaded=!0,_[X]&&delete _[X],n.isArray(be)||(be=[]),be)return d.loadTreeChildren(o,be).then(Me=>{const{treeExpandedMaps:Ee}=i;return Me.length&&!Ee[X]&&(Ee[X]=o),!T&&d.isCheckedByCheckboxRow(o)&&No(Me,!0),ee().then(()=>{if(u)return x.handleTableData()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:be}=i;K.treeLoaded=!1,be[X]&&delete be[X]}).finally(()=>{ee().then(()=>d.recalculate()).then(()=>M())})}else M()})},Vo=(o,s)=>{const{treeExpandedReserveRowMap:a}=p;if(U.value.reserve){const b=ze(D,o);s?a[b]=o:a[b]&&delete a[b]}},mo=o=>new Promise(s=>{const a=A.value,{loadMethod:u}=a;if(u){const{fullAllDataRowIdData:b}=p,{rowExpandLazyLoadedMaps:T}=i,M=ze(D,o),_=b[M];T[M]=o,u({$table:D,row:o,rowIndex:d.getRowIndex(o),$rowIndex:d.getVMRowIndex(o)}).then(()=>{const{rowExpandedMaps:W}=i;_.expandLoaded=!0,W[M]=o}).catch(()=>{_.expandLoaded=!1}).finally(()=>{const{rowExpandLazyLoadedMaps:W}=i;W[M]&&delete W[M],ee().then(()=>d.recalculate()).then(()=>s())})}else s()}),Ao=(o,s)=>{const{rowExpandedReserveRowMap:a}=p;if(A.value.reserve){const b=ze(D,o);s?a[b]=o:a[b]&&delete a[b]}},gn=()=>{const{mergeCells:o}=e;o&&d.setMergeCells(o)},Xo=()=>{const{mergeFooterItems:o}=e;o&&d.setMergeFooterItems(o)},Ko=()=>ee().then(()=>{const{scrollXLoad:o,scrollYLoad:s}=i,{scrollXStore:a,scrollYStore:u}=p,b=j.value,T=S.value;if(o){const{visibleSize:W}=Ct(),X=T.oSize?n.toNumber(T.oSize):Fo.edge?5:0;a.offsetSize=X,a.visibleSize=W,a.endIndex=Math.max(a.startIndex+a.visibleSize+X,a.endIndex),x.updateScrollXData()}else x.updateScrollXSpace();const{rowHeight:M,visibleSize:_}=Nt();if(u.rowHeight=M,s){const W=b.oSize?n.toNumber(b.oSize):Fo.edge?10:0;u.offsetSize=W,u.visibleSize=_,u.endIndex=Math.max(u.startIndex+_+W,u.endIndex),x.updateScrollYData()}else x.updateScrollYSpace();i.rowHeight=M,ee(Zt)}),$o=o=>{const{keepSource:s,treeConfig:a}=e,{editStore:u,scrollYLoad:b}=i,{scrollYStore:T,scrollXStore:M,lastScrollLeft:_,lastScrollTop:W}=p,X=U.value,{transform:K}=X,be=X.children||X.childrenField;let Me=[],Ee=qt(o?o.slice(0):[]);a&&(K?(X.rowField||nt("vxe.error.reqProp",["tree-config.rowField"]),X.parentField||nt("vxe.error.reqProp",["tree-config.parentField"]),be||nt("vxe.error.reqProp",["tree-config.childrenField"]),X.mapChildrenField||nt("vxe.error.reqProp",["tree-config.mapChildrenField"]),be===X.mapChildrenField&&nt("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),Me=n.toArrayTree(Ee,{key:X.rowField,parentKey:X.parentField,children:be,mapChildren:X.mapChildrenField}),Ee=Me.slice(0)):Me=Ee.slice(0)),T.startIndex=0,T.endIndex=1,M.startIndex=0,M.endIndex=1,i.scrollVMLoading=!1,u.insertMaps={},u.removeMaps={};const Ie=bl(Ee);return i.scrollYLoad=Ie,p.tableFullData=Ee,p.tableFullTreeData=Me,x.cacheRowMap(!0),p.tableSynchData=o,s&&x.cacheSourceMap(Ee),Ie&&(e.height||e.maxHeight||nt("vxe.error.reqProp",["table.height | table.max-height | table.scroll-y={enabled: false}"]),e.showOverflow||st("vxe.error.reqProp",["table.show-overflow"]),e.spanMethod&&st("vxe.error.scrollErrProp",["table.span-method"])),D.clearCellAreas&&e.mouseConfig&&(D.clearCellAreas(),D.clearCopyCellArea()),d.clearMergeCells(),d.clearMergeFooterItems(),x.handleTableData(!0),d.updateFooter(),ee().then(()=>{to(),Zt()}).then(()=>{Ko()}).then(()=>(Ie&&(T.endIndex=T.visibleSize),Wo(),x.checkSelectionStatus(),new Promise(Te=>{ee().then(()=>d.recalculate()).then(()=>{let Ne=_,Se=W;const Ge=S.value,Ze=j.value;Ge.scrollToLeftOnChange&&(Ne=0),Ze.scrollToTopOnChange&&(Se=0),b===Ie?Zs(D,Ne,Se).then(Te):setTimeout(()=>Zs(D,Ne,Se).then(Te))})})))},vn=()=>{Tn(),hn(),Xn(),nn(),gn(),Xo(),ee(()=>setTimeout(()=>d.recalculate()))},Eo=()=>{zo()},eo=()=>{const{scrollXLoad:o}=i,{visibleColumn:s,scrollXStore:a,fullColumnIdData:u}=p,b=o?s.slice(a.startIndex,a.endIndex):s.slice(0);b.forEach((T,M)=>{const _=T.id,W=u[_];W&&(W.$index=M)}),i.tableColumn=b},ln=()=>{const{mergeList:o,mergeFooterList:s}=i,{scrollXStore:a}=p,{startIndex:u,endIndex:b,offsetSize:T}=a,{toVisibleIndex:M,visibleSize:_}=Ct(),W={startIndex:Math.max(0,M-1-T),endIndex:M+_+T};wt(o.concat(s),W,"col");const{startIndex:X,endIndex:K}=W;(M<=u||M>=b-_-1)&&(u!==X||b!==K)&&(a.startIndex=X,a.endIndex=K,x.updateScrollXData()),d.closeTooltip()},Lt=o=>{const s=[];return o.forEach(a=>{s.push(...a.children&&a.children.length?Lt(a.children):[a])}),s},ao=()=>{const o=[],s=[],a=[],{isGroup:u,columnStore:b}=i,T=S.value,{collectColumn:M,tableFullColumn:_,scrollXStore:W,fullColumnIdData:X}=p;if(u){const Me=[],Ee=[],Ie=[];n.eachTree(M,(Te,Ne,Se,Ge,Ze)=>{const at=al(Te);Ze&&Ze.fixed&&(Te.fixed=Ze.fixed),Ze&&Te.fixed!==Ze.fixed&&nt("vxe.error.groupFixed"),at?Te.visible=!!n.findTree(Te.children,lt=>al(lt)?!1:lt.visible):Te.visible&&(Te.fixed==="left"?o.push(Te):Te.fixed==="right"?a.push(Te):s.push(Te))}),M.forEach(Te=>{Te.visible&&(Te.fixed==="left"?Me.push(Te):Te.fixed==="right"?Ie.push(Te):Ee.push(Te))}),i.tableGroupColumn=Me.concat(Ee).concat(Ie)}else _.forEach(Me=>{Me.visible&&(Me.fixed==="left"?o.push(Me):Me.fixed==="right"?a.push(Me):s.push(Me))});const K=o.concat(s).concat(a),be=!!T.enabled&&T.gt>-1&&(T.gt===0||T.gt<_.length);if(i.hasFixedColumn=o.length>0||a.length>0,Object.assign(b,{leftList:o,centerList:s,rightList:a}),be){e.spanMethod&&st("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&st("vxe.error.scrollErrProp",["footer-span-method"]);const{visibleSize:Me}=Ct();W.startIndex=0,W.endIndex=Me,W.visibleSize=Me}return(K.length!==p.visibleColumn.length||!p.visibleColumn.every((Me,Ee)=>Me===K[Ee]))&&(d.clearMergeCells(),d.clearMergeFooterItems()),i.scrollXLoad=be,K.forEach((Me,Ee)=>{const Ie=Me.id,Te=X[Ie];Te&&(Te._index=Ee)}),p.visibleColumn=K,eo(),d.updateFooter().then(()=>d.recalculate()).then(()=>(d.updateCellAreas(),d.recalculate()))},_o=()=>{const{collectColumn:o}=p;o.forEach((s,a)=>{const u=a+1;s.sortNumber=u,s.renderSortNumber=u})},Mn=o=>{p.collectColumn=o;const s=Lt(o);return p.tableFullColumn=s,_o(),Yt(),Ut(),ao().then(()=>{i.scrollXLoad&&ln()}),d.clearMergeCells(),d.clearMergeFooterItems(),x.handleTableData(!0),(i.scrollXLoad||i.scrollYLoad)&&i.expandColumn&&st("vxe.error.scrollErrProp",["column.type=expand"]),ee().then(()=>(L&&L.syncUpdate({collectColumn:o,$table:D}),d.recalculate()))},bl=o=>{const{treeConfig:s}=e,a=j.value,u=U.value,{transform:b}=u,T=o||p.tableFullData,M=(b||!s)&&!!a.enabled&&a.gt>-1&&(a.gt===0||a.gt<T.length);return i.scrollYLoad=M,M},ss=(o,s)=>{const{treeExpandedMaps:a,treeExpandLazyLoadedMaps:u,treeNodeColumn:b}=i,T=Object.assign({},a),{fullAllDataRowIdData:M,tableFullData:_}=p,W=U.value,{reserve:X,lazy:K,accordion:be,toggleMethod:Me}=W,Ee=W.children||W.childrenField,Ie=W.hasChild||W.hasChildField,Te=[],Ne=d.getColumnIndex(b),Se=d.getVMColumnIndex(b);let Ge=Me?o.filter(Ze=>Me({$table:D,expanded:s,column:b,columnIndex:Ne,$columnIndex:Se,row:Ze})):o;if(be){Ge=Ge.length?[Ge[Ge.length-1]]:[];const Ze=n.findTree(_,at=>at===Ge[0],{children:Ee});Ze&&Ze.items.forEach(at=>{const lt=ze(D,at);T[lt]&&delete T[lt]})}return s?Ge.forEach(Ze=>{const at=ze(D,Ze);if(!T[at]){const lt=M[at];K&&Ze[Ie]&&!lt.treeLoaded&&!u[at]?Te.push(Uo(Ze)):Ze[Ee]&&Ze[Ee].length&&(T[at]=Ze)}}):Ge.forEach(Ze=>{const at=ze(D,Ze);T[at]&&delete T[at]}),X&&Ge.forEach(Ze=>Vo(Ze,s)),i.treeExpandedMaps=T,Promise.all(Te).then(()=>d.recalculate())},Ns=(o,s)=>ss(o,s).then(()=>(Kt(),x.handleTableData())).then(()=>d.recalculate()),is=o=>{const{mergeList:s}=i,{scrollYStore:a}=p,{startIndex:u,endIndex:b,visibleSize:T,offsetSize:M,rowHeight:_}=a,X=(o.currentTarget||o.target).scrollTop,K=Math.floor(X/_),be={startIndex:Math.max(0,K-1-M),endIndex:K+T+M};wt(s,be,"row");const{startIndex:Me,endIndex:Ee}=be;(K<=u||K>=b-T-1)&&(u!==Me||b!==Ee)&&(a.startIndex=Me,a.endIndex=Ee,x.updateScrollYData())},Kn=o=>function(s){const{fullAllDataRowIdData:a}=p;if(s){const u=ze(D,s),b=a[u];if(b)return b[o]}return-1},sn=o=>function(s){const{fullColumnIdData:a}=p;if(s){const u=a[s.id];if(u)return u[o]}return-1},Ls=n.debounce(function(o){is(o)},20,{leading:!1,trailing:!0});let rs;d={dispatchEvent(o,s,a){c(o,Object.assign({$table:D,$grid:Q,$event:a},s))},clearAll(){return xc(D)},syncData(){return st("vxe.error.delFunc",["syncData","getData"]),ee().then(()=>(i.tableData=[],c("update:data",p.tableFullData),ee()))},updateData(){const{scrollXLoad:o,scrollYLoad:s}=i;return x.handleTableData(!0).then(()=>{if(d.updateFooter(),o||s)return o&&x.updateScrollXSpace(),s&&x.updateScrollYSpace(),d.refreshScroll()}).then(()=>(d.updateCellAreas(),d.recalculate(!0))).then(()=>{setTimeout(()=>D.recalculate(),50)})},loadData(o){const{inited:s,initStatus:a}=p;return $o(o).then(()=>(p.inited=!0,p.initStatus=!0,a||vn(),s||Eo(),d.recalculate()))},reloadData(o){const{inited:s}=p;return d.clearAll().then(()=>(p.inited=!0,p.initStatus=!0,$o(o))).then(()=>(vn(),s||Eo(),d.recalculate()))},setRow(o,s){if(s){let a=o;n.isArray(o)||(a=[o]),a.forEach(u=>Object.assign(u,s))}return ee()},reloadRow(o,s,a){const{keepSource:u}=e,{tableData:b}=i,{tableSourceData:T}=p;if(u){const M=d.getRowIndex(o),_=T[M];if(_&&o)if(a){const W=n.get(s||o,a);n.set(o,a,W),n.set(_,a,W)}else{const W=n.clone(Object.assign({},s),!0);n.destructuring(_,Object.assign(o,W))}i.tableData=b.slice(0)}else st("vxe.error.reqProp",["keep-source"]);return ee()},loadTreeChildren(o,s){const{keepSource:a}=e,{tableSourceData:u,fullDataRowIdData:b,fullAllDataRowIdData:T,sourceDataRowIdData:M}=p,_=U.value,{transform:W,mapChildrenField:X}=_,K=_.children||_.childrenField,be=T[ze(D,o)],Me=be?be.level:0;return d.createData(s).then(Ee=>{if(a){const Ie=ze(D,o),Te=n.findTree(u,Ne=>Ie===ze(D,Ne),{children:K});Te&&(Te.item[K]=n.clone(Ee,!0)),Ee.forEach(Ne=>{const Se=ze(D,Ne);M[Se]=n.clone(Ne,!0)})}return n.eachTree(Ee,(Ie,Te,Ne,Se,Ge,Ze)=>{const at=ze(D,Ie),lt=Ge||be.row,ft={row:Ie,rowid:at,seq:-1,index:Te,_index:-1,$index:-1,items:Ne,parent:lt,level:Me+Ze.length};b[at]=ft,T[at]=ft},{children:K}),o[K]=Ee,W&&(o[X]=Ee),jt(),Ee})},loadColumn(o){const s=n.mapTree(o,a=>qt(dt.createColumn(D,a)));return Mn(s)},reloadColumn(o){return d.clearAll().then(()=>d.loadColumn(o))},getRowNode(o){if(o){const{fullAllDataRowIdData:s}=p,a=o.getAttribute("rowid");if(a){const u=s[a];if(u)return{rowid:u.rowid,item:u.row,index:u.index,items:u.items,parent:u.parent}}}return null},getColumnNode(o){if(o){const{fullColumnIdData:s}=p,a=o.getAttribute("colid");if(a){const u=s[a];if(u)return{colid:u.colid,item:u.column,index:u.index,items:u.items,parent:u.parent}}}return null},getRowSeq:Kn("seq"),getRowIndex:Kn("index"),getVTRowIndex:Kn("_index"),getVMRowIndex:Kn("$index"),getColumnIndex:sn("index"),getVTColumnIndex:sn("_index"),getVMColumnIndex:sn("$index"),createData(o){return ee().then(()=>qt(x.defineField(o)))},createRow(o){const s=n.isArray(o);return s||(o=[o||{}]),d.createData(o).then(a=>s?a:a[0])},revertData(o,s){const{keepSource:a}=e,{tableSourceData:u,sourceDataRowIdData:b}=p;if(!a)return st("vxe.error.reqProp",["keep-source"]),ee();let T=o;return o?n.isArray(o)||(T=[o]):T=n.toArray(D.getUpdateRecords()),T.length&&T.forEach(M=>{if(!d.isInsertByRow(M)){const _=ze(D,M),W=b[_];W&&M&&(s?n.set(M,s,n.clone(n.get(W,s),!0)):n.destructuring(M,n.clone(W,!0)))}}),o?ee():d.reloadData(u)},clearData(o,s){const{tableFullData:a,visibleColumn:u}=p;return arguments.length?o&&!n.isArray(o)&&(o=[o]):o=a,s?o.forEach(b=>n.set(b,s,null)):o.forEach(b=>{u.forEach(T=>{T.field&&dn(b,T,null)})}),ee()},isInsertByRow(o){const{editStore:s}=i,a=ze(D,o);return s.insertMaps[a]},removeInsertRow(){const{editStore:o}=i;return o.insertMaps={},D.remove(D.getInsertRecords())},isUpdateByRow(o,s){const{keepSource:a}=e,{tableFullColumn:u,fullDataRowIdData:b,sourceDataRowIdData:T}=p;if(a){const M=ze(D,o);if(!b[M])return!1;const _=T[M];if(_){if(arguments.length>1)return!Tt(_,o,s);for(let W=0,X=u.length;W<X;W++){const K=u[W].field;if(K&&!Tt(_,o,K))return!0}}}return!1},getColumns(o){const s=p.visibleColumn;return n.isUndefined(o)?s.slice(0):s[o]},getColumnById(o){const s=p.fullColumnIdData;return o&&s[o]?s[o].column:null},getColumnByField(o){const s=p.fullColumnFieldData;return o&&s[o]?s[o].column:null},getTableColumn(){return{collectColumn:p.collectColumn.slice(0),fullColumn:p.tableFullColumn.slice(0),visibleColumn:p.visibleColumn.slice(0),tableColumn:i.tableColumn.slice(0)}},getData(o){const s=e.data||p.tableSynchData;return n.isUndefined(o)?s.slice(0):s[o]},getCheckboxRecords(o){const{treeConfig:s}=e,{tableFullData:a,afterFullData:u,afterTreeFullData:b,tableFullTreeData:T,fullDataRowIdData:M,afterFullRowMaps:_}=p,W=U.value,X=P.value,{transform:K,mapChildrenField:be}=W,{checkField:Me}=X,Ee=W.children||W.childrenField;let Ie=[];const Te=o?K?T:a:K?b:u;if(Me)s?Ie=n.filterTree(Te,Ne=>n.get(Ne,Me),{children:K?be:Ee}):Ie=Te.filter(Ne=>n.get(Ne,Me));else{const{selectCheckboxMaps:Ne}=i;n.each(Ne,(Se,Ge)=>{o?M[Ge]&&Ie.push(M[Ge].row):_[Ge]&&Ie.push(_[Ge])})}return Ie},getParentRow(o){const{treeConfig:s}=e,{fullDataRowIdData:a}=p;if(o&&s){let u;if(n.isString(o)?u=o:u=ze(D,o),u){const b=a[u];return b?b.parent:null}}return null},getRowById(o){const{fullDataRowIdData:s}=p,a=n.eqNull(o)?"":encodeURIComponent(o||"");return s[a]?s[a].row:null},getRowid(o){return ze(D,o)},getTableData(){const{tableData:o,footerTableData:s}=i,{tableFullData:a,afterFullData:u,tableFullTreeData:b}=p;return{fullData:e.treeConfig?b.slice(0):a.slice(0),visibleData:u.slice(0),tableData:o.slice(0),footerData:s.slice(0)}},setColumnFixed(o,s){const a=xo(D,o),u=Cr(D,a),b=et.value,T=fe.value,{maxFixedSize:M}=T;return u&&u.fixed!==s?!u.fixed&&b?(Ke.modal&&Ke.modal.message({status:"error",content:f.i18n("vxe.table.maxFixedCol",[M])}),ee()):(n.eachTree([u],_=>{_.fixed=s}),x.saveCustomFixed(),d.refreshColumn()):ee()},clearColumnFixed(o){const s=xo(D,o),a=Cr(D,s);return a&&a.fixed?(n.eachTree([a],u=>{u.fixed=null}),x.saveCustomFixed(),d.refreshColumn()):ee()},hideColumn(o){const s=xo(D,o);return s&&s.visible?(s.visible=!1,x.handleCustom()):ee()},showColumn(o){const s=xo(D,o);return s&&!s.visible?(s.visible=!0,x.handleCustom()):ee()},setColumnWidth(o,s){const a=xo(D,o);if(a){const u=n.toInteger(s);let b=u;if(Pl(s)){const T=k.value,M=T?T.$el:null,_=M?M.clientWidth-1:0;b=Math.floor(u*_)}a.renderWidth=b}return ee()},getColumnWidth(o){const s=xo(D,o);return s?s.renderWidth:0},resetColumn(o){const{collectColumn:s}=p,a=qe.value,{checkMethod:u}=a,b=Object.assign({visible:!0,resizable:o===!0,fixed:o===!0,sort:o===!0},o);return n.eachTree(s,T=>{b.resizable&&(T.resizeWidth=0),b.fixed&&(T.fixed=T.defaultFixed),b.sort&&(T.renderSortNumber=T.sortNumber),(!u||u({column:T}))&&(T.visible=T.defaultVisible)}),b.resizable&&x.saveCustomResizable(!0),b.sort&&x.saveCustomSort(!0),b.fixed&&x.saveCustomFixed(),x.handleCustom()},refreshColumn(o){if(o){const s=n.orderBy(p.collectColumn,"renderSortNumber");p.collectColumn=s;const a=Lt(s);p.tableFullColumn=a,Ut()}return ao().then(()=>d.refreshScroll()).then(()=>d.recalculate())},refreshScroll(){const{lastScrollLeft:o,lastScrollTop:s}=p,a=k.value,u=N.value,b=I.value,T=ue.value,M=a?a.$el:null,_=b?b.$el:null,W=T?T.$el:null,X=u?u.$el:null;return new Promise(K=>{if(o||s)return Zs(D,o,s).then().then(()=>{setTimeout(K,30)});ps(M,s),ps(_,s),ps(W,s),gr(X,o),setTimeout(K,30)})},recalculate(o){return $t(),o===!0?Ko().then(()=>($t(),Ko())):Ko()},openTooltip(o,s){const a=V.value;return a?a.open(o,s):ee()},closeTooltip(){const{tooltipStore:o}=i,s=$.value,a=V.value;return o.visible&&(Object.assign(o,{row:null,column:null,content:null,visible:!1}),s&&s.close()),a&&a.close(),ee()},isAllCheckboxChecked(){return i.isAllSelected},isAllCheckboxIndeterminate(){return!i.isAllSelected&&i.isIndeterminate},getCheckboxIndeterminateRecords(o){const{treeConfig:s}=e,{fullDataRowIdData:a}=p,{treeIndeterminateMaps:u}=i;if(s){const b=[],T=[];return n.each(u,(M,_)=>{M&&(b.push(M),a[_]&&T.push(M))}),o?b:T}return[]},setCheckboxRow(o,s){return No(o,s,!0)},isCheckedByCheckboxRow(o){const{selectCheckboxMaps:s}=i,a=P.value,{checkField:u}=a;return u?n.get(o,u):!!s[ze(D,o)]},isIndeterminateByCheckboxRow(o){const{treeIndeterminateMaps:s}=i;return!!s[ze(D,o)]&&!d.isCheckedByCheckboxRow(o)},toggleCheckboxRow(o){const{selectCheckboxMaps:s}=i,a=P.value,{checkField:u}=a,b=u?!n.get(o,u):!s[ze(D,o)];return x.handleSelectRow({row:o},b,!0),ee()},setAllCheckboxRow(o){return Lo(o,!0)},getRadioReserveRecord(o){const{treeConfig:s}=e,{fullDataRowIdData:a,radioReserveRow:u,afterFullData:b}=p,T=ce.value,M=U.value,_=M.children||M.childrenField;if(T.reserve&&u){const W=ze(D,u);if(o){if(!a[W])return u}else{const X=Vn(D);if(s){if(n.findTree(b,be=>W===n.get(be,X),{children:_}))return u}else if(!b.some(K=>W===n.get(K,X)))return u}}return null},clearRadioReserve(){return p.radioReserveRow=null,ee()},getCheckboxReserveRecords(o){const{treeConfig:s}=e,{afterFullData:a,fullDataRowIdData:u,checkboxReserveRowMap:b}=p,T=P.value,M=U.value,_=M.children||M.childrenField,W=[];if(T.reserve){const X={};s?n.eachTree(a,K=>{X[ze(D,K)]=1},{children:_}):a.forEach(K=>{X[ze(D,K)]=1}),n.each(b,(K,be)=>{K&&(o?u[be]||W.push(K):X[be]||W.push(K))})}return W},clearCheckboxReserve(){return p.checkboxReserveRowMap={},ee()},toggleAllCheckboxRow(){return x.triggerCheckAllEvent(null,!i.isAllSelected),ee()},clearCheckboxRow(){const{treeConfig:o}=e,{tableFullData:s}=p,a=U.value,u=a.children||a.childrenField,b=P.value,{checkField:T,reserve:M}=b,_=b.indeterminateField||b.halfField;if(T){const W=X=>{o&&_&&n.set(X,_,!1),n.set(X,T,!1)};o?n.eachTree(s,W,{children:u}):s.forEach(W)}return M&&s.forEach(W=>wo(W,!1)),i.isAllSelected=!1,i.isIndeterminate=!1,i.selectCheckboxMaps={},i.treeIndeterminateMaps={},ee()},setCurrentRow(o){const s=ke.value,a=B.value;return d.clearCurrentRow(),i.currentRow=o,(s.isCurrent||e.highlightCurrentRow)&&a&&n.arrayEach(a.querySelectorAll(`[rowid="${ze(D,o)}"]`),u=>un(u,"row--current")),ee()},isCheckedByRadioRow(o){return D.eqRow(i.selectRadioRow,o)},setRadioRow(o){return oo(o,!0)},clearCurrentRow(){const o=B.value;return i.currentRow=null,p.hoverRow=null,o&&n.arrayEach(o.querySelectorAll(".row--current"),s=>Io(s,"row--current")),ee()},clearRadioRow(){return i.selectRadioRow=null,ee()},getCurrentRecord(){return ke.value.isCurrent||e.highlightCurrentRow?i.currentRow:null},getRadioRecord(o){const{fullDataRowIdData:s,afterFullRowMaps:a}=p,{selectRadioRow:u}=i;if(u){const b=ze(D,u);if(o){if(s[b])return u}else if(a[b])return u}return null},getCurrentColumn(){return fe.value.isCurrent||e.highlightCurrentColumn?i.currentColumn:null},setCurrentColumn(o){const s=xo(D,o);return s&&(d.clearCurrentColumn(),i.currentColumn=s),ee()},clearCurrentColumn(){return i.currentColumn=null,ee()},setPendingRow(o,s){const a=Object.assign({},i.pendingRowMaps),u=[...i.pendingRowList];return o&&!n.isArray(o)&&(o=[o]),s?o.forEach(b=>{const T=ze(D,b);T&&!a[T]&&(u.push(b),a[T]=b)}):o.forEach(b=>{const T=ze(D,b);if(T&&a[T]){const M=D.findRowIndexOf(u,b);M>-1&&u.splice(M,1),delete a[T]}}),i.pendingRowMaps=a,i.pendingRowList=u,ee()},togglePendingRow(o){const s=Object.assign({},i.pendingRowMaps),a=[...i.pendingRowList];return o&&!n.isArray(o)&&(o=[o]),o.forEach(u=>{const b=ze(D,u);if(b)if(s[b]){const T=D.findRowIndexOf(a,u);T>-1&&a.splice(T,1),delete s[b]}else a.push(u),s[b]=u}),i.pendingRowMaps=s,i.pendingRowList=a,ee()},hasPendingByRow(o){const{pendingRowMaps:s}=i,a=ze(D,o);return!!s[a]},getPendingRecords(){const{pendingRowList:o}=i;return o.slice(0)},clearPendingRow(){return i.pendingRowMaps={},i.pendingRowList=[],ee()},sort(o,s){const a=te.value,{multiple:u,remote:b,orders:T}=a;return o&&n.isString(o)&&(o=[{field:o,order:s}]),n.isArray(o)||(o=[o]),o.length?(u||Wt(),(u?o:[o[0]]).forEach((M,_)=>{let{field:W,order:X}=M,K=W;n.isString(W)&&(K=d.getColumnByField(W)),K&&K.sortable&&(T.indexOf(X)===-1&&(X=xt(K)),K.order!==X&&(K.order=X),K.sortTime=Date.now()+_)}),b||x.handleTableData(!0),ee().then(()=>(d.updateCellAreas(),Zt()))):ee()},clearSort(o){const s=te.value;if(o){const a=xo(D,o);a&&(a.order=null)}else Wt();return s.remote||x.handleTableData(!0),ee().then(Zt)},isSort(o){if(o){const s=xo(D,o);return s?s.sortable&&!!s.order:!1}return d.getSortColumns().length>0},getSortColumns(){const o=te.value,{multiple:s,chronological:a}=o,u=[],{tableFullColumn:b}=p;return b.forEach(T=>{const{field:M,order:_}=T;T.sortable&&_&&u.push({column:T,field:M,property:M,order:_,sortTime:T.sortTime})}),s&&a&&u.length>1?n.orderBy(u,"sortTime"):u},closeFilter(){const{filterStore:o}=i,{column:s,visible:a}=o;return Object.assign(o,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),a&&D.dispatchEvent("filter-visible",{column:s,property:s.field,field:s.field,filterList:D.getCheckedFilters(),visible:!1},null),ee()},isActiveFilterByColumn(o){const s=xo(D,o);return s?s.filters&&s.filters.some(a=>a.checked):D.getCheckedFilters().length>0},isFilter(o){return d.isActiveFilterByColumn(o)},isRowExpandLoaded(o){const{fullAllDataRowIdData:s}=p,a=s[ze(D,o)];return a&&!!a.expandLoaded},clearRowExpandLoaded(o){const{rowExpandLazyLoadedMaps:s}=i,{fullAllDataRowIdData:a}=p,u=A.value,{lazy:b}=u,T=ze(D,o),M=a[T];return b&&M&&(M.expandLoaded=!1,delete s[T]),ee()},reloadRowExpand(o){const{rowExpandLazyLoadedMaps:s}=i,a=A.value,{lazy:u}=a,b=ze(D,o);return u&&!s[b]&&d.clearRowExpandLoaded(o).then(()=>mo(o)),ee()},reloadExpandContent(o){return st("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),d.reloadRowExpand(o)},toggleRowExpand(o){return d.setRowExpand(o,!d.isRowExpandByRow(o))},setAllRowExpand(o){const s=U.value,{tableFullData:a,tableFullTreeData:u}=p,b=s.children||s.childrenField;let T=[];return e.treeConfig?n.eachTree(u,M=>{T.push(M)},{children:b}):T=a,d.setRowExpand(T,o)},setRowExpand(o,s){const{rowExpandedMaps:a,rowExpandLazyLoadedMaps:u,expandColumn:b}=i,{fullAllDataRowIdData:T}=p;let M=Object.assign({},a);const _=A.value,{reserve:W,lazy:X,accordion:K,toggleMethod:be}=_,Me=[],Ee=d.getColumnIndex(b),Ie=d.getVMColumnIndex(b);if(o){n.isArray(o)||(o=[o]),K&&(M={},o=o.slice(o.length-1,o.length));const Te=be?o.filter(Ne=>be({$table:D,expanded:s,column:b,columnIndex:Ee,$columnIndex:Ie,row:Ne,rowIndex:d.getRowIndex(Ne),$rowIndex:d.getVMRowIndex(Ne)})):o;s?Te.forEach(Ne=>{const Se=ze(D,Ne);if(!M[Se]){const Ge=T[Se];X&&!Ge.expandLoaded&&!u[Se]?Me.push(mo(Ne)):M[Se]=Ne}}):Te.forEach(Ne=>{const Se=ze(D,Ne);M[Se]&&delete M[Se]}),W&&Te.forEach(Ne=>Ao(Ne,s))}return i.rowExpandedMaps=M,Promise.all(Me).then(()=>d.recalculate())},isRowExpandByRow(o){const{rowExpandedMaps:s}=i,a=ze(D,o);return!!s[a]},isExpandByRow(o){return st("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),d.isRowExpandByRow(o)},clearRowExpand(){const{tableFullData:o}=p,s=A.value,{reserve:a}=s,u=d.getRowExpandRecords();return i.rowExpandedMaps={},a&&o.forEach(b=>Ao(b,!1)),ee().then(()=>{u.length&&d.recalculate()})},clearRowExpandReserve(){return p.rowExpandedReserveRowMap={},ee()},getRowExpandRecords(){const o=[];return n.each(i.rowExpandedMaps,s=>{s&&o.push(s)}),o},getTreeExpandRecords(){const o=[];return n.each(i.treeExpandedMaps,s=>{s&&o.push(s)}),o},isTreeExpandLoaded(o){const{fullAllDataRowIdData:s}=p,a=s[ze(D,o)];return a&&!!a.treeLoaded},clearTreeExpandLoaded(o){const{treeExpandedMaps:s}=i,{fullAllDataRowIdData:a}=p,u=U.value,{transform:b,lazy:T}=u,M=ze(D,o),_=a[M];return T&&_&&(_.treeLoaded=!1,s[M]&&delete s[M]),b?(Kt(),x.handleTableData()):ee()},reloadTreeExpand(o){const{treeExpandLazyLoadedMaps:s}=i,a=U.value,u=a.hasChild||a.hasChildField,{transform:b,lazy:T}=a,M=ze(D,o);return T&&o[u]&&!s[M]&&d.clearTreeExpandLoaded(o).then(()=>Uo(o)).then(()=>{if(b)return Kt(),x.handleTableData()}).then(()=>d.recalculate()),ee()},reloadTreeChilds(o){return st("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),d.reloadTreeExpand(o)},toggleTreeExpand(o){return d.setTreeExpand(o,!d.isTreeExpandByRow(o))},setAllTreeExpand(o){const{tableFullData:s}=p,a=U.value,{transform:u,lazy:b}=a,T=a.children||a.childrenField,M=[];return n.eachTree(s,_=>{const W=_[T];(b||W&&W.length)&&M.push(_)},{children:T}),d.setTreeExpand(M,o).then(()=>{if(u)return Kt(),d.recalculate()})},setTreeExpand(o,s){const a=U.value,{transform:u}=a;return o&&(n.isArray(o)||(o=[o]),o.length)?u?Ns(o,s):ss(o,s):ee()},isTreeExpandByRow(o){const{treeExpandedMaps:s}=i;return!!s[ze(D,o)]},clearTreeExpand(){const{tableFullTreeData:o}=p,s=U.value,a=s.children||s.childrenField,{transform:u,reserve:b}=s,T=d.getTreeExpandRecords();return i.treeExpandedMaps={},b&&n.eachTree(o,M=>Vo(M,!1),{children:a}),x.handleTableData().then(()=>{if(u)return Kt(),x.handleTableData()}).then(()=>{if(T.length)return d.recalculate()})},clearTreeExpandReserve(){return p.treeExpandedReserveRowMap={},ee()},getScroll(){const{scrollXLoad:o,scrollYLoad:s}=i,u=k.value.$el;return{virtualX:o,virtualY:s,scrollTop:u.scrollTop,scrollLeft:u.scrollLeft}},scrollTo(o,s){const a=k.value,u=N.value,b=ue.value,T=a?a.$el:null,M=b?b.$el:null,_=u?u.$el:null;return n.isNumber(o)&&gr(_||T,o),n.isNumber(s)&&ps(M||T,s),i.scrollXLoad||i.scrollYLoad?new Promise(W=>{setTimeout(()=>{ee(()=>{W()})},50)}):ee()},scrollToRow(o,s){const a=[];return o&&(e.treeConfig?a.push(x.scrollToTreeRow(o)):a.push(yr(D,o))),s&&a.push(d.scrollToColumn(s)),Promise.all(a)},scrollToColumn(o){const{fullColumnIdData:s}=p,a=xo(D,o);return a&&s[a.id]?Cc(D,a):ee()},clearScroll(){const{scrollXStore:o,scrollYStore:s}=p,a=k.value,u=N.value,b=ue.value,T=a?a.$el:null,M=b?b.$el:null,_=u?u.$el:null;return M&&(Cs(M),M.scrollTop=0),_&&(_.scrollLeft=0),T&&(Cs(T),T.scrollTop=0,T.scrollLeft=0),o.startIndex=0,s.startIndex=0,ee()},updateFooter(){const{showFooter:o,footerData:s,footerMethod:a}=e,{visibleColumn:u,afterFullData:b}=p;let T=[];return o&&s&&s.length?T=s.slice(0):o&&a&&(T=u.length?a({columns:u,data:b,$table:D,$grid:Q}):[]),i.footerTableData=T,ee()},updateStatus(o,s){const a=!n.isUndefined(s);return ee().then(()=>{const{editRules:u}=e,{validStore:b}=i,T=k.value;if(o&&T&&u){const{row:M,column:_}=o,W="change";if(D.hasCellRules&&D.hasCellRules(W,M,_)){const X=x.getCell(M,_);if(X)return D.validCellRules(W,M,_,s).then(()=>{a&&b.visible&&dn(M,_,s),D.clearValidate(M,_)}).catch(({rule:K})=>{a&&dn(M,_,s),D.showValidTooltip({rule:K,row:M,column:_,cell:X})})}}})},setMergeCells(o){return e.spanMethod&&nt("vxe.error.errConflicts",["merge-cells","span-method"]),Dt(o,i.mergeList,p.afterFullData),ee().then(()=>(d.updateCellAreas(),Zt()))},removeMergeCells(o){e.spanMethod&&nt("vxe.error.errConflicts",["merge-cells","span-method"]);const s=At(o,i.mergeList,p.afterFullData);return ee().then(()=>(d.updateCellAreas(),Zt(),s))},getMergeCells(){return i.mergeList.slice(0)},clearMergeCells(){return i.mergeList=[],ee().then(()=>Zt())},setMergeFooterItems(o){return e.footerSpanMethod&&nt("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Dt(o,i.mergeFooterList),ee().then(()=>(d.updateCellAreas(),Zt()))},removeMergeFooterItems(o){e.footerSpanMethod&&nt("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const s=At(o,i.mergeFooterList);return ee().then(()=>(d.updateCellAreas(),Zt(),s))},getMergeFooterItems(){return i.mergeFooterList.slice(0)},clearMergeFooterItems(){return i.mergeFooterList=[],ee().then(()=>Zt())},updateCellAreas(){const{mouseConfig:o}=e,s=se.value;return o&&s.area&&D.handleUpdateCellAreas?D.handleUpdateCellAreas():ee()},focus(){return p.isActivated=!0,ee()},blur(){return p.isActivated=!1,ee()},connect(o){return o?(L=o,L.syncUpdate({collectColumn:p.collectColumn,$table:D})):nt("vxe.error.barUnableLink"),ee()}};const Vs=o=>{const{editStore:s,ctxMenuStore:a,filterStore:u,customStore:b}=i,{mouseConfig:T,editRules:M}=e,_=B.value,W=De.value,X=w.value,K=me.value,{actived:be}=s,Me=R.value,Ee=y.value,Ie=O.value,Te=q.value;if(Ee&&(yt(o,_,"vxe-cell--filter").flag||yt(o,Ee.$el).flag||yt(o,document.body,"vxe-table--ignore-clear").flag||x.preventEvent(o,"event.clearFilter",u.args,d.closeFilter)),Ie&&(b.btnEl===o.target||yt(o,document.body,"vxe-toolbar-custom-target").flag||yt(o,Ie.$el).flag||yt(o,document.body,"vxe-table--ignore-clear").flag||x.preventEvent(o,"event.clearCustom",{},()=>{D.closeCustom&&D.closeCustom()})),be.row){if(W.autoClear!==!1){const Se=be.args.cell;(!Se||!yt(o,Se).flag)&&(Me&&yt(o,Me.$el).flag||(!p._lastCallTime||p._lastCallTime+50<Date.now())&&(yt(o,document.body,"vxe-table--ignore-clear").flag||x.preventEvent(o,"event.clearEdit",be.args,()=>{let Ge;if(W.mode==="row"){const Ze=yt(o,_,"vxe-body--row"),at=Ze.flag?d.getRowNode(Ze.targetElem):null;Ge=at?!D.eqRow(at.item,be.args.row):!1}else Ge=!yt(o,_,"col--edit").flag;if(Ge||(Ge=yt(o,_,"vxe-header--row").flag),Ge||(Ge=yt(o,_,"vxe-footer--row").flag),!Ge&&e.height&&!i.overflowY){const Ze=o.target;mn(Ze,"vxe-table--body-wrapper")&&(Ge=o.offsetY<Ze.clientHeight)}(Ge||!yt(o,_).flag)&&setTimeout(()=>D.clearEdit(o))})))}}else T&&!yt(o,_).flag&&!(Q&&yt(o,Q.getRefMaps().refElem.value).flag)&&!(Te&&yt(o,Te.getRefMaps().refElem.value).flag)&&!(L&&yt(o,L.getRefMaps().refElem.value).flag)&&(D.clearSelected&&D.clearSelected(),K.autoClear&&D.clearCellAreas&&(yt(o,document.body,"vxe-table--ignore-areas-clear").flag||x.preventEvent(o,"event.clearAreas",{},()=>{D.clearCellAreas(),D.clearCopyCellArea()})));D.closeMenu&&a.visible&&Te&&!yt(o,Te.getRefMaps().refElem.value).flag&&D.closeMenu();const Ne=yt(o,Q?Q.getRefMaps().refElem.value:_).flag;!Ne&&M&&X.autoClear&&(i.validErrorMaps={}),p.isActivated=Ne},As=()=>{d.closeFilter(),D.closeMenu&&D.closeMenu()},$s=()=>{d.closeTooltip(),D.closeMenu&&D.closeMenu()},Bs=o=>{const{mouseConfig:s,keyboardConfig:a}=e,{filterStore:u,ctxMenuStore:b,editStore:T}=i,M=se.value,_=ye.value,{actived:W}=T;vt(o,pt.ESCAPE)&&x.preventEvent(o,"event.keydown",null,()=>{if(d.dispatchEvent("keydown-start",{},o),a&&s&&M.area&&D.handleKeyboardEvent)D.handleKeyboardEvent(o);else if((W.row||u.visible||b.visible)&&(o.stopPropagation(),D.closeMenu&&D.closeMenu(),d.closeFilter(),a&&_.isEsc&&W.row)){const K=W.args;D.clearEdit(o),M.selected&&ee(()=>D.handleSelected(K,o))}d.dispatchEvent("keydown",{},o),d.dispatchEvent("keydown-end",{},o)})},as=o=>{p.isActivated&&x.preventEvent(o,"event.keydown",null,()=>{const{mouseConfig:s,keyboardConfig:a,treeConfig:u,editConfig:b,highlightCurrentRow:T}=e,{ctxMenuStore:M,editStore:_,currentRow:W}=i,X=Fe.value,K=_e.value,be=ye.value,Me=se.value,Ee=De.value,Ie=U.value,Te=Y.value,Ne=ke.value,{selected:Se,actived:Ge}=_,Ze=Ie.children||Ie.childrenField,at=o.keyCode,lt=vt(o,pt.ESCAPE),ft=vt(o,pt.BACKSPACE),It=vt(o,pt.TAB),zt=vt(o,pt.ENTER),Pt=vt(o,pt.SPACEBAR),Rt=vt(o,pt.ARROW_LEFT),Ot=vt(o,pt.ARROW_UP),_t=vt(o,pt.ARROW_RIGHT),co=vt(o,pt.ARROW_DOWN),qo=vt(o,pt.DELETE),Jn=vt(o,pt.F2),kn=vt(o,pt.CONTEXT_MENU),wl=o.metaKey,Dn=o.ctrlKey,rn=o.shiftKey,In=o.altKey,Fn=Rt||Ot||_t||co,Ro=X&&M.visible&&(zt||Pt||Fn),Pn=gt(b)&&Ge.column&&Ge.row;let vo;if(Ro)o.preventDefault(),M.showChild&&al(M.selected)?D.moveCtxMenu(o,M,"selectChild",Rt,!1,M.selected.children):D.moveCtxMenu(o,M,"selected",_t,!0,Te);else if(a&&s&&Me.area&&D.handleKeyboardEvent)D.handleKeyboardEvent(o);else if(lt){if(D.closeMenu&&D.closeMenu(),d.closeFilter(),a&&be.isEsc&&Ge.row){const no=Ge.args;D.clearEdit(o),Me.selected&&ee(()=>D.handleSelected(no,o))}}else if(Pt&&a&&be.isChecked&&Se.row&&Se.column&&(Se.column.type==="checkbox"||Se.column.type==="radio"))o.preventDefault(),Se.column.type==="checkbox"?x.handleToggleCheckRowEvent(o,Se.args):x.triggerRadioRowEvent(o,Se.args);else if(Jn&&gt(b))Pn||Se.row&&Se.column&&(o.preventDefault(),D.handleActived(Se.args,o));else if(kn)p._keyCtx=Se.row&&Se.column&&K.length,clearTimeout(rs),rs=setTimeout(()=>{p._keyCtx=!1},1e3);else if(zt&&!In&&a&&be.isEnter&&(Se.row||Ge.row||u&&(Ne.isCurrent||T)&&W)){if(Dn)Ge.row&&(vo=Ge.args,D.clearEdit(o),Me.selected&&ee(()=>D.handleSelected(vo,o)));else if(Se.row||Ge.row){const no=Se.row?Se.args:Ge.args;rn?be.enterToTab?D.moveTabSelected(no,rn,o):D.moveSelected(no,Rt,!0,_t,!1,o):be.enterToTab?D.moveTabSelected(no,rn,o):D.moveSelected(no,Rt,!1,_t,!0,o)}else if(u&&(Ne.isCurrent||T)&&W){const no=W[Ze];if(no&&no.length){o.preventDefault();const So=no[0];vo={$table:D,row:So,rowIndex:d.getRowIndex(So),$rowIndex:d.getVMRowIndex(So)},d.setTreeExpand(W,!0).then(()=>d.scrollToRow(So)).then(()=>x.triggerCurrentRowEvent(o,vo))}}}else if(Fn&&a&&be.isArrow)Pn||(Se.row&&Se.column?D.moveSelected(Se.args,Rt,Ot,_t,co,o):(Ot||co)&&(Ne.isCurrent||T)&&D.moveCurrentRow(Ot,co,o));else if(It&&a&&be.isTab)Se.row||Se.column?D.moveTabSelected(Se.args,rn,o):(Ge.row||Ge.column)&&D.moveTabSelected(Ge.args,rn,o);else if(a&&gt(b)&&(qo||(u&&(Ne.isCurrent||T)&&W?ft&&be.isArrow:ft))){if(!Pn){const{delMethod:no,backMethod:So}=be;if(be.isDel&&(Se.row||Se.column)){const lo={row:Se.row,rowIndex:d.getRowIndex(Se.row),column:Se.column,columnIndex:d.getColumnIndex(Se.column),$table:D};no?no(lo):dn(Se.row,Se.column,null),ft?So?So({row:Se.row,rowIndex:d.getRowIndex(Se.row),column:Se.column,columnIndex:d.getColumnIndex(Se.column),$table:D}):D.handleActived(Se.args,o):qo&&d.updateFooter(),D.dispatchEvent("cell-delete-value",lo,o)}else if(ft&&be.isArrow&&u&&(Ne.isCurrent||T)&&W){const{parent:lo}=n.findTree(p.afterFullData,Nn=>Nn===W,{children:Ze});lo&&(o.preventDefault(),vo={$table:D,row:lo,rowIndex:d.getRowIndex(lo),$rowIndex:d.getVMRowIndex(lo)},d.setTreeExpand(lo,!1).then(()=>d.scrollToRow(lo)).then(()=>x.triggerCurrentRowEvent(o,vo)))}}}else if(a&&gt(b)&&be.isEdit&&!Dn&&!wl&&(Pt||at>=48&&at<=57||at>=65&&at<=90||at>=96&&at<=111||at>=186&&at<=192||at>=219&&at<=222)){const{editMethod:no}=be;if(Se.column&&Se.row&&gt(Se.column.editRender)){const So=Ee.beforeEditMethod||Ee.activeMethod;if(!So||So(Object.assign(Object.assign({},Se.args),{$table:D,$grid:Q}))){no?no({row:Se.row,rowIndex:d.getRowIndex(Se.row),column:Se.column,columnIndex:d.getColumnIndex(Se.column),$table:D,$grid:Q}):(dn(Se.row,Se.column,null),D.handleActived(Se.args,o));const lo=Ee.afterEditMethod;lo&&ee(()=>{lo({row:Se.row,rowIndex:d.getRowIndex(Se.row),column:Se.column,columnIndex:d.getColumnIndex(Se.column),$table:D,$grid:Q})})}}}d.dispatchEvent("keydown",{},o)})},cs=o=>{const{keyboardConfig:s,mouseConfig:a}=e,{editStore:u,filterStore:b}=i,{isActivated:T}=p,M=se.value,_=ye.value,{actived:W}=u;T&&!b.visible&&(W.row||W.column||s&&_.isClip&&a&&M.area&&D.handlePasteCellAreaEvent&&D.handlePasteCellAreaEvent(o),d.dispatchEvent("paste",{},o))},js=o=>{const{keyboardConfig:s,mouseConfig:a}=e,{editStore:u,filterStore:b}=i,{isActivated:T}=p,M=se.value,_=ye.value,{actived:W}=u;T&&!b.visible&&(W.row||W.column||s&&_.isClip&&a&&M.area&&D.handleCopyCellAreaEvent&&D.handleCopyCellAreaEvent(o),d.dispatchEvent("copy",{},o))},Hs=o=>{const{keyboardConfig:s,mouseConfig:a}=e,{editStore:u,filterStore:b}=i,{isActivated:T}=p,M=se.value,_=ye.value,{actived:W}=u;T&&!b.visible&&(W.row||W.column||s&&_.isClip&&a&&M.area&&D.handleCutCellAreaEvent&&D.handleCutCellAreaEvent(o),d.dispatchEvent("cut",{},o))},zs=()=>{D.closeMenu&&D.closeMenu(),d.updateCellAreas(),d.recalculate(!0)},Zn=o=>{const s=$.value;clearTimeout(p.tooltipTimeout),o?d.closeTooltip():s&&s.setActived(!0)},xl=(o,s,a,u,b)=>{b.cell=s;const{tooltipStore:T}=i,M=Z.value,{column:_,row:W}=b,{showAll:X,contentMethod:K}=M,be=K?K(b):null,Me=K&&!n.eqNull(be),Ee=Me?be:n.toString(_.type==="html"?a.innerText:a.textContent).trim(),Ie=a.scrollWidth>a.clientWidth;return Ee&&(X||Me||Ie)&&(Object.assign(T,{row:W,column:_,visible:!0}),ee(()=>{const Te=$.value;Te&&Te.open(Ie?a:u||a,Xt(Ee))})),ee()};x={getSetupOptions(){return f},updateAfterDataIndex:jt,callSlot(o,s){if(o){if(Q)return Q.callSlot(o,s);if(n.isFunction(o))return Vt(o(s))}return[]},getParentElem(){const o=B.value;if(Q){const s=Q.getRefMaps().refElem.value;return s?s.parentNode:null}return o?o.parentNode:null},getParentHeight(){const{height:o}=e,s=B.value;if(s){const a=s.parentNode,u=o==="100%"||o==="auto"?hi(a):0;return Math.floor(Q?Q.getParentHeight():n.toNumber(getComputedStyle(a).height)-u)}return 0},getExcludeHeight(){return Q?Q.getExcludeHeight():0},defineField(o){const{treeConfig:s}=e,a=A.value,u=U.value,b=ce.value,T=P.value,M=u.children||u.childrenField,_=Vn(D);return n.isArray(o)||(o=[o]),o.map(W=>(p.tableFullColumn.forEach(K=>{const{field:be,editRender:Me}=K;if(be&&!n.has(W,be)&&!W[be]){let Ee=null;if(Me){const{defaultValue:Ie}=Me;n.isFunction(Ie)?Ee=Ie({column:K}):n.isUndefined(Ie)||(Ee=Ie)}n.set(W,be,Ee)}}),[b.labelField,T.checkField,T.labelField,a.labelField].forEach(K=>{K&&Go(n.get(W,K))&&n.set(W,K,null)}),s&&u.lazy&&n.isUndefined(W[M])&&(W[M]=null),Go(n.get(W,_))&&n.set(W,_,Js()),W))},handleTableData(o){const{scrollYLoad:s}=i,{scrollYStore:a,fullDataRowIdData:u}=p;let b=p.afterFullData;o&&(ro(),b=Kt());const T=s?b.slice(a.startIndex,a.endIndex):b.slice(0);return T.forEach((M,_)=>{const W=ze(D,M),X=u[W];X&&(X.$index=_)}),i.tableData=T,ee()},cacheRowMap(o){const{treeConfig:s}=e,a=U.value,{fullAllDataRowIdData:u,tableFullData:b,tableFullTreeData:T}=p,M=a.children||a.childrenField,_=a.hasChild||a.hasChildField,W=Vn(D),X=s&&a.lazy,K={},be={},Me=(Ee,Ie,Te,Ne,Se,Ge)=>{let Ze=ze(D,Ee);const at=s&&Ne?hc(Ne):Ie+1,lt=Ge?Ge.length-1:0;Go(Ze)&&(Ze=Js(),n.set(Ee,W,Ze)),X&&Ee[_]&&n.isUndefined(Ee[M])&&(Ee[M]=null);let ft=u[Ze];ft||(ft={row:Ee,rowid:Ze,seq:at,index:-1,_index:-1,$index:-1,items:Te,parent:Se,level:lt}),o&&(ft.index=s&&Se?-1:Ie,be[Ze]=ft),K[Ze]=ft};o&&(p.fullDataRowIdData=be),p.fullAllDataRowIdData=K,s?n.eachTree(T,Me,{children:M}):b.forEach(Me)},cacheSourceMap(o){const{treeConfig:s}=e,a=U.value;let{sourceDataRowIdData:u}=p;const b=n.clone(o,!0),T=Vn(D);u=p.sourceDataRowIdData={};const M=_=>{let W=ze(D,_);Go(W)&&(W=Js(),n.set(_,T,W)),u[W]=_};if(s){const _=a.children||a.childrenField;n.eachTree(b,M,{children:a.transform?a.mapChildrenField:_})}else b.forEach(M);p.tableSourceData=b},analyColumnWidth(){const{tableFullColumn:o}=p,s=fe.value,{width:a,minWidth:u}=s,b=[],T=[],M=[],_=[],W=[],X=[];o.forEach(K=>{a&&!K.width&&(K.width=a),u&&!K.minWidth&&(K.minWidth=u),K.visible&&(K.resizeWidth?b.push(K):mi(K.width)?T.push(K):Pl(K.width)?_.push(K):mi(K.minWidth)?M.push(K):Pl(K.minWidth)?W.push(K):X.push(K))}),Object.assign(i.columnStore,{resizeList:b,pxList:T,pxMinList:M,scaleList:_,scaleMinList:W,autoList:X})},saveCustomResizable(o){const{id:s,customConfig:a}=e,u=qe.value,{collectColumn:b}=p,{storage:T}=u,M=T===!0,_=M?{}:Object.assign({},T||{}),W=M||_.resizable;if(a&&W){const X=ht(ci);let K;if(!s){nt("vxe.error.reqProp",["id"]);return}o||(K=n.isPlainObject(X[s])?X[s]:{},n.eachTree(b,be=>{if(be.resizeWidth){const Me=be.getKey();Me&&(K[Me]=be.renderWidth)}})),X[s]=n.isEmpty(K)?void 0:K,localStorage.setItem(ci,n.toJSONString(X))}},saveCustomSort(o){const{id:s,customConfig:a}=e,u=qe.value,{collectColumn:b}=p,{storage:T}=u,M=T===!0,_=M?{}:Object.assign({},T||{}),W=M||_.sort;if(a&&W){const X=ht(fi);let K;if(!s){nt("vxe.error.reqProp",["id"]);return}o||(K=n.isPlainObject(X[s])?X[s]:{},b.forEach(be=>{if(be.sortNumber!==be.renderSortNumber){const Me=be.getKey();Me&&(K[Me]=be.renderSortNumber)}})),X[s]=n.isEmpty(K)?void 0:K,localStorage.setItem(fi,n.toJSONString(X))}},saveCustomFixed(){const{id:o,customConfig:s}=e,{collectColumn:a}=p,u=qe.value,{storage:b}=u,T=b===!0,M=T?{}:Object.assign({},b||{}),_=T||M.fixed;if(s&&_){const W=ht(ui),X=[];if(!o){nt("vxe.error.reqProp",["id"]);return}n.eachTree(a,K=>{if(K.fixed&&K.fixed!==K.defaultFixed){const be=K.getKey();be&&X.push(`${be}|${K.fixed}`)}}),W[o]=X.join(",")||void 0,localStorage.setItem(ui,n.toJSONString(W))}},saveCustomVisible(){const{id:o,customConfig:s}=e,{collectColumn:a}=p,u=qe.value,{checkMethod:b,storage:T}=u,M=T===!0,_=M?{}:Object.assign({},T||{}),W=M||_.visible;if(s&&W){const X=ht(di),K=[],be=[];if(!o){nt("vxe.error.reqProp",["id"]);return}n.eachTree(a,Me=>{if(!b||b({column:Me})){if(!Me.visible&&Me.defaultVisible){const Ee=Me.getKey();Ee&&K.push(Ee)}else if(Me.visible&&!Me.defaultVisible){const Ee=Me.getKey();Ee&&be.push(Ee)}}}),X[o]=[K.join(",")].concat(be.length?[be.join(",")]:[]).join("|")||void 0,localStorage.setItem(di,n.toJSONString(X))}},handleCustom(){const{mouseConfig:o}=e;return o&&(D.clearSelected&&D.clearSelected(),D.clearCellAreas&&(D.clearCellAreas(),D.clearCopyCellArea())),x.saveCustomVisible(),x.saveCustomSort(),x.analyColumnWidth(),d.refreshColumn(!0)},handleUpdateDataQueue(){i.upDataFlag++},handleRefreshColumnQueue(){i.reColumnFlag++},preventEvent(o,s,a,u,b){let T=Ke.interceptor.get(s);!T.length&&s==="event.clearEdit"&&(T=Ke.interceptor.get("event.clearActived"),T.length&&st("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let M;return T.some(_=>_(Object.assign({$grid:Q,$table:D,$event:o},a))===!1)||u&&(M=u()),b&&b(),M},checkSelectionStatus(){const{treeConfig:o}=e,{selectCheckboxMaps:s,treeIndeterminateMaps:a}=i,{afterFullData:u}=p,b=P.value,{checkField:T,checkStrictly:M,checkMethod:_}=b,W=b.indeterminateField||b.halfField;if(!M){const X=[];let K=!1,be=!1,Me=!1;T?(K=u.every(_?Ee=>_({row:Ee})?!!n.get(Ee,T):(X.push(Ee),!0):Ee=>n.get(Ee,T)),be=K&&u.length!==X.length,o?W?Me=!be&&u.some(Ee=>n.get(Ee,T)||n.get(Ee,W)||!!a[ze(D,Ee)]):Me=!be&&u.some(Ee=>n.get(Ee,T)||!!a[ze(D,Ee)]):W?Me=!be&&u.some(Ee=>n.get(Ee,T)||n.get(Ee,W)):Me=!be&&u.some(Ee=>n.get(Ee,T))):(K=u.every(_?Ee=>_({row:Ee})?!!s[ze(D,Ee)]:(X.push(Ee),!0):Ee=>s[ze(D,Ee)]),be=K&&u.length!==X.length,o?Me=!be&&u.some(Ee=>{const Ie=ze(D,Ee);return a[Ie]||s[Ie]}):Me=!be&&u.some(Ee=>s[ze(D,Ee)])),i.isAllSelected=be,i.isIndeterminate=Me}},handleSelectRow({row:o},s,a){const{treeConfig:u}=e,{selectCheckboxMaps:b,treeIndeterminateMaps:T}=i,M=Object.assign({},b),{afterFullData:_}=p,W=U.value,X=W.children||W.childrenField,K=P.value,{checkField:be,checkStrictly:Me,checkMethod:Ee}=K,Ie=K.indeterminateField||K.halfField,Te=ze(D,o);if(be)if(u&&!Me){s===-1?(T[Te]||(Ie&&n.set(o,Ie,!0),T[Te]=o),n.set(o,be,!1)):n.eachTree([o],Se=>{(D.eqRow(Se,o)||a||!Ee||Ee({row:Se}))&&(n.set(Se,be,s),Ie&&n.set(o,Ie,!1),delete T[ze(D,Se)],wo(o,s))},{children:X});const Ne=n.findTree(_,Se=>D.eqRow(Se,o),{children:X});if(Ne&&Ne.parent){let Se;const Ge=[],Ze={};if(!a&&Ee?Ne.items.forEach(lt=>{if(Ee({row:lt})){const ft=ze(D,lt);Ze[ft]=lt,Ge.push(lt)}}):Ne.items.forEach(lt=>{const ft=ze(D,lt);Ze[ft]=lt,Ge.push(lt)}),n.find(Ne.items,lt=>!!T[ze(D,lt)]))Se=-1;else{const lt=[];Ne.items.forEach(ft=>{n.get(ft,be)&&lt.push(ft)}),Se=lt.filter(ft=>Ze[ze(D,ft)]).length===Ge.length?!0:lt.length||s===-1?-1:!1}return i.selectCheckboxMaps=M,x.handleSelectRow({row:Ne.parent},Se,a)}}else(a||!Ee||Ee({row:o}))&&(n.set(o,be,s),wo(o,s));else if(u&&!Me){s===-1?(T[Te]||(Ie&&n.set(o,Ie,!0),T[Te]=o),M[Te]&&delete M[Te]):n.eachTree([o],Se=>{const Ge=ze(D,Se);(D.eqRow(Se,o)||a||!Ee||Ee({row:Se}))&&(s?M[Ge]=Se:M[Ge]&&delete M[Ge],Ie&&n.set(o,Ie,!1),delete T[ze(D,Se)],wo(o,s))},{children:X});const Ne=n.findTree(_,Se=>D.eqRow(Se,o),{children:X});if(Ne&&Ne.parent){let Se;const Ge=[],Ze={};if(!a&&Ee?Ne.items.forEach(lt=>{if(Ee({row:lt})){const ft=ze(D,lt);Ze[ft]=lt,Ge.push(lt)}}):Ne.items.forEach(lt=>{const ft=ze(D,lt);Ze[ft]=lt,Ge.push(lt)}),n.find(Ne.items,lt=>!!T[ze(D,lt)]))Se=-1;else{const lt=[];Ne.items.forEach(ft=>{const It=ze(D,ft);M[It]&&lt.push(ft)}),Se=lt.filter(ft=>Ze[ze(D,ft)]).length===Ge.length?!0:lt.length||s===-1?-1:!1}return i.selectCheckboxMaps=M,x.handleSelectRow({row:Ne.parent},Se,a)}}else(a||!Ee||Ee({row:o}))&&(s?M[Te]||(M[Te]=o):M[Te]&&delete M[Te],wo(o,s));i.selectCheckboxMaps=M,x.checkSelectionStatus()},triggerHeaderTitleEvent(o,s,a){const u=s.content||s.message;if(u){const{tooltipStore:b}=i,{column:T}=a,M=Ht(u);Zn(!0),b.row=null,b.column=T,b.visible=!0,ee(()=>{const _=$.value;_&&_.open(o.currentTarget,M)})}},triggerHeaderTooltipEvent(o,s){const{tooltipStore:a}=i,{column:u}=s,b=o.currentTarget;Zn(!0),(a.column!==u||!a.visible)&&xl(o,b,b,null,s)},triggerBodyTooltipEvent(o,s){const{editConfig:a}=e,{editStore:u}=i,{tooltipStore:b}=i,T=De.value,{actived:M}=u,{row:_,column:W}=s,X=o.currentTarget;if(Zn(b.column!==W||b.row!==_),!(W.editRender&&gt(a)&&(T.mode==="row"&&M.row===_||M.row===_&&M.column===W))&&(b.column!==W||b.row!==_||!b.visible)){let K,be;W.treeNode?(K=X.querySelector(".vxe-tree-cell"),W.type==="html"&&(be=X.querySelector(".vxe-cell--html"))):be=X.querySelector(W.type==="html"?".vxe-cell--html":".vxe-cell--label"),xl(o,X,K||X.children[0],be,s)}},triggerFooterTooltipEvent(o,s){const{column:a}=s,{tooltipStore:u}=i,b=o.currentTarget;Zn(u.column!==a||!!u.row),(u.column!==a||!u.visible)&&xl(o,b,b.querySelector(".vxe-cell--item")||b.children[0],null,s)},handleTargetLeaveEvent(){const o=Z.value;let s=$.value;s&&s.setActived(!1),o.enterable?p.tooltipTimeout=setTimeout(()=>{s=$.value,s&&!s.isActived()&&d.closeTooltip()},o.leaveDelay):d.closeTooltip()},triggerHeaderCellClickEvent(o,s){const{_lastResizeTime:a}=p,u=te.value,b=fe.value,{column:T}=s,M=o.currentTarget,_=a&&a>Date.now()-300,W=yt(o,M,"vxe-cell--sort").flag,X=yt(o,M,"vxe-cell--filter").flag;u.trigger==="cell"&&!(_||W||X)&&x.triggerSortEvent(o,T,xt(T)),d.dispatchEvent("header-cell-click",Object.assign({triggerResizable:_,triggerSort:W,triggerFilter:X,cell:M},s),o),(b.isCurrent||e.highlightCurrentColumn)&&d.setCurrentColumn(T)},triggerHeaderCellDblclickEvent(o,s){d.dispatchEvent("header-cell-dblclick",Object.assign({cell:o.currentTarget},s),o)},triggerCellClickEvent(o,s){const{highlightCurrentRow:a,editConfig:u}=e,{editStore:b}=i,T=A.value,M=De.value,_=U.value,W=ce.value,X=P.value,K=ye.value,be=ke.value,{actived:Me,focused:Ee}=b,{row:Ie,column:Te}=s,{type:Ne,treeNode:Se}=Te,Ge=Ne==="radio",Ze=Ne==="checkbox",at=Ne==="expand",lt=o.currentTarget,ft=Ge&&yt(o,lt,"vxe-cell--radio").flag,It=Ze&&yt(o,lt,"vxe-cell--checkbox").flag,zt=Se&&yt(o,lt,"vxe-tree--btn-wrapper").flag,Pt=at&&yt(o,lt,"vxe-table--expanded").flag;s=Object.assign({cell:lt,triggerRadio:ft,triggerCheckbox:It,triggerTreeNode:zt,triggerExpandNode:Pt},s),!It&&!ft&&(!Pt&&(T.trigger==="row"||at&&T.trigger==="cell")&&x.triggerRowExpandEvent(o,s),(_.trigger==="row"||Se&&_.trigger==="cell")&&x.triggerTreeExpandEvent(o,s)),zt||(Pt||((be.isCurrent||a)&&!It&&!ft&&x.triggerCurrentRowEvent(o,s),!ft&&(W.trigger==="row"||Ge&&W.trigger==="cell")&&x.triggerRadioRowEvent(o,s),!It&&(X.trigger==="row"||Ze&&X.trigger==="cell")&&x.handleToggleCheckRowEvent(o,s)),gt(u)&&(K.arrowCursorLock&&o&&M.mode==="cell"&&o.target&&/^input|textarea$/i.test(o.target.tagName)&&(Ee.column=Te,Ee.row=Ie),M.trigger==="manual"?Me.args&&Me.row===Ie&&Te!==Me.column&&Po(o,s):(!Me.args||Ie!==Me.row||Te!==Me.column)&&(M.trigger==="click"||M.trigger==="dblclick"&&M.mode==="row"&&Me.row===Ie)&&Po(o,s))),d.dispatchEvent("cell-click",s,o)},triggerCellDblclickEvent(o,s){const{editConfig:a}=e,{editStore:u}=i,b=De.value,{actived:T}=u,M=o.currentTarget;s=Object.assign({cell:M},s),gt(a)&&b.trigger==="dblclick"&&(!T.args||o.currentTarget!==T.args.cell)&&(b.mode==="row"?yo("blur").catch(_=>_).then(()=>{D.handleActived(s,o).then(()=>yo("change")).catch(_=>_)}):b.mode==="cell"&&D.handleActived(s,o).then(()=>yo("change")).catch(_=>_)),d.dispatchEvent("cell-dblclick",s,o)},handleToggleCheckRowEvent(o,s){const{selectCheckboxMaps:a}=i,u=P.value,{checkField:b}=u,{row:T}=s;let M=!1;b?M=!n.get(T,b):M=!a[ze(D,T)],o?x.triggerCheckRowEvent(o,s,M):x.handleSelectRow(s,M)},triggerCheckRowEvent(o,s,a){const u=P.value,{row:b}=s,{afterFullData:T}=p,{checkMethod:M}=u;if(u.isShiftKey&&o.shiftKey&&!e.treeConfig){const _=d.getCheckboxRecords();if(_.length){const W=_[0],X=d.getVTRowIndex(b),K=d.getVTRowIndex(W);if(X!==K){d.setAllCheckboxRow(!1);const be=X<K?T.slice(X,K+1):T.slice(K,X+1);No(be,!0,!1),d.dispatchEvent("checkbox-range-select",Object.assign({rangeRecords:be},s),o);return}}}(!M||M({row:b}))&&(x.handleSelectRow(s,a),d.dispatchEvent("checkbox-change",Object.assign({records:d.getCheckboxRecords(),reserves:d.getCheckboxReserveRecords(),indeterminates:d.getCheckboxIndeterminateRecords(),checked:a},s),o))},triggerCheckAllEvent(o,s){Lo(s),o&&d.dispatchEvent("checkbox-all",{records:d.getCheckboxRecords(),reserves:d.getCheckboxReserveRecords(),indeterminates:d.getCheckboxIndeterminateRecords(),checked:s},o)},triggerRadioRowEvent(o,s){const{selectRadioRow:a}=i,{row:u}=s,b=ce.value;let T=u,M=a!==T;M?oo(T):b.strict||(M=a===T,M&&(T=null,d.clearRadioRow())),M&&d.dispatchEvent("radio-change",Object.assign({oldValue:a,newValue:T},s),o)},triggerCurrentRowEvent(o,s){const{currentRow:a}=i,{row:u}=s,b=a!==u;d.setCurrentRow(u),b&&d.dispatchEvent("current-change",Object.assign({oldValue:a,newValue:u},s),o)},triggerRowExpandEvent(o,s){const{rowExpandLazyLoadedMaps:a,expandColumn:u}=i,b=A.value,{row:T}=s,{lazy:M}=b,_=ze(D,T);if(!M||!a[_]){const W=!d.isRowExpandByRow(T),X=d.getColumnIndex(u),K=d.getVMColumnIndex(u);d.setRowExpand(T,W),d.dispatchEvent("toggle-row-expand",{expanded:W,column:u,columnIndex:X,$columnIndex:K,row:T,rowIndex:d.getRowIndex(T),$rowIndex:d.getVMRowIndex(T)},o)}},triggerTreeExpandEvent(o,s){const{treeExpandLazyLoadedMaps:a}=i,u=U.value,{row:b,column:T}=s,{lazy:M}=u,_=ze(D,b);if(!M||!a[_]){const W=!d.isTreeExpandByRow(b),X=d.getColumnIndex(T),K=d.getVMColumnIndex(T);d.setTreeExpand(b,W),d.dispatchEvent("toggle-tree-expand",{expanded:W,column:T,columnIndex:X,$columnIndex:K,row:b},o)}},triggerSortEvent(o,s,a){const{mouseConfig:u}=e,b=te.value,T=se.value,{field:M,sortable:_}=s;if(_){!a||s.order===a?d.clearSort(b.multiple?s:null):d.sort({field:M,order:a});const W={$table:D,$event:o,column:s,field:M,property:M,order:s.order,sortList:d.getSortColumns(),sortTime:s.sortTime};u&&T.area&&D.handleSortEvent&&D.handleSortEvent(o,W),d.dispatchEvent("sort-change",W,o)}},triggerScrollXEvent(){ln()},triggerScrollYEvent(o){const{scrollYStore:s}=p,{adaptive:a,offsetSize:u,visibleSize:b}=s;Md&&a&&u*2+b<=40?is(o):Ls(o)},scrollToTreeRow(o){const{treeConfig:s}=e,{tableFullData:a}=p,u=[];if(s){const b=U.value,T=b.children||b.childrenField,M=n.findTree(a,_=>D.eqRow(_,o),{children:T});if(M){const _=M.nodes;_.forEach((W,X)=>{X<_.length-1&&!d.isTreeExpandByRow(W)&&u.push(d.setTreeExpand(W,!0))})}}return Promise.all(u).then(()=>yr(D,o))},updateScrollYStatus:bl,updateScrollXSpace(){const{isGroup:o,scrollXLoad:s,scrollbarWidth:a}=i,{visibleColumn:u,scrollXStore:b,elemStore:T,tableWidth:M}=p,_=E.value,W=k.value,X=N.value,K=W?W.$el:null;if(K){const be=_?_.$el:null,Me=X?X.$el:null,Ee=be?be.querySelector(".vxe-table--header"):null,Ie=K.querySelector(".vxe-table--body"),Te=Me?Me.querySelector(".vxe-table--footer"):null,Ne=u.slice(0,b.startIndex).reduce((Ze,at)=>Ze+at.renderWidth,0);let Se="";s&&(Se=`${Ne}px`),Ee&&(Ee.style.marginLeft=o?"":Se),Ie.style.marginLeft=Se,Te&&(Te.style.marginLeft=Se),["main"].forEach(Ze=>{["header","body","footer"].forEach(lt=>{const ft=T[`${Ze}-${lt}-xSpace`],It=ft?ft.value:null;It&&(It.style.width=s?`${M+(lt==="header"?a:0)}px`:"")})}),ee(Zt)}},updateScrollYSpace(){const{scrollYLoad:o}=i,{scrollYStore:s,elemStore:a,afterFullData:u}=p,{startIndex:b,rowHeight:T}=s,M=u.length*T,_=Math.max(0,b*T),W=["main","left","right"];let X="",K="";o&&(X=`${_}px`,K=`${M}px`),W.forEach(be=>{const Me=["header","body","footer"],Ee=a[`${be}-body-table`],Ie=Ee?Ee.value:null;Ie&&(Ie.style.marginTop=X),Me.forEach(Te=>{const Ne=a[`${be}-${Te}-ySpace`],Se=Ne?Ne.value:null;Se&&(Se.style.height=K)})}),ee(Zt)},updateScrollXData(){ee(()=>{eo(),x.updateScrollXSpace()})},updateScrollYData(){ee(()=>{x.handleTableData(),x.updateScrollYSpace()})},checkScrolling(){const o=ve.value,s=ne.value,a=k.value,u=a?a.$el:null;u&&(o&&(u.scrollLeft>0?un(o,"scrolling--middle"):Io(o,"scrolling--middle")),s&&(u.clientWidth<u.scrollWidth-Math.ceil(u.scrollLeft)?un(s,"scrolling--middle"):Io(s,"scrolling--middle")))},updateZindex(){e.zIndex?p.tZindex=e.zIndex:p.tZindex<on()&&(p.tZindex=Yo())},handleCheckedCheckboxRow:No,triggerHoverEvent(o,{row:s}){x.setHoverRow(s)},setHoverRow(o){const s=ze(D,o),a=B.value;x.clearHoverRow(),a&&n.arrayEach(a.querySelectorAll(`[rowid="${s}"]`),u=>un(u,"row--hover")),p.hoverRow=o},clearHoverRow(){const o=B.value;o&&n.arrayEach(o.querySelectorAll(".vxe-body--row.row--hover"),s=>Io(s,"row--hover")),p.hoverRow=null},getCell(o,s){const a=ze(D,o),u=k.value,b=I.value,T=ue.value;let M;return s&&(s.fixed&&(s.fixed==="left"?b&&(M=b.$el):T&&(M=T.$el)),M||(M=u.$el),M)?M.querySelector(`.vxe-body--row[rowid="${a}"] .${s.id}`):null},getCellLabel(o,s){const a=s.formatter,u=Ho(o,s);let b=u;if(a){let T;const{fullAllDataRowIdData:M}=p,_=ze(D,o),W=s.id,X=M[_];if(X&&(T=X.formatData,T||(T=M[_].formatData={}),X&&T[W]&&T[W].value===u))return T[W].label;const K={cellValue:u,row:o,rowIndex:d.getRowIndex(o),column:s,columnIndex:d.getColumnIndex(s)};if(n.isString(a)){const be=Ke.formats.get(a),Me=be?be.tableCellFormatMethod||be.cellFormatMethod:null;b=Me?Me(K):""}else if(n.isArray(a)){const be=Ke.formats.get(a[0]),Me=be?be.tableCellFormatMethod||be.cellFormatMethod:null;b=Me?Me(K,...a.slice(1)):""}else b=a(K);T&&(T[W]={value:u,label:b})}return b},findRowIndexOf(o,s){return s?n.findIndexOf(o,a=>D.eqRow(a,s)):-1},eqRow(o,s){return o&&s?o===s?!0:ze(D,o)===ze(D,s):!1}},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach(o=>{D[o]=function(){nt("vxe.error.reqModule",["VxeTableExportModule"])}}),"clearValidate,fullValidate,validate".split(",").forEach(o=>{D[o]=function(){nt("vxe.error.reqModule",["VxeTableValidatorModule"])}}),Object.assign(D,d,x);const ds=o=>{const{showHeader:s,showFooter:a}=e,{tableData:u,tableColumn:b,tableGroupColumn:T,columnStore:M,footerTableData:_}=i,W=o==="left",X=W?M.leftList:M.rightList;return r("div",{ref:W?ve:ne,class:`vxe-table--fixed-${o}-wrapper`},[s?r(qr,{ref:W?H:z,fixedType:o,tableData:u,tableColumn:b,tableGroupColumn:T,fixedColumn:X}):Et(),r(_r,{ref:W?I:ue,fixedType:o,tableData:u,tableColumn:b,fixedColumn:X}),a?r(Gr,{ref:W?F:Ce,footerTableData:_,tableColumn:b,fixedColumn:X,fixedType:o}):Et()])},Ws=()=>{const o=xe.value,s={$table:D};if(l.empty)return l.empty(s);{const a=o.name?Ke.renderer.get(o.name):null,u=a?a.renderTableEmptyView||a.renderEmpty:null;if(u)return Vt(u(o,s))}return Ht(e.emptyText)||f.i18n("vxe.table.emptyText")};function Cl(){const o=B.value;o&&o.clientWidth&&o.clientHeight&&d.recalculate()}const yl=We(0);ut(()=>e.data?e.data.length:-1,()=>{yl.value++}),ut(()=>e.data,()=>{yl.value++}),ut(yl,()=>{const{inited:o,initStatus:s}=p;$o(e.data||[]).then(()=>{const{scrollXLoad:a,scrollYLoad:u,expandColumn:b}=i;p.inited=!0,p.initStatus=!0,s||vn(),o||Eo(),(a||u)&&b&&st("vxe.error.scrollErrProp",["column.type=expand"]),d.recalculate()})});const v=We(0);ut(()=>i.staticColumns.length,()=>{v.value++}),ut(()=>i.staticColumns,()=>{v.value++}),ut(v,()=>{Mn(i.staticColumns)});const J=We(0);ut(()=>i.tableColumn.length,()=>{J.value++}),ut(()=>i.tableColumn,()=>{J.value++}),ut(J,()=>{x.analyColumnWidth()}),ut(()=>i.upDataFlag,()=>{ee(()=>{d.updateData()})}),ut(()=>i.reColumnFlag,()=>{ee(()=>{d.refreshColumn()})}),ut(()=>e.showHeader,()=>{ee(()=>{d.recalculate(!0).then(()=>d.refreshScroll())})}),ut(()=>e.showFooter,()=>{ee(()=>{d.recalculate(!0).then(()=>d.refreshScroll())})});const de=We(0);ut(()=>e.footerData?e.footerData.length:-1,()=>{de.value++}),ut(()=>e.footerData,()=>{de.value++}),ut(de,()=>{d.updateFooter()}),ut(()=>e.height,()=>{ee(()=>d.recalculate(!0))}),ut(()=>e.maxHeight,()=>{ee(()=>d.recalculate(!0))}),ut(()=>e.syncResize,o=>{o&&(Cl(),ee(()=>{Cl(),setTimeout(()=>Cl())}))});const Le=We(0);ut(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Le.value++}),ut(()=>e.mergeCells,()=>{Le.value++}),ut(Le,()=>{d.clearMergeCells(),ee(()=>{e.mergeCells&&d.setMergeCells(e.mergeCells)})});const Xe=We(0);ut(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Xe.value++}),ut(()=>e.mergeFooterItems,()=>{Xe.value++}),ut(Xe,()=>{d.clearMergeFooterItems(),ee(()=>{e.mergeFooterItems&&d.setMergeFooterItems(e.mergeFooterItems)})}),Ke.hooks.forEach(o=>{const{setupTable:s}=o;if(s){const a=s(D);a&&n.isObject(a)&&Object.assign(D,a)}}),x.preventEvent(null,"created",{$table:D});let je;Qr(()=>{d.recalculate().then(()=>d.refreshScroll()),x.preventEvent(null,"activated",{$table:D})}),dc(()=>{p.isActivated=!1,x.preventEvent(null,"deactivated",{$table:D})}),go(()=>{ee(()=>{const{data:o,treeConfig:s,showOverflow:a}=e,{scrollXStore:u,scrollYStore:b}=p,T=j.value,M=De.value,_=U.value,W=ce.value,X=P.value,K=A.value,be=ke.value;{e.rowId&&st("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&st("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&st("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||be.keyField)&&(X.reserve||X.checkRowKeys||W.reserve||W.checkRowKey||K.expandRowKeys||_.expandRowKeys)&&st("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(M.showStatus||M.showUpdateStatus||M.showInsertStatus)&&!e.keepSource&&st("vxe.error.reqProp",["keep-source"]),s&&(_.showLine||_.line)&&(!(e.rowKey||be.useKey)||!a)&&st("vxe.error.reqProp",["row-config.useKey | show-overflow"]),s&&e.stripe&&st("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&st("vxe.error.reqProp",["footer-data | footer-method"]);const{exportConfig:Me,importConfig:Ee}=e,Ie=ae.value,Te=Re.value;Ee&&Te.types&&!Te.importMethod&&!n.includeArrays(Ke.globalConfs.importTypes,Te.types)&&st("vxe.error.errProp",[`export-config.types=${Te.types.join(",")}`,Te.types.filter(Ne=>n.includes(Ke.globalConfs.importTypes,Ne)).join(",")||Ke.globalConfs.importTypes.join(",")]),Me&&Ie.types&&!Ie.exportMethod&&!n.includeArrays(Ke.globalConfs.exportTypes,Ie.types)&&st("vxe.error.errProp",[`export-config.types=${Ie.types.join(",")}`,Ie.types.filter(Ne=>n.includes(Ke.globalConfs.exportTypes,Ne)).join(",")||Ke.globalConfs.exportTypes.join(",")])}{const Me=qe.value,Ee=se.value,Ie=ke.value;if(!e.id&&e.customConfig&&(Me.storage===!0||Me.storage&&Me.storage.resizable||Me.storage&&Me.storage.visible)&&nt("vxe.error.reqProp",["id"]),e.treeConfig&&X.range&&nt("vxe.error.noTree",["checkbox-config.range"]),Ie.height&&!e.showOverflow&&st("vxe.error.notProp",["table.show-overflow"]),!D.handleUpdateCellAreas&&(e.clipConfig&&st("vxe.error.notProp",["clip-config"]),e.fnrConfig&&st("vxe.error.notProp",["fnr-config"]),Ee.area)){nt("vxe.error.notProp",["mouse-config.area"]);return}e.treeConfig&&_.children&&st("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&_.line&&st("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),Ee.area&&Ee.selected&&st("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),Ee.area&&X.range&&st("vxe.error.errConflicts",["mouse-config.area","checkbox-config.range"]),e.treeConfig&&Ee.area&&nt("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&M.activeMethod&&st("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&X.isShiftKey&&nt("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),X.halfField&&st("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"])}if(e.editConfig&&!D.insert&&nt("vxe.error.reqModule",["Edit"]),e.editRules&&!D.validate&&nt("vxe.error.reqModule",["Validator"]),(X.range||e.keyboardConfig||e.mouseConfig)&&!D.triggerCellMousedownEvent&&nt("vxe.error.reqModule",["Keyboard"]),(e.printConfig||e.importConfig||e.exportConfig)&&!D.exportData&&nt("vxe.error.reqModule",["Export"]),Object.assign(b,{startIndex:0,endIndex:0,visibleSize:0,adaptive:T.adaptive!==!1}),Object.assign(u,{startIndex:0,endIndex:0,visibleSize:0}),$o(o||[]).then(()=>{o&&o.length&&(p.inited=!0,p.initStatus=!0,vn(),Eo()),Zt()}),e.autoResize){const Me=he.value,{refreshDelay:Ee}=Me,Ie=B.value,Te=x.getParentElem(),Ne=Ee?n.throttle(()=>d.recalculate(!0),Ee,{leading:!0,trailing:!0}):null;je=_a(Ne?()=>{e.autoResize&&requestAnimationFrame(Ne)}:()=>{e.autoResize&&d.recalculate(!0)}),Ie&&je.observe(Ie),Te&&je.observe(Te)}}),mt.on(D,"paste",cs),mt.on(D,"copy",js),mt.on(D,"cut",Hs),mt.on(D,"mousedown",Vs),mt.on(D,"blur",As),mt.on(D,"mousewheel",$s),mt.on(D,"keydown",as),mt.on(D,"resize",zs),D.handleGlobalContextmenuEvent&&mt.on(D,"contextmenu",D.handleGlobalContextmenuEvent),x.preventEvent(null,"mounted",{$table:D})}),Ci(()=>{je&&je.disconnect(),d.closeFilter(),D.closeMenu&&D.closeMenu(),x.preventEvent(null,"beforeUnmount",{$table:D})}),io(()=>{mt.off(D,"paste"),mt.off(D,"copy"),mt.off(D,"cut"),mt.off(D,"mousedown"),mt.off(D,"blur"),mt.off(D,"mousewheel"),mt.off(D,"keydown"),mt.off(D,"resize"),mt.off(D,"contextmenu"),x.preventEvent(null,"unmounted",{$table:D})});const tt=()=>{const{loading:o,stripe:s,showHeader:a,height:u,treeConfig:b,mouseConfig:T,showFooter:M,highlightCell:_,highlightHoverRow:W,highlightHoverColumn:X,editConfig:K,editRules:be}=e,{isGroup:Me,overflowX:Ee,overflowY:Ie,scrollXLoad:Te,scrollYLoad:Ne,scrollbarHeight:Se,tableData:Ge,tableColumn:Ze,tableGroupColumn:at,footerTableData:lt,initStore:ft,columnStore:It,filterStore:zt,customStore:Pt}=i,{leftList:Rt,rightList:Ot}=It,_t=l.loading,co=le.value,qo=w.value,Jn=U.value,kn=ke.value,wl=fe.value,Dn=m.value,rn=ot.value,In=se.value,Fn=pe.value,Ro=Be.value,Pn=Fe.value;return r("div",{ref:B,class:["vxe-table","vxe-table--render-default",`tid_${g}`,`border--${rn}`,{[`size--${Dn}`]:Dn,[`valid-msg--${qo.msgMode}`]:!!be,"vxe-editable":!!K,"old-cell-valid":be&&f.cellVaildMode==="obsolete","cell--highlight":_,"cell--selected":T&&In.selected,"cell--area":T&&In.area,"row--highlight":kn.isHover||W,"column--highlight":wl.isHover||X,"is--header":a,"is--footer":M,"is--group":Me,"is--tree-line":b&&(Jn.showLine||Jn.line),"is--fixed-left":Rt.length,"is--fixed-right":Ot.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!b&&s,"is--loading":o,"is--empty":!o&&!Ge.length,"is--scroll-y":Ie,"is--scroll-x":Ee,"is--virtual-x":Te,"is--virtual-y":Ne}],onKeydown:Bs},[r("div",{class:"vxe-table-slots"},l.default?l.default({}):[]),r("div",{class:"vxe-table--render-wrapper"},[r("div",{class:"vxe-table--main-wrapper"},[a?r(qr,{ref:E,tableData:Ge,tableColumn:Ze,tableGroupColumn:at}):Et(),r(_r,{ref:k,tableData:Ge,tableColumn:Ze}),M?r(Gr,{ref:N,footerTableData:lt,tableColumn:Ze}):Et()]),r("div",{class:"vxe-table--fixed-wrapper"},[Rt&&Rt.length&&Ee?ds("left"):Et(),Ot&&Ot.length&&Ee?ds("right"):Et()])]),r("div",{ref:ie,class:"vxe-table--empty-placeholder"},[r("div",{class:"vxe-table--empty-content"},Ws())]),r("div",{class:"vxe-table--border-line"}),r("div",{ref:re,class:"vxe-table--resizable-bar",style:Ee?{"padding-bottom":`${Se}px`}:null}),r(ls,{class:"vxe-table--loading",modelValue:o,icon:Ro.icon,text:Ro.text},_t?{default:()=>_t({$table:D,$grid:Q})}:{}),ft.custom?r(fo("vxe-table-custom-panel"),{ref:O,customStore:Pt}):Et(),ft.filter?r(fo("vxe-table-filter-panel"),{ref:y,filterStore:zt}):Et(),ft.import&&e.importConfig?r(fo("vxe-table-import-panel"),{defaultOptions:i.importParams,storeData:i.importStore}):Et(),ft.export&&(e.exportConfig||e.printConfig)?r(fo("vxe-table-export-panel"),{defaultOptions:i.exportParams,storeData:i.exportStore}):Et(),Pn?r(fo("vxe-table-menu-panel"),{ref:q}):Et(),h?r(fo("vxe-tooltip"),{ref:V,isArrow:!1,enterable:!1}):Et(),h?r(fo("vxe-tooltip"),Object.assign({ref:$},co)):Et(),h&&e.editRules&&qo.showMessage&&(qo.message==="default"?!u:qo.message==="tooltip")?r(fo("vxe-tooltip"),Object.assign({ref:R,class:[{"old-cell-valid":be&&f.cellVaildMode==="obsolete"},"vxe-table--valid-error"]},qo.message==="tooltip"||Ge.length===1?Fn:{})):Et()])};return D.renderVN=tt,Gt("xecolgroup",null),Gt("$xetable",D),D},render(){return this.renderVN()}}),ks=Object.assign(jl,{install:function(e){e.component(jl.name,jl)}}),kd=ks;Ft.component(jl.name,jl);const Ds=Object.assign(qn,{install:function(e){e.component(qn.name,qn)}}),Dd=Ds;Ft.component(qn.name,qn);const Hl=kt({name:"VxePager",props:{size:{type:String,default:()=>f.pager.size||f.size},layouts:{type:Array,default:()=>f.pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>f.pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>f.pager.pagerCount||7},pageSizes:{type:Array,default:()=>f.pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>f.pager.align},border:{type:Boolean,default:()=>f.pager.border},background:{type:Boolean,default:()=>f.pager.background},perfect:{type:Boolean,default:()=>f.pager.perfect},autoHidden:{type:Boolean,default:()=>f.pager.autoHidden},transfer:{type:Boolean,default:()=>f.pager.transfer},className:[String,Function],iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:l,emit:c}=t,h=n.uniqueId(),g=Qt(e),m=bt("$xegrid",null),C=qt({inpCurrPage:e.currentPage}),i=We(),p={refElem:i},d={xID:h,props:e,context:t,getRefMaps:()=>p};let x={},B={};const $=(P,Z)=>Math.max(Math.ceil(P/Z),1),V=we(()=>$(e.total,e.pageSize)),R=(P,Z)=>{c("update:currentPage",Z),P&&Z!==e.currentPage&&x.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:Z},P)},q=(P,Z)=>{c("update:currentPage",P),Z&&P!==e.currentPage&&x.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:P},Z)},y=P=>{const Z=P.target,le=n.toInteger(Z.value),pe=V.value,De=le<=0?1:le>=pe?pe:le,te=n.toValueString(De);Z.value=te,C.inpCurrPage=te,q(De,P)},O=we(()=>{const{pagerCount:P}=e,le=V.value>P?P-2:P,pe=[];for(let De=0;De<le;De++)pe.push(De);return pe}),E=we(()=>Math.floor((e.pagerCount-2)/2)),k=we(()=>e.pageSizes.map(P=>n.isNumber(P)?{value:P,label:`${f.i18n("vxe.pager.pagesize",[P])}`}:Object.assign({value:"",label:""},P))),N=P=>{const{currentPage:Z}=e;Z>1&&q(1,P)},H=P=>{const{currentPage:Z}=e,le=V.value;Z<le&&q(le,P)},I=P=>{const{currentPage:Z}=e,le=V.value;Z>1&&q(Math.min(le,Math.max(Z-1,1)),P)},F=P=>{const{currentPage:Z}=e,le=V.value;Z<le&&q(Math.min(le,Z+1),P)},z=P=>{const Z=O.value;q(Math.max(e.currentPage-Z.length,1),P)},ue=P=>{const Z=V.value,le=O.value;q(Math.min(e.currentPage+le.length,Z),P)},Ce=P=>{const{value:Z}=P,le=n.toNumber(Z),pe=$(e.total,le);let De=e.currentPage;De>pe&&(De=pe,c("update:currentPage",pe)),c("update:pageSize",le),x.dispatchEvent("page-change",{type:"size",pageSize:le,currentPage:De})},ve=P=>{const Z=P.target;C.inpCurrPage=Z.value},ne=P=>{vt(P,pt.ENTER)?y(P):vt(P,pt.ARROW_UP)?(P.preventDefault(),F(P)):vt(P,pt.ARROW_DOWN)&&(P.preventDefault(),I(P))},re=()=>r("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:f.i18n("vxe.pager.homePageTitle"),onClick:N},[r("i",{class:["vxe-pager--btn-icon",e.iconHomePage||f.icon.PAGER_HOME]})]),ie=()=>r("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:f.i18n("vxe.pager.prevPageTitle"),onClick:I},[r("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||f.icon.PAGER_PREV_PAGE]})]),Q=P=>r(P||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!P,"is--disabled":e.currentPage<=1}],type:"button",title:f.i18n("vxe.pager.prevJumpTitle"),onClick:z},[P?r("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||f.icon.PAGER_JUMP_MORE]}):null,r("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||f.icon.PAGER_JUMP_PREV]})]),L=P=>{const Z=V.value;return r(P||"button",{class:["vxe-pager--jump-next",{"is--fixed":!P,"is--disabled":e.currentPage>=Z}],type:"button",title:f.i18n("vxe.pager.nextJumpTitle"),onClick:ue},[P?r("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||f.icon.PAGER_JUMP_MORE]}):null,r("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||f.icon.PAGER_JUMP_NEXT]})])},w=()=>{const P=V.value;return r("button",{class:["vxe-pager--next-btn",{"is--disabled":e.currentPage>=P}],type:"button",title:f.i18n("vxe.pager.nextPageTitle"),onClick:F},[r("i",{class:["vxe-pager--btn-icon",e.iconNextPage||f.icon.PAGER_NEXT_PAGE]})])},S=()=>{const P=V.value;return r("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage>=P}],type:"button",title:f.i18n("vxe.pager.endPageTitle"),onClick:H},[r("i",{class:["vxe-pager--btn-icon",e.iconEndPage||f.icon.PAGER_END]})])},j=P=>{const{currentPage:Z,pagerCount:le}=e,pe=[],De=V.value,te=O.value,oe=E.value,se=De>le,me=se&&Z>oe+1,ye=se&&Z<De-oe;let ge=1;return se&&(Z>=De-oe?ge=Math.max(De-te.length+1,1):ge=Math.max(Z-oe,1)),P&&me&&pe.push(r("button",{class:"vxe-pager--num-btn",type:"button",onClick:Ae=>R(Ae,1)},1),Q("span")),te.forEach((Ae,Ye)=>{const Ue=ge+Ye;Ue<=De&&pe.push(r("button",{key:Ue,class:["vxe-pager--num-btn",{"is--active":Z===Ue}],type:"button",onClick:_e=>R(_e,Ue)},Ue))}),P&&ye&&pe.push(L("button"),r("button",{class:"vxe-pager--num-btn",type:"button",onClick:Ae=>R(Ae,De)},De)),r("span",{class:"vxe-pager--btn-wrapper"},pe)},G=()=>j(!0),fe=()=>{const P=k.value;return r(Ds,{class:"vxe-pager--sizes",modelValue:e.pageSize,placement:"top",transfer:e.transfer,options:P,onChange:Ce})},ke=P=>r("span",{class:"vxe-pager--jump"},[P?r("span",{class:"vxe-pager--goto-text"},f.i18n("vxe.pager.goto")):null,r("input",{class:"vxe-pager--goto",value:C.inpCurrPage,type:"text",autocomplete:"off",onInput:ve,onKeydown:ne,onBlur:y}),P?r("span",{class:"vxe-pager--classifier-text"},f.i18n("vxe.pager.pageClassifier")):null]),he=()=>ke(!0),Ve=()=>{const P=V.value;return r("span",{class:"vxe-pager--count"},[r("span",{class:"vxe-pager--separator"}),r("span",P)])},$e=()=>r("span",{class:"vxe-pager--total"},f.i18n("vxe.pager.total",[e.total]));x={dispatchEvent(P,Z,le){c(P,Object.assign({$pager:d,$event:le},Z))},homePage(){return N(),ee()},endPage(){return H(),ee()},prevPage(){return I(),ee()},nextPage(){return F(),ee()},prevJump(){return z(),ee()},nextJump(){return ue(),ee()}},B={handlePrevPage:I,handleNextPage:F,handlePrevJump:z,handleNextJump:ue},Object.assign(d,x,B),ut(()=>e.currentPage,P=>{C.inpCurrPage=P});const ce=()=>{const{align:P,layouts:Z,className:le}=e,pe=[],De=g.value,te=V.value;return l.left&&pe.push(r("span",{class:"vxe-pager--left-wrapper"},l.left({$grid:m}))),Z.forEach(oe=>{let se;switch(oe){case"Home":se=re;break;case"PrevJump":se=Q;break;case"PrevPage":se=ie;break;case"Number":se=j;break;case"JumpNumber":se=G;break;case"NextPage":se=w;break;case"NextJump":se=L;break;case"End":se=S;break;case"Sizes":se=fe;break;case"FullJump":se=he;break;case"Jump":se=ke;break;case"PageCount":se=Ve;break;case"Total":se=$e;break}se?pe.push(se()):nt("vxe.error.notProp",[`layouts -> ${oe}`])}),l.right&&pe.push(r("span",{class:"vxe-pager--right-wrapper"},l.right({$grid:m}))),r("div",{ref:i,class:["vxe-pager",le?n.isFunction(le)?le({$pager:d}):le:"",{[`size--${De}`]:De,[`align--${P}`]:P,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&te===1,"is--loading":e.loading}]},[r("div",{class:"vxe-pager--wrapper"},pe)])};return d.renderVN=ce,d},render(){return this.renderVN()}}),Is=Object.assign(Hl,{install:function(e){e.component(Hl.name,Hl)}}),Id=Is;Ft.component(Hl.name,Hl);const jo=Object.assign(po,{install(e){e.component(po.name,po)}}),Fd=jo;Ft.component(po.name,po);const zl=kt({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>f.toolbar.buttons},tools:{type:Array,default:()=>f.toolbar.tools},perfect:{type:Boolean,default:()=>f.toolbar.perfect},size:{type:String,default:()=>f.toolbar.size||f.size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:l,emit:c}=t,h=n.uniqueId(),g=Qt(e),m=qt({isRefresh:!1,columns:[]}),C=We(),i={refElem:C},p={xID:h,props:e,context:t,reactData:m,getRefMaps:()=>i};let d={};const x=bt("$xegrid",null);let B;const $=We(0),V=we(()=>Object.assign({},f.toolbar.refresh,e.refresh)),R=we(()=>Object.assign({},f.toolbar.import,e.import)),q=we(()=>Object.assign({},f.toolbar.export,e.export)),y=we(()=>Object.assign({},f.toolbar.print,e.print)),O=we(()=>Object.assign({},f.toolbar.zoom,e.zoom)),E=we(()=>Object.assign({},f.toolbar.custom,e.custom)),k=we(()=>{if(($.value||B)&&B){const{computeCustomOpts:ce}=B.getComputeMaps();return ce.value}return{}}),N=we(()=>k.value.trigger),H=()=>{if(B)return!0;nt("vxe.error.barUnableLink")},I=({$event:ce})=>{B&&(B.triggerCustomEvent?B.triggerCustomEvent(ce):nt("vxe.error.reqModule",["VxeTableCustomModule"]))},F=({$event:ce})=>{B?B.customOpenEvent(ce):nt("vxe.error.reqModule",["VxeTableCustomModule"])},z=({$event:ce})=>{const{customStore:P}=B.reactData;P.activeBtn=!1,setTimeout(()=>{!P.activeBtn&&!P.activeWrapper&&B.customColseEvent(ce)},350)},ue=ce=>{const{isRefresh:P}=m,Z=V.value;if(!P){const le=Z.queryMethod||Z.query;if(le){m.isRefresh=!0;try{Promise.resolve(le({})).catch(pe=>pe).then(()=>{m.isRefresh=!1})}catch{m.isRefresh=!1}}else x&&(m.isRefresh=!0,x.triggerToolbarCommitEvent({code:Z.code||"reload"},ce).catch(pe=>pe).then(()=>{m.isRefresh=!1}))}},Ce=ce=>{x&&x.triggerZoomEvent(ce)},ve=(ce,P)=>{const{code:Z}=P;if(Z)if(x)x.triggerToolbarBtnEvent(P,ce);else{const le=Ke.commands.get(Z),pe={code:Z,button:P,$table:B,$grid:x,$event:ce};le&&(le.commandMethod?le.commandMethod(pe):nt("vxe.error.notCommands",[Z])),p.dispatchEvent("button-click",pe,ce)}},ne=(ce,P)=>{const{code:Z}=P;if(Z)if(x)x.triggerToolbarTolEvent(P,ce);else{const le=Ke.commands.get(Z),pe={code:Z,tool:P,$table:B,$grid:x,$event:ce};le&&(le.commandMethod?le.commandMethod(pe):nt("vxe.error.notCommands",[Z])),p.dispatchEvent("tool-click",pe,ce)}},re=()=>{H()&&B.openImport()},ie=()=>{H()&&B.openExport()},Q=()=>{H()&&B.openPrint()},L=(ce,P)=>{const{dropdowns:Z}=ce,le=[];return Z?Z.map((pe,De)=>pe.visible===!1?Et():r(jo,{key:De,disabled:pe.disabled,loading:pe.loading,type:pe.type,icon:pe.icon,circle:pe.circle,round:pe.round,status:pe.status,content:pe.name,onClick:te=>P?ve(te,pe):ne(te,pe)})):le},w=()=>{const{buttons:ce}=e,P=l.buttons;if(P)return Vt(P({$grid:x,$table:B}));const Z=[];return ce&&ce.forEach(le=>{const{dropdowns:pe,buttonRender:De}=le;if(le.visible!==!1){const te=De?Ke.renderer.get(De.name):null;if(De&&te&&te.renderToolbarButton){const oe=te.toolbarButtonClassName,se={$grid:x,$table:B,button:le};Z.push(r("span",{class:["vxe-button--item",oe?n.isFunction(oe)?oe(se):oe:""]},Vt(te.renderToolbarButton(De,se))))}else Z.push(r(jo,{disabled:le.disabled,loading:le.loading,type:le.type,icon:le.icon,circle:le.circle,round:le.round,status:le.status,content:le.name,destroyOnClose:le.destroyOnClose,placement:le.placement,transfer:le.transfer,onClick:oe=>ve(oe,le)},pe&&pe.length?{dropdowns:()=>L(le,!0)}:{}))}}),Z},S=()=>{const{tools:ce}=e,P=l.tools;if(P)return Vt(P({$grid:x,$table:B}));const Z=[];return ce&&ce.forEach((le,pe)=>{const{dropdowns:De,toolRender:te}=le;if(le.visible!==!1){const oe=te?te.name:null,se=te?Ke.renderer.get(oe):null;if(te&&se&&se.renderToolbarTool){const me=se.toolbarToolClassName,ye={$grid:x,$table:B,tool:le};Z.push(r("span",{key:oe,class:["vxe-tool--item",me?n.isFunction(me)?me(ye):me:""]},Vt(se.renderToolbarTool(te,ye))))}else Z.push(r(jo,{key:pe,disabled:le.disabled,loading:le.loading,type:le.type,icon:le.icon,circle:le.circle,round:le.round,status:le.status,content:le.name,destroyOnClose:le.destroyOnClose,placement:le.placement,transfer:le.transfer,onClick:me=>ne(me,le)},De&&De.length?{dropdowns:()=>L(le,!1)}:{}))}}),Z},j=()=>{const ce=R.value;return r(jo,{key:"import",circle:!0,icon:ce.icon||f.icon.TOOLBAR_TOOLS_IMPORT,title:f.i18n("vxe.toolbar.import"),onClick:re})},G=()=>{const ce=q.value;return r(jo,{key:"export",circle:!0,icon:ce.icon||f.icon.TOOLBAR_TOOLS_EXPORT,title:f.i18n("vxe.toolbar.export"),onClick:ie})},fe=()=>{const ce=y.value;return r(jo,{key:"print",circle:!0,icon:ce.icon||f.icon.TOOLBAR_TOOLS_PRINT,title:f.i18n("vxe.toolbar.print"),onClick:Q})},ke=()=>{const ce=V.value;return r(jo,{key:"refresh",circle:!0,icon:m.isRefresh?ce.iconLoading||f.icon.TOOLBAR_TOOLS_REFRESH_LOADING:ce.icon||f.icon.TOOLBAR_TOOLS_REFRESH,title:f.i18n("vxe.toolbar.refresh"),onClick:ue})},he=()=>{const ce=O.value;return x?r(jo,{key:"zoom",circle:!0,icon:x.isMaximized()?ce.iconOut||f.icon.TOOLBAR_TOOLS_MINIMIZE:ce.iconIn||f.icon.TOOLBAR_TOOLS_FULLSCREEN,title:f.i18n(`vxe.toolbar.zoom${x.isMaximized()?"Out":"In"}`),onClick:Ce}):Et()},Ve=()=>{const ce=E.value,P=N.value,Z={};return P==="manual"||(P==="hover"?(Z.onMouseenter=F,Z.onMouseleave=z):Z.onClick=I),r(jo,Object.assign({key:"custom",circle:!0,icon:ce.icon||f.icon.TOOLBAR_TOOLS_CUSTOM,title:f.i18n("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},Z))};d={dispatchEvent(ce,P,Z){c(ce,Object.assign({$toolbar:p,$event:Z},P))},syncUpdate(ce){const{collectColumn:P}=ce;B=ce.$table,m.columns=P,$.value++}},Object.assign(p,d),ee(()=>{const{refresh:ce}=e,P=V.value,Z=P.queryMethod||P.query;ce&&!x&&!Z&&st("vxe.error.notFunc",["queryMethod"]);const le=E.value;le.isFooter&&st("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),le.showFooter&&st("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),le.immediate&&st("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),le.trigger&&st("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"])});const $e=()=>{const{perfect:ce,loading:P,refresh:Z,zoom:le,custom:pe,className:De}=e,te=g.value;return r("div",{ref:C,class:["vxe-toolbar",De?n.isFunction(De)?De({$toolbar:p}):De:"",{[`size--${te}`]:te,"is--perfect":ce,"is--loading":P}]},[r("div",{class:"vxe-buttons--wrapper"},w()),r("div",{class:"vxe-tools--wrapper"},S()),r("div",{class:"vxe-tools--operate"},[e.import?j():Et(),e.export?G():Et(),e.print?fe():Et(),Z?ke():Et(),le&&x?he():Et(),pe?Ve():Et()])])};return p.renderVN=$e,p},render(){return this.renderVN()}}),Fs=Object.assign(zl,{install:function(e){e.component(zl.name,zl)}}),Pd=Fs;Ft.component(zl.name,zl);class qa{constructor(t,l){Object.assign(this,{id:n.uniqueId("item_"),title:l.title,field:l.field,span:l.span,align:l.align,titleAlign:l.titleAlign,titleWidth:l.titleWidth,titleColon:l.titleColon,titleAsterisk:l.titleAsterisk,titlePrefix:l.titlePrefix,titleSuffix:l.titleSuffix,titleOverflow:l.titleOverflow,showTitle:l.showTitle,resetValue:l.resetValue,visibleMethod:l.visibleMethod,visible:l.visible,folding:l.folding,collapseNode:l.collapseNode,className:l.className,contentClassName:l.contentClassName,contentStyle:l.contentStyle,titleClassName:l.titleClassName,titleStyle:l.titleStyle,itemRender:l.itemRender,rules:l.rules,showError:!1,errRule:null,slots:l.slots,children:[]})}update(t,l){this[t]=l}}function Nd(e){return e instanceof qa}function _i(e,t){return Nd(t)?t:new qa(e,t)}function Yr(e,t){return t?n.isString(t)?e.getItemByField(t):t:null}function Ld(e,t){const{reactData:l}=e,{collapseAll:c}=l,{folding:h,visible:g}=t;return g===!1||h&&c}function qi(e,t){let{visibleMethod:l,itemRender:c,visible:h,field:g}=t;if(h===!1)return h;const m=gt(c)?Ke.renderer.get(c.name):null;if(!l&&m&&m.itemVisibleMethod&&(l=m.itemVisibleMethod),!l)return!0;const{data:C}=e.props;return l({data:C,field:g,property:g,item:t,$form:e,$grid:e.xegrid})}function Ga(e,t){Object.keys(e).forEach(l=>{ut(()=>e[l],c=>{t.update(l,c)})})}function Ya(e,t,l,c){const{reactData:h}=e,{staticItems:g}=h,m=t.parentNode,C=c?c.formItem:null,i=C?C.children:g;m&&(i.splice(n.arrayIndexOf(m.children,t),0,l),h.staticItems=g.slice(0))}function Ua(e,t){const{reactData:l}=e,{staticItems:c}=l,h=n.findIndexOf(c,g=>g.id===t.id);h>-1&&c.splice(h,1),l.staticItems=c.slice(0)}const ml=Object.assign(ul,{install:function(e){Ke.tooltip=!0,e.component(ul.name,ul)}}),Vd=ml;Ft.component(ul.name,ul);function Ur(e){return r("span",{class:"vxe-form--item-title-prefix"},[r("i",{class:e.icon||f.icon.FORM_PREFIX})])}function Xr(e){return r("span",{class:"vxe-form--item-title-suffix"},[r("i",{class:e.icon||f.icon.FORM_SUFFIX})])}function Xa(e,t){const{data:l}=e.props,{computeTooltipOpts:c}=e.getComputeMaps(),{slots:h,field:g,itemRender:m,titlePrefix:C,titleSuffix:i}=t,p=c.value,d=gt(m)?Ke.renderer.get(m.name):null,x={data:l,field:g,property:g,item:t,$form:e,$grid:e.xegrid},B=h?h.title:null,$=[],V=[];C&&V.push(C.content||C.message?r(ml,Object.assign(Object.assign(Object.assign({},p),C),{content:Ht(C.content||C.message)}),{default:()=>Ur(C)}):Ur(C)),V.push(r("span",{class:"vxe-form--item-title-label"},d&&d.renderItemTitle?Vt(d.renderItemTitle(m,x)):B?e.callSlot(B,x):Ht(t.title))),$.push(r("div",{class:"vxe-form--item-title-content"},V));const R=[];return i&&R.push(i.content||i.message?r(ml,Object.assign(Object.assign(Object.assign({},p),i),{content:Ht(i.content||i.message)}),{default:()=>Xr(i)}):Xr(i)),$.push(r("div",{class:"vxe-form--item-title-postfix"},R)),$}const Ka=kt({name:"VxeFormConfigItem",props:{itemConfig:Object},setup(e){const t=bt("$xeform",{}),l={itemConfig:e.itemConfig};return Gt("$xeformiteminfo",l),Gt("$xeformgather",null),{renderVN:()=>{const{reactData:g}=t,{data:m,rules:C,span:i,align:p,titleAlign:d,titleWidth:x,titleColon:B,titleAsterisk:$,titleOverflow:V,vertical:R}=t.props,{computeValidOpts:q}=t.getComputeMaps(),y=e.itemConfig,{collapseAll:O}=g,E=q.value,{slots:k,title:N,visible:H,folding:I,field:F,collapseNode:z,itemRender:ue,showError:Ce,errRule:ve,className:ne,titleOverflow:re,vertical:ie,children:Q,showTitle:L,contentClassName:w,contentStyle:S,titleClassName:j,titleStyle:G}=y,fe=gt(ue)?Ke.renderer.get(ue.name):null,ke=fe?fe.itemClassName:"",he=fe?fe.itemStyle:null,Ve=fe?fe.itemContentClassName:"",$e=fe?fe.itemContentStyle:null,ce=fe?fe.itemTitleClassName:"",P=fe?fe.itemTitleStyle:null,Z=k?k.default:null,le=k?k.title:null,pe=y.span||i,De=y.align||p,te=n.eqNull(y.titleAlign)?d:y.titleAlign,oe=n.eqNull(y.titleWidth)?x:y.titleWidth,se=n.eqNull(y.titleColon)?B:y.titleColon,me=n.eqNull(y.titleAsterisk)?$:y.titleAsterisk,ye=n.isUndefined(re)||n.isNull(re)?V:re,ge=n.isUndefined(ie)||n.isNull(ie)?R:ie,Ae=ye==="ellipsis",Ye=ye==="title",Ue=ye===!0||ye==="tooltip",_e=Ye||Ue||Ae,Pe={data:m,field:F,property:F,item:y,$form:t,$grid:t.xegrid};if(H===!1)return Et();let Fe=!1;if(C){const Oe=C[F];Oe&&(Fe=Oe.some(A=>A.required))}if(Q&&Q.length>0){const Oe=Q.map((A,U)=>r(Ka,{key:U,itemConfig:A}));return Oe.length?r("div",{class:["vxe-form--gather vxe-form--item-row",y.id,pe?`vxe-form--item-col_${pe} is--span`:"",ne?n.isFunction(ne)?ne(Pe):ne:""]},Oe):Et()}let ae=[];Z?ae=t.callSlot(Z,Pe):fe&&fe.renderItemContent?ae=Vt(fe.renderItemContent(ue,Pe)):F&&(ae=[n.toValueString(n.get(m,F))]),z&&ae.push(r("div",{class:"vxe-form--item-trigger-node",onClick:t.toggleCollapseEvent},[r("span",{class:"vxe-form--item-trigger-text"},O?f.i18n("vxe.form.unfolding"):f.i18n("vxe.form.folding")),r("i",{class:["vxe-form--item-trigger-icon",O?f.icon.FORM_FOLDING:f.icon.FORM_UNFOLDING]})])),ve&&E.showMessage&&ae.push(r("div",{class:"vxe-form--item-valid",style:ve.maxWidth?{width:`${ve.maxWidth}px`}:null},ve.content));const Re=Ue?{onMouseenter(Oe){t.triggerTitleTipEvent(Oe,Pe)},onMouseleave:t.handleTitleTipLeaveEvent}:{};return r("div",{class:["vxe-form--item",y.id,pe?`vxe-form--item-col_${pe} is--span`:"",ne?n.isFunction(ne)?ne(Pe):ne:"",ke?n.isFunction(ke)?ke(Pe):ke:"",{"is--title":N,"is--colon":se,"is--vertical":ge,"is--asterisk":me,"is--required":Fe,"is--hidden":I&&O,"is--active":qi(t,y),"is--error":Ce}],style:n.isFunction(he)?he(Pe):he},[r("div",{class:"vxe-form--item-inner"},[L!==!1&&(N||le)?r("div",Object.assign({class:["vxe-form--item-title",te?`align--${te}`:"",_e?"is--ellipsis":"",ce?n.isFunction(ce)?ce(Pe):ce:"",j?n.isFunction(j)?j(Pe):j:""],style:Object.assign({},n.isFunction(P)?P(Pe):P,n.isFunction(G)?G(Pe):G,oe?{width:isNaN(oe)?oe:`${oe}px`}:null),title:Ye?Ht(N):null},Re),Xa(t,y)):null,r("div",{class:["vxe-form--item-content",De?`align--${De}`:"",Ve?n.isFunction(Ve)?Ve(Pe):Ve:"",w?n.isFunction(w)?w(Pe):w:""],style:Object.assign({},n.isFunction($e)?$e(Pe):$e,n.isFunction(S)?S(Pe):S)},ae)])])}}},render(){return this.renderVN()}});class Fl{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.min,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return Ht(this.$options.content||this.$options.message)}get message(){return this.content}}const Kr=(e,t)=>{const{type:l,min:c,max:h,pattern:g}=e,m=l==="number",C=m?n.toNumber(t):n.getSize(t);return!!(m&&isNaN(t)||!n.eqNull(c)&&C<n.toNumber(c)||!n.eqNull(h)&&C>n.toNumber(h)||g&&!(n.isRegExp(g)?g:new RegExp(g)).test(t))};function Ad(e,t){return n.isArray(e)&&(t=[]),t}const Wl=kt({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:()=>f.form.size||f.size},span:{type:[String,Number],default:()=>f.form.span},align:{type:String,default:()=>f.form.align},titleAlign:{type:String,default:()=>f.form.titleAlign},titleWidth:{type:[String,Number],default:()=>f.form.titleWidth},titleColon:{type:Boolean,default:()=>f.form.titleColon},titleAsterisk:{type:Boolean,default:()=>f.form.titleAsterisk},titleOverflow:{type:[Boolean,String],default:null},vertical:{type:Boolean,default:null},className:[String,Function],readonly:Boolean,items:Array,rules:Object,preventSubmit:{type:Boolean,default:()=>f.form.preventSubmit},validConfig:Object,tooltipConfig:Object,customLayout:{type:Boolean,default:()=>f.form.customLayout}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup(e,t){const l=Ke.tooltip,{slots:c,emit:h}=t,g=n.uniqueId(),m=Qt(e),C=qt({collapseAll:e.collapseStatus,staticItems:[],formItems:[]}),i=qt({tooltipTimeout:null,tooltipStore:{item:null,visible:!1}}),p=bt("$xegrid",null),d=We(),x=We();let B={};const $=we(()=>Object.assign({},f.form.validConfig,e.validConfig)),V=we(()=>Object.assign({},f.tooltip,f.form.tooltipConfig,e.tooltipConfig)),R={refElem:d},q={computeSize:m,computeValidOpts:$,computeTooltipOpts:V},y={xID:g,props:e,context:t,reactData:C,xegrid:p,getRefMaps:()=>R,getComputeMaps:()=>q},O=(P,Z)=>P&&(n.isString(P)&&(P=c[P]||null),n.isFunction(P))?Vt(P(Z)):[],E=P=>(P.length&&P.forEach(Z=>{Z.slots&&n.each(Z.slots,le=>{n.isFunction(le)||c[le]||nt("vxe.error.notSlot",[le])})}),C.staticItems=n.mapTree(P,Z=>_i(y,Z),{children:"children"}),ee()),k=()=>{const P=[];return n.eachTree(C.formItems,Z=>{P.push(Z)},{children:"children"}),P},N=P=>{const Z=n.findTree(C.formItems,le=>le.field===P,{children:"children"});return Z?Z.item:null},H=()=>C.collapseAll,I=()=>{const P=!H();return C.collapseAll=P,h("update:collapseStatus",P),ee()},F=P=>{I();const Z=H();B.dispatchEvent("toggle-collapse",{status:Z,collapse:Z,data:e.data},P),B.dispatchEvent("collapse",{status:Z,collapse:Z,data:e.data},P)},z=P=>{if(P){let Z=P;n.isArray(P)||(Z=[P]),Z.forEach(le=>{if(le){const pe=Yr(y,le);pe&&(pe.showError=!1)}})}else k().forEach(Z=>{Z.showError=!1});return ee()},ue=()=>{const{data:P}=e,Z=k();return P&&Z.forEach(le=>{const{field:pe,resetValue:De,itemRender:te}=le;if(gt(te)){const oe=Ke.renderer.get(te.name);oe&&oe.itemResetMethod?oe.itemResetMethod({data:P,field:pe,property:pe,item:le,$form:y,$grid:y.xegrid}):pe&&n.set(P,pe,De===null?Ad(n.get(P,pe),void 0):n.clone(De,!0))}}),z()},Ce=P=>{P.preventDefault(),ue(),B.dispatchEvent("reset",{data:e.data},P)},ve=P=>{const Z=d.value;for(let le=0;le<P.length;le++){const pe=P[le],De=N(pe);if(De&&gt(De.itemRender)){const{itemRender:te}=De,oe=Ke.renderer.get(te.name);let se=null;if(le||na(Z.querySelector(`.${De.id}`)),te.autofocus&&(se=Z.querySelector(`.${De.id} ${te.autofocus}`)),!se&&oe&&oe.autofocus&&(se=Z.querySelector(`.${De.id} ${oe.autofocus}`)),se){se.focus();break}}}},ne=(P,Z,le)=>{const{data:pe,rules:De}=e,te={};return n.isArray(Z)||(Z=[Z]),Promise.all(Z.map(oe=>{const se=[],me=[];if(oe&&De){const ye=n.get(De,oe);if(ye){const ge=n.isUndefined(le)?n.get(pe,oe):le;ye.forEach(Ae=>{const{type:Ye,trigger:Ue,required:_e,validator:Pe}=Ae;if(P==="all"||!Ue||P===Ue)if(Pe){const Fe={itemValue:ge,rule:Ae,rules:ye,data:pe,field:oe,property:oe,$form:y};let Y;if(n.isString(Pe)){const ae=Ke.validators.get(Pe);ae?ae.itemValidatorMethod?Y=ae.itemValidatorMethod(Fe):st("vxe.error.notValidators",[Pe]):nt("vxe.error.notValidators",[Pe])}else Y=Pe(Fe);Y&&(n.isError(Y)?se.push(new Fl({type:"custom",trigger:Ue,content:Y.message,rule:new Fl(Ae)})):Y.catch&&me.push(Y.catch(ae=>{se.push(new Fl({type:"custom",trigger:Ue,content:ae?ae.message:Ae.content||Ae.message,rule:new Fl(Ae)}))})))}else{const Fe=Ye==="array",Y=n.isArray(ge);let ae=!0;Fe||Y?ae=!Y||!ge.length:n.isString(ge)?ae=Go(ge.trim()):ae=Go(ge),(_e?ae||Kr(Ae,ge):!ae&&Kr(Ae,ge))&&se.push(new Fl(Ae))}})}}return Promise.all(me).then(()=>{se.length&&(te[oe]=se.map(ye=>({$form:y,rule:ye,data:pe,field:oe,property:oe})))})})).then(()=>{if(!n.isEmpty(te))return Promise.reject(te)})};let re;const ie=(P,Z,le)=>{const{data:pe,rules:De}=e,te=$.value,oe={},se=[],me=[];return clearTimeout(re),pe&&De?(P.forEach(ye=>{const{field:ge}=ye;ge&&!Ld(y,ye)&&qi(y,ye)&&me.push(ne(Z||"all",ge).then(()=>{ye.errRule=null}).catch(Ae=>{const Ye=Ae[ge];return oe[ge]||(oe[ge]=[]),oe[ge].push(Ye),se.push(ge),ye.errRule=Ye[0].rule,Promise.reject(Ye)}))}),Promise.all(me).then(()=>{le&&le()}).catch(()=>new Promise(ye=>{re=window.setTimeout(()=>{P.forEach(ge=>{ge.errRule&&(ge.showError=!0)})},20),te.autoPos!==!1&&ee(()=>{ve(se)}),le?(le(oe),ye()):ye(oe)}))):(le&&le(),Promise.resolve())},Q=P=>(z(),ie(k(),"",P)),L=(P,Z)=>{let le=[];return n.isArray(P)?le=P:le=[P],ie(le.map(pe=>Yr(y,pe)),"",Z)},w=P=>{P.preventDefault(),e.preventSubmit||(z(),ie(k()).then(Z=>{Z?B.dispatchEvent("submit-invalid",{data:e.data,errMap:Z},P):B.dispatchEvent("submit",{data:e.data},P)}))},S=()=>{const{tooltipStore:P}=i,Z=x.value;return P.visible&&(Object.assign(P,{item:null,visible:!1}),Z&&Z.close()),ee()},j=(P,Z)=>{const{item:le}=Z,{tooltipStore:pe}=i,De=x.value,te=P.currentTarget.children[0],oe=(te.textContent||"").trim(),se=te.scrollWidth>te.clientWidth;clearTimeout(i.tooltipTimeout),pe.item!==le&&S(),oe&&se&&(Object.assign(pe,{item:le,visible:!0}),De&&De.open(te,oe))},G=()=>{const P=V.value;let Z=x.value;Z&&Z.setActived(!1),P.enterable?i.tooltipTimeout=setTimeout(()=>{Z=x.value,Z&&!Z.isActived()&&S()},P.leaveDelay):S()},fe=(P,Z,le)=>Z?ne(P?["blur"].includes(P.type)?"blur":"change":"all",Z,le).then(()=>{z(Z)}).catch(pe=>{const De=pe[Z],te=N(Z);De&&te&&(te.showError=!0,te.errRule=De[0].rule)}):ee();B={dispatchEvent(P,Z,le){h(P,Object.assign({$form:y,$grid:p,$event:le},Z))},reset:ue,validate:Q,validateField:L,clearValidate:z,updateStatus:(P,Z)=>{const{field:le}=P;return fe(new Event("change"),le,Z)},toggleCollapse:I,getItems:k,getItemByField:N,closeTooltip:S},Object.assign(y,B,{callSlot:O,triggerItemEvent:fe,toggleCollapseEvent:F,triggerTitleTipEvent:j,handleTitleTipLeaveEvent:G});const Ve=We(0);ut(()=>C.staticItems.length,()=>{Ve.value++}),ut(()=>C.staticItems,()=>{Ve.value++}),ut(Ve,()=>{C.formItems=C.staticItems});const $e=We(0);ut(()=>e.items?e.items.length:-1,()=>{$e.value++}),ut(()=>e.items,()=>{$e.value++}),ut($e,()=>{E(e.items||[])}),ut(()=>e.collapseStatus,P=>{C.collapseAll=!!P});const ce=()=>{const{loading:P,className:Z,data:le,customLayout:pe}=e,{formItems:De}=C,te=m.value,oe=V.value,se=c.default;return r("form",{ref:d,class:["vxe-form",Z?n.isFunction(Z)?Z({items:De,data:le,$form:y}):Z:"",{[`size--${te}`]:te,"is--loading":P}],onSubmit:w,onReset:Ce},[r("div",{class:"vxe-form--wrapper vxe-form--item-row"},pe?se?se({}):[]:De.map((me,ye)=>r(Ka,{key:ye,itemConfig:me}))),r("div",{class:"vxe-form-slots",ref:"hideItem"},pe?[]:se?se({}):[]),r(ls,{class:"vxe-form--loading",modelValue:P}),l?r(ml,Object.assign({ref:x},oe)):Et()])};return y.renderVN=ce,e.items&&E(e.items),Gt("$xeform",y),Gt("$xeformgather",null),Gt("$xeformitem",null),Gt("$xeformiteminfo",null),y},render(){return this.renderVN()}}),Ps=Object.assign(Wl,{install(e){e.component(Wl.name,Wl)}}),$d=Ps;Ft.component(Wl.name,Wl);const Bd=Object.keys(zi),Zr=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getRowSeq","getRowById","getRowid","getTableData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","getPendingRecords","clearPendingRow","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","openTooltip","focus","blur","connect"],jd=[...Wi,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],_l=kt({name:"VxeGrid",props:Object.assign(Object.assign({},zi),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>f.grid.size||f.size}}),emits:jd,setup(e,t){const{slots:l,emit:c}=t,h=n.uniqueId(),g=Jr(),m=Qt(e),C=qt({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:f.pager.pageSize||10,currentPage:1}}),i=We(),p=We(),d=We(),x=We(),B=We(),$=We(),V=We(),R=We(),q=We(),y=We(),O=Y=>{const ae={};return Y.forEach(Re=>{ae[Re]=(...Oe)=>{const A=p.value;if(A&&A[Re])return A[Re](...Oe)}}),ae},E=O(Zr);Zr.forEach(Y=>{E[Y]=(...ae)=>{const Re=p.value;if(Re&&Re[Y])return Re&&Re[Y](...ae)}});const k=we(()=>Object.assign({},f.grid.proxyConfig,e.proxyConfig)),N=we(()=>k.value.message!==!1),H=we(()=>Object.assign({},f.grid.pagerConfig,e.pagerConfig)),I=we(()=>Object.assign({},f.grid.formConfig,e.formConfig)),F=we(()=>Object.assign({},f.grid.toolbarConfig,e.toolbarConfig)),z=we(()=>Object.assign({},f.grid.zoomConfig,e.zoomConfig)),ue=we(()=>C.isZMax?{zIndex:C.tZindex}:null),Ce=we(()=>{const Y={},ae=e;return Bd.forEach(Re=>{Y[Re]=ae[Re]}),Y}),ve={refElem:i,refTable:p,refForm:d,refToolbar:x,refPager:B},ne={computeProxyOpts:k,computePagerOpts:H,computeFormOpts:I,computeToolbarOpts:F,computeZoomOpts:z},re={xID:h,props:e,context:t,instance:g,reactData:C,getRefMaps:()=>ve,getComputeMaps:()=>ne};let ie={};const Q=we(()=>{const{seqConfig:Y,pagerConfig:ae,loading:Re,editConfig:Oe,proxyConfig:A}=e,{isZMax:U,tableLoading:xe,tablePage:Be,tableData:He}=C,qe=Ce.value,Qe=k.value,et=H.value,ot=Object.assign({},qe);return U&&(qe.maxHeight?ot.maxHeight="100%":ot.height="100%"),A&&gt(Qe)&&(ot.loading=Re||xe,ot.data=He,ae&&Qe.seq&&gt(et)&&(ot.seqConfig=Object.assign({},Y,{startIndex:(Be.currentPage-1)*Be.pageSize}))),Oe&&(ot.editConfig=Object.assign({},Oe)),ot}),L=()=>{const Y=F.value;e.toolbarConfig&&gt(Y)&&ee(()=>{const ae=p.value,Re=x.value;ae&&Re&&ae.connect(Re)})},w=()=>{const{tablePage:Y}=C,{pagerConfig:ae}=e,Re=H.value,{currentPage:Oe,pageSize:A}=Re;ae&&gt(Re)&&(Oe&&(Y.currentPage=Oe),A&&(Y.pageSize=A))},S=Y=>{const ae=N.value,Re=p.value,Oe=Re.getCheckboxRecords();Oe.length?(Re.togglePendingRow(Oe),E.clearCheckboxRow()):ae&&(Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({id:Y,content:f.i18n("vxe.grid.selectOneRecord"),status:"warning"}))},j=(Y,ae)=>{const Re=k.value,A=(Re.response||Re.props||{}).message;let U;return Y&&A&&(U=n.isFunction(A)?A({data:Y,$grid:re}):n.get(Y,A)),U||f.i18n(ae)},G=(Y,ae,Re)=>{const Oe=N.value,A=E.getCheckboxRecords();if(Oe){if(A.length)return Ke.modal.confirm({id:`cfm_${Y}`,content:f.i18n(ae),escClosable:!0}).then(U=>{if(U==="confirm")return Re()});Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({id:`msg_${Y}`,content:f.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else A.length&&Re();return Promise.resolve()},fe=Y=>{const{proxyConfig:ae}=e,{tablePage:Re}=C,{currentPage:Oe,pageSize:A}=Y,U=k.value;Re.currentPage=Oe,Re.pageSize=A,ie.dispatchEvent("page-change",Y),ae&&gt(U)&&ie.commitProxy("query").then(xe=>{ie.dispatchEvent("proxy-query",xe,Y.$event)})},ke=Y=>{const ae=p.value,{proxyConfig:Re}=e,{computeSortOpts:Oe}=ae.getComputeMaps(),A=k.value;Oe.value.remote&&(C.sortData=Y.sortList,Re&&gt(A)&&(C.tablePage.currentPage=1,ie.commitProxy("query").then(xe=>{ie.dispatchEvent("proxy-query",xe,Y.$event)}))),ie.dispatchEvent("sort-change",Y)},he=Y=>{const ae=p.value,{proxyConfig:Re}=e,{computeFilterOpts:Oe}=ae.getComputeMaps(),A=k.value;Oe.value.remote&&(C.filterData=Y.filterList,Re&&gt(A)&&(C.tablePage.currentPage=1,ie.commitProxy("query").then(xe=>{ie.dispatchEvent("proxy-query",xe,Y.$event)}))),ie.dispatchEvent("filter-change",Y)},Ve=Y=>{const{proxyConfig:ae}=e,Re=k.value;ae&&gt(Re)&&ie.commitProxy("reload").then(Oe=>{ie.dispatchEvent("proxy-query",Object.assign(Object.assign({},Oe),{isReload:!0}),Y.$event)}),ie.dispatchEvent("form-submit",Y)},$e=Y=>{const{proxyConfig:ae}=e,Re=k.value;ae&&gt(Re)&&ie.commitProxy("reload").then(Oe=>{ie.dispatchEvent("proxy-query",Object.assign(Object.assign({},Oe),{isReload:!0}),Y.$event)}),ie.dispatchEvent("form-reset",Y)},ce=Y=>{ie.dispatchEvent("form-submit-invalid",Y)},P=Y=>{ee(()=>E.recalculate(!0)),ie.dispatchEvent("form-toggle-collapse",Y),ie.dispatchEvent("form-collapse",Y)},Z=Y=>{const{isZMax:ae}=C;return(Y?!ae:ae)&&(C.isZMax=!ae,C.tZindex<on()&&(C.tZindex=Yo())),ee().then(()=>E.recalculate(!0)).then(()=>C.isZMax)},le=(Y,ae)=>{const Re=Y[ae];if(Re)if(n.isString(Re)){if(l[Re])return l[Re];nt("vxe.error.notSlot",[Re])}else return Re;return null},pe=()=>{const{formConfig:Y,proxyConfig:ae}=e,{formData:Re}=C,Oe=k.value,A=I.value,U=[];if(Y&&gt(A)||l.form){let xe=[];if(l.form)xe=l.form({$grid:re});else if(A.items){const Be={};if(!A.inited){A.inited=!0;const He=Oe.beforeItem;Oe&&He&&A.items.forEach(qe=>{He({$grid:re,item:qe})})}A.items.forEach(He=>{n.each(He.slots,qe=>{n.isFunction(qe)||l[qe]&&(Be[qe]=l[qe])})}),xe.push(r(Ps,Object.assign(Object.assign({ref:d},Object.assign({},A,{data:ae&&gt(Oe)&&Oe.form?Re:A.data})),{onSubmit:Ve,onReset:$e,onSubmitInvalid:ce,onCollapse:P}),Be))}U.push(r("div",{ref:$,key:"form",class:"vxe-grid--form-wrapper"},xe))}return U},De=()=>{const{toolbarConfig:Y}=e,ae=F.value,Re=[];if(Y&&gt(ae)||l.toolbar){let Oe=[];if(l.toolbar)Oe=l.toolbar({$grid:re});else{const A=ae.slots;let U,xe;const Be={};A&&(U=le(A,"buttons"),xe=le(A,"tools"),U&&(Be.buttons=U),xe&&(Be.tools=xe)),Oe.push(r(Fs,Object.assign({ref:x},ae),Be))}Re.push(r("div",{ref:V,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},Oe))}return Re},te=()=>l.top?[r("div",{ref:R,key:"top",class:"vxe-grid--top-wrapper"},l.top({$grid:re}))]:[],oe=["Form","Toolbar","Top","Table","Bottom","Pager"],se=()=>{const{layouts:Y}=e,ae=[];return(Y&&Y.length?Y:f.grid.layouts||oe).forEach(Oe=>{switch(Oe){case"Form":ae.push(pe());break;case"Toolbar":ae.push(De());break;case"Top":ae.push(te());break;case"Table":ae.push(ye());break;case"Bottom":ae.push(ge());break;case"Pager":ae.push(Ae());break;default:nt("vxe.error.notProp",[`layouts -> ${Oe}`]);break}}),ae},me={};Wi.forEach(Y=>{const ae=n.camelCase(`on-${Y}`);me[ae]=(...Re)=>c(Y,...Re)});const ye=()=>{const{proxyConfig:Y}=e,ae=Q.value,Re=k.value,Oe=Object.assign({},me),A=l.empty,U=l.loading;Y&&gt(Re)&&(Re.sort&&(Oe.onSortChange=ke),Re.filter&&(Oe.onFilterChange=he));const xe={};return A&&(xe.empty=()=>A({})),U&&(xe.loading=()=>U({})),[r(ks,Object.assign(Object.assign({ref:p,key:"table"},ae),Oe),xe)]},ge=()=>l.bottom?[r("div",{ref:q,key:"bottom",class:"vxe-grid--bottom-wrapper"},l.bottom({$grid:re}))]:[],Ae=()=>{const{proxyConfig:Y,pagerConfig:ae}=e,Re=k.value,Oe=H.value,A=[];if(ae&&gt(Oe)||l.pager){let U=[];if(l.pager)U=l.pager({$grid:re});else{const xe=Oe.slots,Be={};let He,qe;xe&&(He=le(xe,"left"),qe=le(xe,"right"),He&&(Be.left=He),qe&&(Be.right=qe)),U.push(r(Is,Object.assign(Object.assign(Object.assign({ref:B},Oe),Y&&gt(Re)?C.tablePage:{}),{onPageChange:fe}),Be))}A.push(r("div",{ref:y,key:"pager",class:"vxe-grid--pager-wrapper"},U))}return A},Ye=()=>{const{proxyConfig:Y,formConfig:ae}=e,{proxyInited:Re}=C,Oe=k.value,A=I.value;if(Y&&gt(Oe)){if(ae&&gt(A)&&Oe.form&&A.items){const U={};A.items.forEach(xe=>{const{field:Be,itemRender:He}=xe;if(Be){let qe=null;if(He){const{defaultValue:Qe}=He;n.isFunction(Qe)?qe=Qe({item:xe}):n.isUndefined(Qe)||(qe=Qe)}U[Be]=qe}}),C.formData=U}Re||(C.proxyInited=!0,Oe.autoLoad!==!1&&ee().then(()=>ie.commitProxy("_init")).then(U=>{ie.dispatchEvent("proxy-query",Object.assign(Object.assign({},U),{isInited:!0}),new Event("init"))}))}};ie={dispatchEvent(Y,ae,Re){c(Y,Object.assign({$grid:re,$event:Re},ae))},commitProxy(Y,...ae){const{toolbarConfig:Re,pagerConfig:Oe,editRules:A,validConfig:U}=e,{tablePage:xe,formData:Be}=C,He=N.value,qe=k.value,Qe=H.value,et=F.value,{beforeQuery:ot,afterQuery:Je,beforeDelete:it,afterDelete:St,beforeSave:D,afterSave:Tt,ajax:xt={}}=qe,ht=qe.response||qe.props||{},rt=p.value;let Mt=null,Ct=null;if(n.isString(Y)){const{buttons:wt}=et,Dt=Re&&gt(et)&&wt?n.findTree(wt,At=>At.code===Y,{children:"dropdowns"}):null;Mt=Dt?Dt.item:null,Ct=Y}else Mt=Y,Ct=Mt.code;const Nt=Mt?Mt.params:null;switch(Ct){case"insert":return rt.insert({});case"insert_edit":return rt.insert({}).then(({row:wt})=>rt.setEditRow(wt));case"insert_actived":return rt.insert({}).then(({row:wt})=>rt.setEditRow(wt));case"mark_cancel":S(Ct);break;case"remove":return G(Ct,"vxe.grid.removeSelectRecord",()=>rt.removeCheckboxRow());case"import":rt.importData(Nt);break;case"open_import":rt.openImport(Nt);break;case"export":rt.exportData(Nt);break;case"open_export":rt.openExport(Nt);break;case"reset_custom":return rt.resetColumn(!0);case"_init":case"reload":case"query":{const wt=xt.query;if(wt){const Dt=Ct==="_init",At=Ct==="reload";let Wt=[],Jt=[],Yt={};if(Oe&&((Dt||At)&&(xe.currentPage=1),gt(Qe)&&(Yt=Object.assign({},xe))),Dt){const{computeSortOpts:$t}=rt.getComputeMaps();let jt=$t.value.defaultSort;jt&&(n.isArray(jt)||(jt=[jt]),Wt=jt.map(Kt=>({field:Kt.field,property:Kt.field,order:Kt.order}))),Jt=rt.getCheckedFilters()}else At?rt.clearAll():(Wt=rt.getSortColumns(),Jt=rt.getCheckedFilters());const Ut={code:Ct,button:Mt,isInited:Dt,isReload:At,$grid:re,page:Yt,sort:Wt.length?Wt[0]:{},sorts:Wt,filters:Jt,form:Be,options:wt};C.sortData=Wt,C.filterData=Jt,C.tableLoading=!0;const to=[Ut].concat(ae);return Promise.resolve((ot||wt)(...to)).then($t=>{if(C.tableLoading=!1,$t)if(Oe&&gt(Qe)){const Bt=ht.total,jt=(n.isFunction(Bt)?Bt({data:$t,$grid:re}):n.get($t,Bt||"page.total"))||0;xe.total=n.toNumber(jt);const Kt=ht.result;C.tableData=(n.isFunction(Kt)?Kt({data:$t,$grid:re}):n.get($t,Kt||"result"))||[];const ro=Math.max(Math.ceil(jt/xe.pageSize),1);xe.currentPage>ro&&(xe.currentPage=ro)}else{const Bt=ht.list;C.tableData=(Bt?n.isFunction(Bt)?Bt({data:$t,$grid:re}):n.get($t,Bt):$t)||[]}else C.tableData=[];return Je&&Je(...to),{status:!0}}).catch(()=>(C.tableLoading=!1,{status:!1}))}else nt("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const wt=xt.delete;if(wt){const Dt=E.getCheckboxRecords(),At=Dt.filter(Ut=>!rt.isInsertByRow(Ut)),Yt=[{$grid:re,code:Ct,button:Mt,body:{removeRecords:At},form:Be,options:wt}].concat(ae);if(Dt.length)return G(Ct,"vxe.grid.deleteSelectRecord",()=>At.length?(C.tableLoading=!0,Promise.resolve((it||wt)(...Yt)).then(Ut=>(C.tableLoading=!1,rt.setPendingRow(At,!1),He&&(Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({content:j(Ut,"vxe.grid.delSuccess"),status:"success"})),St?St(...Yt):ie.commitProxy("query"),{status:!0})).catch(Ut=>(C.tableLoading=!1,He&&(Ke.modal.message||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({id:Ct,content:j(Ut,"vxe.grid.operError"),status:"error"})),{status:!1}))):rt.remove(Dt));He&&(Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({id:Ct,content:f.i18n("vxe.grid.selectOneRecord"),status:"warning"}))}else nt("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const wt=xt.save;if(wt){const Dt=rt.getRecordset(),{insertRecords:At,removeRecords:Wt,updateRecords:Jt,pendingRecords:Yt}=Dt,to=[{$grid:re,code:Ct,button:Mt,body:Dt,form:Be,options:wt}].concat(ae);At.length&&(Dt.pendingRecords=Yt.filter(Bt=>rt.findRowIndexOf(At,Bt)===-1)),Yt.length&&(Dt.insertRecords=At.filter(Bt=>rt.findRowIndexOf(Yt,Bt)===-1));let $t=Promise.resolve();return A&&($t=rt[U&&U.msgMode==="full"?"fullValidate":"validate"](Dt.insertRecords.concat(Jt))),$t.then(Bt=>{if(!Bt){if(Dt.insertRecords.length||Wt.length||Jt.length||Dt.pendingRecords.length)return C.tableLoading=!0,Promise.resolve((D||wt)(...to)).then(jt=>(C.tableLoading=!1,rt.clearPendingRow(),He&&(Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({content:j(jt,"vxe.grid.saveSuccess"),status:"success"})),Tt?Tt(...to):ie.commitProxy("query"),{status:!0})).catch(jt=>(C.tableLoading=!1,He&&(Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({id:Ct,content:j(jt,"vxe.grid.operError"),status:"error"})),{status:!1}));He&&(Ke.modal||nt("vxe.error.reqModule",["Modal"]),Ke.modal.message({id:Ct,content:f.i18n("vxe.grid.dataUnchanged"),status:"info"}))}})}else nt("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:{const wt=Ke.commands.get(Ct);wt&&(wt.commandMethod?wt.commandMethod({code:Ct,button:Mt,$grid:re,$table:rt},...ae):nt("vxe.error.notCommands",[Ct]))}}return ee()},zoom(){return C.isZMax?ie.revert():ie.maximize()},isMaximized(){return C.isZMax},maximize(){return Z(!0)},revert(){return Z()},getFormItems(Y){const ae=I.value,{formConfig:Re}=e,{items:Oe}=ae,A=[];return n.eachTree(Re&&gt(ae)&&Oe?Oe:[],U=>{A.push(U)},{children:"children"}),n.isUndefined(Y)?A:A[Y]},getProxyInfo(){const Y=p.value;if(e.proxyConfig){const{sortData:ae}=C;return{data:C.tableData,filter:C.filterData,form:C.formData,sort:ae.length?ae[0]:{},sorts:ae,pager:C.tablePage,pendingRecords:Y?Y.getPendingRecords():[]}}return null}},ie.loadColumn=Y=>{const ae=p.value;return n.eachTree(Y,Re=>{Re.slots&&n.each(Re.slots,Oe=>{n.isFunction(Oe)||l[Oe]||nt("vxe.error.notSlot",[Oe])})}),ae?ae.loadColumn(Y):ee()},ie.reloadColumn=Y=>(E.clearAll(),ie.loadColumn(Y));const Ue={extendTableMethods:O,callSlot(Y,ae){return Y&&(n.isString(Y)&&(Y=l[Y]||null),n.isFunction(Y))?Vt(Y(ae)):[]},getExcludeHeight(){const{height:Y}=e,{isZMax:ae}=C,Re=i.value,Oe=$.value,A=V.value,U=R.value,xe=q.value,Be=y.value;return(ae||!(Y==="auto"||Y==="100%")?0:hi(Re.parentNode))+hi(Re)+Rl(Oe)+Rl(A)+Rl(U)+Rl(xe)+Rl(Be)},getParentHeight(){const Y=i.value;return Y?(C.isZMax?Sn().visibleHeight:n.toNumber(getComputedStyle(Y.parentNode).height))-Ue.getExcludeHeight():0},triggerToolbarCommitEvent(Y,ae){const{code:Re}=Y;return ie.commitProxy(Y,ae).then(Oe=>{Re&&Oe&&Oe.status&&["query","reload","delete","save"].includes(Re)&&ie.dispatchEvent(Re==="delete"||Re==="save"?`proxy-${Re}`:"proxy-query",Object.assign(Object.assign({},Oe),{isReload:Re==="reload"}),ae)})},triggerToolbarBtnEvent(Y,ae){Ue.triggerToolbarCommitEvent(Y,ae),ie.dispatchEvent("toolbar-button-click",{code:Y.code,button:Y},ae)},triggerToolbarTolEvent(Y,ae){Ue.triggerToolbarCommitEvent(Y,ae),ie.dispatchEvent("toolbar-tool-click",{code:Y.code,tool:Y,$event:ae})},triggerZoomEvent(Y){ie.zoom(),ie.dispatchEvent("zoom",{type:C.isZMax?"max":"revert"},Y)}};Object.assign(re,E,ie,Ue);const _e=We(0);ut(()=>e.columns?e.columns.length:-1,()=>{_e.value++}),ut(()=>e.columns,()=>{_e.value++}),ut(_e,()=>{ee(()=>re.loadColumn(e.columns||[]))}),ut(()=>e.toolbarConfig,()=>{L()}),ut(()=>e.pagerConfig,()=>{w()}),ut(()=>e.proxyConfig,()=>{Ye()});const Pe=Y=>{const ae=z.value;vt(Y,pt.ESCAPE)&&C.isZMax&&ae.escRestore!==!1&&Ue.triggerZoomEvent(Y)};Ke.hooks.forEach(Y=>{const{setupGrid:ae}=Y;if(ae){const Re=ae(re);Re&&n.isObject(Re)&&Object.assign(re,Re)}}),w(),go(()=>{ee(()=>{const{data:Y,columns:ae,proxyConfig:Re}=e,Oe=k.value,A=I.value;gt(Re)&&(Y||Oe.form&&A.data)&&nt("vxe.error.errConflicts",["grid.data","grid.proxy-config"]),ae&&ae.length&&re.loadColumn(ae),L()}),mt.on(re,"keydown",Pe)}),io(()=>{mt.off(re,"keydown")}),ee(()=>{Ye()});const Fe=()=>{const Y=m.value,ae=ue.value;return r("div",{ref:i,class:["vxe-grid",{[`size--${Y}`]:Y,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":C.isZMax,"is--loading":e.loading||C.tableLoading}],style:ae},se())};return re.renderVN=Fe,Gt("$xegrid",re),re},render(){return this.renderVN()}}),Gi=Object.assign(_l,{install(e){e.component(_l.name,_l)}}),Hd=Gi;Ft.component(_l.name,_l);const Yi=Object.assign(Do,{install(e){e.component(Do.name,Do)}}),zd=Yi;Ft.component(Do.name,Do);const ql=kt({name:"VxeCheckboxGroup",props:{modelValue:Array,options:Array,optionProps:Object,disabled:Boolean,max:{type:[String,Number],default:null},size:{type:String,default:()=>f.checkboxGroup.size||f.size}},emits:["update:modelValue","change"],setup(e,t){const{slots:l,emit:c}=t,h=bt("$xeform",null),g=bt("$xeformiteminfo",null),m=n.uniqueId(),C=we(()=>{const{modelValue:y,max:O}=e;return O?(y?y.length:0)>=n.toNumber(O):!1}),i=we(()=>e.optionProps||{}),p=we(()=>i.value.label||"label"),d=we(()=>i.value.value||"value"),x=we(()=>i.value.disabled||"disabled"),B={computeIsMaximize:C},$={xID:m,props:e,context:t,getComputeMaps:()=>B};Qt(e),Object.assign($,{dispatchEvent(y,O,E){c(y,Object.assign({$checkboxGroup:$,$event:E},O))}},{handleChecked(y,O){const{checked:E,label:k}=y,N=e.modelValue||[],H=N.indexOf(k);E?H===-1&&N.push(k):N.splice(H,1),c("update:modelValue",N),$.dispatchEvent("change",Object.assign({checklist:N},y),O),h&&g&&h.triggerItemEvent(O,g.itemConfig.field,N)}});const q=()=>{const{options:y}=e,O=l.default,E=d.value,k=p.value,N=x.value;return r("div",{class:"vxe-checkbox-group"},O?O({}):y?y.map(H=>r(Do,{label:H[E],content:H[k],disabled:H[N]})):[])};return $.renderVN=q,Gt("$xecheckboxgroup",$),q}}),Ui=Object.assign(ql,{install(e){e.component(ql.name,ql)}}),Wd=Ui;Ft.component(ql.name,ql);const Xi=Object.assign(Gn,{install:function(e){e.component(Gn.name,Gn)}}),_d=Xi;Ft.component(Gn.name,Gn);const Ki=Object.assign(Yn,{install:function(e){e.component(Yn.name,Yn)}}),qd=Ki;Ft.component(Yn.name,Yn);const Zi=Object.assign(dl,{install:function(e){e.component(dl.name,dl)}}),Gd=Zi;Ft.component(dl.name,dl);const Ji=Object.assign(pn,{install(e){e.component(pn.name,pn)}}),Yd=Ji;Ft.component(pn.name,pn);let cn;const Gl=kt({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:()=>n.eqNull(f.textarea.placeholder)?f.i18n("vxe.base.pleaseInput"):f.textarea.placeholder},maxlength:[String,Number],rows:{type:[String,Number],default:2},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:()=>f.textarea.resize},size:{type:String,default:()=>f.textarea.size||f.size}},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup(e,t){const{emit:l}=t,c=bt("$xeform",null),h=bt("$xeformiteminfo",null),g=n.uniqueId(),m=Qt(e),C=qt({inputValue:e.modelValue}),i=We(),p=We(),d={refElem:i,refTextarea:p},x={xID:g,props:e,context:t,reactData:C,getRefMaps:()=>d};let B={};const $=we(()=>n.getSize(C.inputValue)),V=we(()=>{const F=$.value;return e.maxlength&&F>n.toNumber(e.maxlength)}),R=we(()=>Object.assign({minRows:1,maxRows:10},f.textarea.autosize,e.autosize)),q=()=>{const{size:F,autosize:z}=e,{inputValue:ue}=C;if(z){cn||(cn=document.createElement("div")),cn.parentNode||document.body.appendChild(cn);const Ce=p.value,ve=getComputedStyle(Ce);cn.className=["vxe-textarea--autosize",F?`size--${F}`:""].join(" "),cn.style.width=`${Ce.clientWidth}px`,cn.style.padding=ve.padding,cn.innerText=(""+(ue||"　")).replace(/\n$/,`
　`)}},y=()=>{e.autosize&&ee(()=>{const F=R.value,{minRows:z,maxRows:ue}=F,Ce=p.value,ve=cn.clientHeight,ne=getComputedStyle(Ce),re=n.toNumber(ne.lineHeight),ie=n.toNumber(ne.paddingTop),Q=n.toNumber(ne.paddingBottom),L=n.toNumber(ne.borderTopWidth),w=n.toNumber(ne.borderBottomWidth),S=ie+Q+L+w,j=(ve-S)/re,G=j&&/[0-9]/.test(""+j)?j:Math.floor(j)+1;let fe=G;G<z?fe=z:G>ue&&(fe=ue),Ce.style.height=`${fe*re+S}px`})},O=F=>{const z=C.inputValue;x.dispatchEvent(F.type,{value:z},F)},E=(F,z)=>{C.inputValue=F,l("update:modelValue",F),n.toValueString(e.modelValue)!==F&&(B.dispatchEvent("change",{value:F},z),c&&h&&c.triggerItemEvent(z,h.itemConfig.field,F))},k=F=>{const{immediate:z}=e,Ce=F.target.value;C.inputValue=Ce,z&&E(Ce,F),x.dispatchEvent("input",{value:Ce},F),y()},N=F=>{const{immediate:z}=e;z?O(F):E(C.inputValue,F)},H=F=>{const{immediate:z}=e,{inputValue:ue}=C;z||E(ue,F),x.dispatchEvent("blur",{value:ue},F)};B={dispatchEvent(F,z,ue){l(F,Object.assign({$textarea:x,$event:ue},z))},focus(){return p.value.focus(),ee()},blur(){return p.value.blur(),ee()}},Object.assign(x,B),ut(()=>e.modelValue,F=>{C.inputValue=F,q()}),ee(()=>{const{autosize:F}=e;F&&(q(),y())});const I=()=>{const{className:F,resize:z,placeholder:ue,disabled:Ce,maxlength:ve,autosize:ne,showWordCount:re,countMethod:ie,rows:Q,cols:L}=e,{inputValue:w}=C,S=m.value,j=V.value,G=$.value;return r("div",{ref:i,class:["vxe-textarea",F,{[`size--${S}`]:S,"is--autosize":ne,"is--count":re,"is--disabled":Ce,"def--rows":!n.eqNull(Q),"def--cols":!n.eqNull(L)}]},[r("textarea",{ref:p,class:"vxe-textarea--inner",value:w,name:e.name,placeholder:ue?Ht(ue):null,maxlength:ve,readonly:e.readonly,disabled:Ce,rows:Q,cols:L,style:z?{resize:z}:null,onInput:k,onChange:N,onKeydown:O,onKeyup:O,onClick:O,onFocus:O,onBlur:H}),re?r("span",{class:["vxe-textarea--count",{"is--error":j}]},ie?`${ie({value:w})}`:`${G}${ve?`/${ve}`:""}`):null])};return x.renderVN=I,x},render(){return this.renderVN()}}),Qi=Object.assign(Gl,{install:function(e){e.component(Gl.name,Gl)}}),Ud=Qi;Ft.component(Gl.name,Gl);const Yl=kt({name:"VxeButtonGroup",props:{options:Array,mode:String,status:String,round:Boolean,circle:Boolean,className:[String,Function],disabled:Boolean,size:{type:String,default:()=>f.buttonGroup.size||f.size}},emits:["click"],setup(e,t){const{slots:l,emit:c}=t,h=n.uniqueId(),g={},m={xID:h,props:e,context:t,getComputeMaps:()=>g};Qt(e);const C={dispatchEvent(d,x,B){c(d,Object.assign({$buttonGroup:m,$event:B},x))}};Object.assign(m,C,{handleClick(d,x){const{options:B}=e,{name:$}=d,V=B?B.find(R=>R.name===$):null;C.dispatchEvent("click",Object.assign(Object.assign({},d),{option:V}),x)}});const p=()=>{const{className:d,options:x}=e,B=l.default;return r("div",{class:["vxe-button-group",d?n.isFunction(d)?d({$buttonGroup:m}):d:""]},B?B({}):x?x.map(($,V)=>r(po,Object.assign({key:V},$))):[])};return m.renderVN=p,Gt("$xebuttongroup",m),p}}),er=Object.assign(Yl,{install(e){e.component(Yl.name,Yl)}}),Xd=er;Ft.component(Yl.name,Yl);function Za(e){return Na(),new Promise(t=>{if(e&&e.id&&jn.some(l=>l.props.id===e.id))t("exist");else{const l=e.onHide,c=Object.assign(e,{key:n.uniqueId(),modelValue:!0,onHide(h){const g=_n.modals;l&&l(h),_n.modals=g.filter(m=>m.key!==c.key),t(h.type)}});_n.modals.push(c)}})}function Ja(e){return n.find(jn,t=>t.props.id===e)}function Kd(e){const t=e?[Ja(e)]:jn,l=[];return t.forEach(c=>{c&&l.push(c.close())}),Promise.all(l)}function tr(e,t,l,c){let h;return n.isObject(t)?h=t:h={content:n.toValueString(t),title:l},Za(Object.assign(Object.assign(Object.assign({},e),c),h))}function Zd(e,t,l){return tr({type:"alert",showFooter:!0},e,t,l)}function Jd(e,t,l){return tr({type:"confirm",status:"question",showFooter:!0},e,t,l)}function Qd(e,t){return tr({type:"message",mask:!1,lockView:!1,showHeader:!1},e,"",t)}const Qa={get:Ja,close:Kd,open:Za,alert:Zd,confirm:Jd,message:Qd},eu=Qa,or=Object.assign(On,{install:function(e){e.component(On.name,On),Ke.modal=Qa}}),tu=or;Ft.component(On.name,On);const Wn=[],Ul=kt({name:"VxeDrawer",props:{modelValue:Boolean,id:String,title:String,loading:{type:Boolean,default:null},className:String,position:[String,Object],lockView:{type:Boolean,default:()=>f.drawer.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>f.drawer.mask},maskClosable:{type:Boolean,default:()=>f.drawer.maskClosable},escClosable:{type:Boolean,default:()=>f.drawer.escClosable},showHeader:{type:Boolean,default:()=>f.drawer.showHeader},showFooter:{type:Boolean,default:()=>f.drawer.showFooter},showClose:{type:Boolean,default:()=>f.drawer.showClose},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>f.drawer.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>f.drawer.showConfirmButton},confirmButtonText:{type:String,default:()=>f.drawer.confirmButtonText},destroyOnClose:{type:Boolean,default:()=>f.drawer.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>f.drawer.showTitleOverflow},width:[Number,String],height:[Number,String],zIndex:Number,transfer:{type:Boolean,default:()=>f.drawer.transfer},size:{type:String,default:()=>f.drawer.size||f.size},beforeHideMethod:{type:Function,default:()=>f.drawer.beforeHideMethod},slots:Number},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel"],setup(e,t){const{slots:l,emit:c}=t,h=n.uniqueId(),g=Qt(e),m=We(),C=We(),i=We(),p=We(),d=qt({inited:!1,visible:!1,contentVisible:!1,drawerZIndex:0,firstOpen:!0}),x={refElem:m},B={},$={xID:h,props:e,context:t,reactData:d,getRefMaps:()=>x,getComputeMaps:()=>B},V=()=>C.value,R=()=>{const{width:w,height:S}=e,j=V();return j.style.width=`${w?isNaN(w)?w:`${w}px`:""}`,j.style.height=`${S?isNaN(S)?S:`${S}px`:""}`,ee()},q=()=>{const{zIndex:w}=e,{drawerZIndex:S}=d;w?d.drawerZIndex=w:S<on()&&(d.drawerZIndex=Yo())},y=()=>ee().then(()=>{}),O=w=>{const{beforeHideMethod:S}=e,{visible:j}=d,G={type:w};return j&&Promise.resolve(S?S(G):null).then(fe=>{n.isError(fe)||(d.contentVisible=!1,n.remove(Wn,ke=>ke===$),I.dispatchEvent("before-hide",G),setTimeout(()=>{d.visible=!1,c("update:modelValue",!1),I.dispatchEvent("hide",G)},200))}).catch(fe=>fe),ee()},E=w=>{const S="close";I.dispatchEvent(S,{type:S},w),O(S)},k=w=>{const S="confirm";I.dispatchEvent(S,{type:S},w),O(S)},N=w=>{const S="cancel";I.dispatchEvent(S,{type:S},w),O(S)},H=()=>{const{showFooter:w}=e,{inited:S,visible:j}=d;return S||(d.inited=!0),j||(R(),d.visible=!0,d.contentVisible=!1,q(),Wn.push($),setTimeout(()=>{d.contentVisible=!0,ee(()=>{if(w){const ke=i.value,he=p.value,Ve=ke||he;Ve&&Ve.focus()}const fe={type:""};c("update:modelValue",!0),I.dispatchEvent("show",fe)})},10),ee(()=>{const{firstOpen:G}=d;G&&y().then(()=>{setTimeout(()=>y(),20)}),G&&(d.firstOpen=!1)})),ee()},I={dispatchEvent(w,S,j){c(w,Object.assign({$drawer:$,$event:j},S))},open:H,close(){return O("close")},getBox:V},F=w=>{const S=m.value;e.maskClosable&&w.target===S&&O("mask")},z=w=>{if(vt(w,pt.ESCAPE)){const j=n.max(Wn,G=>G.reactData.drawerZIndex);j&&setTimeout(()=>{j===$&&j.props.escClosable&&O("exit")},10)}},ue=()=>{const{drawerZIndex:w}=d;Wn.some(S=>S.reactData.visible&&S.reactData.drawerZIndex>w)&&q()};Object.assign($,I,{});const ve=()=>{const{slots:w={},showClose:S,title:j}=e,G=l.title||w.title,fe=l.corner||w.corner,ke=[r("div",{class:"vxe-drawer--header-title"},G?Vt(G({$drawer:$})):j?Ht(j):f.i18n("vxe.alert.title"))],he=[];return fe&&he.push(r("span",{class:"vxe-drawer--corner-wrapper"},Vt(fe({$drawer:$})))),S&&he.push(r("i",{class:["vxe-drawer--close-btn","trigger--btn",f.icon.MODAL_CLOSE],title:f.i18n("vxe.drawer.close"),onClick:E})),ke.push(r("div",{class:"vxe-drawer--header-right"},he)),ke},ne=()=>{const{slots:w={},showTitleOverflow:S}=e,j=l.header||w.header,G=[];return e.showHeader&&G.push(r("div",{class:["vxe-drawer--header",{"is--ellipsis":S}]},j?!d.inited||e.destroyOnClose&&!d.visible?[]:Vt(j({$drawer:$})):ve())),G},re=()=>{const{slots:w={},content:S}=e,j=l.default||w.default;return[r("div",{class:"vxe-drawer--body"},[r("div",{class:"vxe-drawer--content"},j?!d.inited||e.destroyOnClose&&!d.visible?[]:Vt(j({$drawer:$})):Ht(S)),r(ls,{class:"vxe-drawer--loading",modelValue:e.loading})])]},ie=()=>{const{showCancelButton:w,showConfirmButton:S}=e,j=[];return w&&j.push(r(po,{key:1,ref:p,content:e.cancelButtonText||f.i18n("vxe.button.cancel"),onClick:N})),S&&j.push(r(po,{key:2,ref:i,status:"primary",content:e.confirmButtonText||f.i18n("vxe.button.confirm"),onClick:k})),j},Q=()=>{const{slots:w={}}=e,S=l.footer||w.footer,j=[];return e.showFooter&&j.push(r("div",{class:"vxe-drawer--footer"},S?!d.inited||e.destroyOnClose&&!d.visible?[]:Vt(S({$drawer:$})):ie())),j},L=()=>{const{className:w,position:S,loading:j,lockScroll:G,lockView:fe,mask:ke}=e,{inited:he,contentVisible:Ve,visible:$e}=d,ce=g.value;return r(Un,{to:"body",disabled:e.transfer?!he:!0},[r("div",{ref:m,class:["vxe-drawer--wrapper",`pos--${S}`,w||"",{[`size--${ce}`]:ce,"lock--scroll":G,"lock--view":fe,"is--mask":ke,"is--visible":Ve,"is--active":$e,"is--loading":j}],style:{zIndex:d.drawerZIndex},onClick:F},[r("div",{ref:C,class:"vxe-drawer--box",onMousedown:ue},ne().concat(re(),Q()))])])};return $.renderVN=L,ut(()=>e.width,R),ut(()=>e.height,R),ut(()=>e.modelValue,w=>{w?H():O("model")}),go(()=>{ee(()=>{e.modelValue&&H(),R()}),e.escClosable&&mt.on($,"keydown",z)}),io(()=>{mt.off($,"keydown")}),$},render(){return this.renderVN()}});function ou(e){return Na(),new Promise(t=>{if(e&&e.id&&Wn.some(l=>l.props.id===e.id))t("exist");else{const l=e.onHide,c=Object.assign(e,{key:n.uniqueId(),modelValue:!0,onHide(h){const g=_n.drawers;l&&l(h),_n.drawers=g.filter(m=>m.key!==c.key),t(h.type)}});_n.drawers.push(c)}})}function ec(e){return n.find(Wn,t=>t.props.id===e)}function nu(e){const t=e?[ec(e)]:Wn,l=[];return t.forEach(c=>{c&&l.push(c.close())}),Promise.all(l)}const tc={get:ec,close:nu,open:ou},lu=tc,nr=Object.assign(Ul,{install:function(e){e.component(Ul.name,Ul),Ke.drawer=tc}});Ft.component(Ul.name,Ul);const su=nr,oc={title:String,field:String,span:[String,Number],align:String,titleAlign:{type:String,default:null},titleWidth:{type:[String,Number],default:null},titleColon:{type:Boolean,default:null},titleAsterisk:{type:Boolean,default:null},showTitle:{type:Boolean,default:!0},vertical:{type:Boolean,default:null},className:[String,Function],contentClassName:[String,Function],contentStyle:[Object,Function],titleClassName:[String,Function],titleStyle:[Object,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object,rules:Array},Xl=kt({name:"VxeFormItem",props:oc,setup(e,{slots:t}){const l=We(),c=bt("$xeform",{}),h=bt("$xeformgather",null),g=qt(_i(c,e)),m={formItem:g},C={itemConfig:g};g.slots=t,Gt("$xeformiteminfo",C),Gt("$xeformitem",m),Gt("$xeformgather",null),Ga(e,g),go(()=>{Ya(c,l.value,g,h)}),io(()=>{Ua(c,g)});const i=(x,B)=>{const{props:$,reactData:V}=x,{data:R,rules:q,titleAlign:y,titleWidth:O,titleColon:E,titleAsterisk:k,titleOverflow:N,vertical:H}=$,{collapseAll:I}=V,{computeValidOpts:F}=x.getComputeMaps(),z=F.value,{slots:ue,title:Ce,visible:ve,folding:ne,field:re,collapseNode:ie,itemRender:Q,showError:L,errRule:w,className:S,titleOverflow:j,vertical:G,showTitle:fe,contentClassName:ke,contentStyle:he,titleClassName:Ve,titleStyle:$e}=B,ce=gt(Q)?Ke.renderer.get(Q.name):null,P=ce?ce.itemClassName:"",Z=ce?ce.itemStyle:null,le=ce?ce.itemContentClassName:"",pe=ce?ce.itemContentStyle:null,De=ce?ce.itemTitleClassName:"",te=ce?ce.itemTitleStyle:null,oe=ue?ue.default:null,se=ue?ue.title:null,me=B.span||$.span,ye=B.align||$.align,ge=n.eqNull(B.titleAlign)?y:B.titleAlign,Ae=n.eqNull(B.titleWidth)?O:B.titleWidth,Ye=n.eqNull(B.titleColon)?E:B.titleColon,Ue=n.eqNull(B.titleAsterisk)?k:B.titleAsterisk,_e=n.isUndefined(j)||n.isNull(j)?N:j,Pe=n.isUndefined(G)||n.isNull(G)?H:G,Fe=_e==="ellipsis",Y=_e==="title",ae=_e===!0||_e==="tooltip",Re=Y||ae||Fe,Oe={data:R,field:re,property:re,item:B,$form:x,$grid:x.xegrid};let A=!1;if(ve===!1)return Et();if(q){const Be=q[re];Be&&(A=Be.some(He=>He.required))}let U=[];oe?U=x.callSlot(oe,Oe):ce&&ce.renderItemContent?U=Vt(ce.renderItemContent(Q,Oe)):re&&(U=[`${n.get(R,re)}`]),ie&&U.push(r("div",{class:"vxe-form--item-trigger-node",onClick:x.toggleCollapseEvent},[r("span",{class:"vxe-form--item-trigger-text"},I?f.i18n("vxe.form.unfolding"):f.i18n("vxe.form.folding")),r("i",{class:["vxe-form--item-trigger-icon",I?f.icon.FORM_FOLDING:f.icon.FORM_UNFOLDING]})])),w&&z.showMessage&&U.push(r("div",{class:"vxe-form--item-valid",style:w.maxWidth?{width:`${w.maxWidth}px`}:null},w.message));const xe=ae?{onMouseenter(Be){x.triggerTitleTipEvent(Be,Oe)},onMouseleave:x.handleTitleTipLeaveEvent}:{};return r("div",{ref:l,class:["vxe-form--item",B.id,me?`vxe-form--item-col--${me} is--span`:"",S?n.isFunction(S)?S(Oe):S:"",P?n.isFunction(P)?P(Oe):P:"",{"is--title":Ce,"is--colon":Ye,"is--vertical":Pe,"is--asterisk":Ue,"is--required":A,"is--hidden":ne&&I,"is--active":qi(x,B),"is--error":L}],style:n.isFunction(Z)?Z(Oe):Z},[r("div",{class:"vxe-form--item-inner"},[fe!==!1&&(Ce||se)?r("div",Object.assign({class:["vxe-form--item-title",ge?`align--${ge}`:"",Re?"is--ellipsis":"",De?n.isFunction(De)?De(Oe):De:"",Ve?n.isFunction(Ve)?Ve(Oe):Ve:""],style:Object.assign({},n.isFunction(te)?te(Oe):te,n.isFunction($e)?$e(Oe):$e,Ae?{width:isNaN(Ae)?Ae:`${Ae}px`}:null),title:Y?Ht(Ce):null},xe),Xa(x,B)):null,r("div",{class:["vxe-form--item-content",ye?`align--${ye}`:"",le?n.isFunction(le)?le(Oe):le:"",ke?n.isFunction(ke)?ke(Oe):ke:""],style:Object.assign({},n.isFunction(pe)?pe(Oe):pe,n.isFunction(he)?he(Oe):he)},U)])])};return{renderVN:()=>{const x=c?c.props:null;return x&&x.customLayout?i(c,g):r("div",{ref:l})}}},render(){return this.renderVN()}}),lr=Object.assign(Xl,{install(e){e.component(Xl.name,Xl)}}),iu=lr;Ft.component(Xl.name,Xl);const Kl=kt({name:"VxeFormGather",props:oc,setup(e,{slots:t}){const l=We(),c=bt("$xeform",{}),h=bt("$xeformgather",null),g=qt(_i(c,e)),m={formItem:g},C={itemConfig:g};return g.children=[],Gt("$xeformiteminfo",C),Gt("$xeformgather",m),Gt("$xeformitem",null),Ga(e,g),go(()=>{Ya(c,l.value,g,h)}),io(()=>{Ua(c,g)}),{renderVN:()=>{const{className:d,field:x}=e,B=e.span||(c?c.props.span:null),$=t.default;return r("div",{ref:l,class:["vxe-form--gather vxe-form--item-row",g.id,B?`vxe-form--item-col_${B} is--span`:"",d?n.isFunction(d)?d({$form:c,data:c?c.props.data:{},item:g,field:x,property:x}):d:""]},$?$():[])}}},render(){return this.renderVN()}}),sr=Object.assign(Kl,{install(e){e.component(Kl.name,Kl)}}),ru=sr;Ft.component(Kl.name,Kl);class nc{constructor(t,l){Object.assign(this,{id:n.uniqueId("option_"),value:l.value,label:l.label,visible:l.visible,className:l.className,disabled:l.disabled})}update(t,l){this[t]=l}}function au(e){return e instanceof nc}function lc(e,t){return au(t)?t:new nc(e,t)}function sc(e,t){Object.keys(e).forEach(l=>{ut(()=>e[l],c=>{t.update(l,c)})})}function ic(e,t,l,c){const{reactData:h}=e,{staticOptions:g}=h,m=t.parentNode,C=c?c.option:null,i=C?C.options:g;m&&i&&(i.splice(n.arrayIndexOf(m.children,t),0,l),h.staticOptions=g.slice(0))}function rc(e,t){const{reactData:l}=e,{staticOptions:c}=l,h=n.findTree(c,g=>g.id===t.id,{children:"options"});h&&h.items.splice(h.index,1),l.staticOptions=c.slice(0)}const Zl=kt({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const l=We(),c=bt("$xeselect",{}),h=lc(c,e),g={option:h};return h.options=[],Gt("xeoptgroup",g),sc(e,h),go(()=>{ic(c,l.value,h)}),io(()=>{rc(c,h)}),()=>r("div",{ref:l},t.default?t.default():[])}}),ir=Object.assign(Zl,{install:function(e){e.component(Zl.name,Zl)}}),cu=ir;Ft.component(Zl.name,Zl);const Jl=kt({name:"VxeOption",props:{value:null,label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup(e,{slots:t}){const l=We(),c=bt("$xeselect",{}),h=bt("xeoptgroup",null),g=lc(c,e);return g.slots=t,sc(e,g),go(()=>{ic(c,l.value,g,h)}),io(()=>{rc(c,g)}),()=>r("div",{ref:l})}}),rr=Object.assign(Jl,{install:function(e){e.component(Jl.name,Jl)}}),du=rr;Ft.component(Jl.name,Jl);const Ql=kt({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:()=>f.switch.size||f.size},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String,openActiveIcon:String,closeActiveIcon:String},emits:["update:modelValue","change","focus","blur"],setup(e,t){const{emit:l}=t,c=bt("$xeform",null),h=bt("$xeformiteminfo",null),g=n.uniqueId(),m=Qt(e),C=qt({isActivated:!1,hasAnimat:!1,offsetLeft:0}),i={xID:g,props:e,context:t,reactData:C},p=We();let d={};const x=we(()=>Ht(e.openLabel)),B=we(()=>Ht(e.closeLabel)),$=we(()=>e.modelValue===e.openValue);let V;const R=E=>{if(!e.disabled){const k=$.value;clearTimeout(V);const N=k?e.closeValue:e.openValue;C.hasAnimat=!0,l("update:modelValue",N),d.dispatchEvent("change",{value:N},E),c&&h&&c.triggerItemEvent(E,h.itemConfig.field,N),V=setTimeout(()=>{C.hasAnimat=!1},400)}},q=E=>{C.isActivated=!0,d.dispatchEvent("focus",{value:e.modelValue},E)},y=E=>{C.isActivated=!1,d.dispatchEvent("blur",{value:e.modelValue},E)};d={dispatchEvent(E,k,N){l(E,Object.assign({$switch:i,$event:N},k))},focus(){const E=p.value;return C.isActivated=!0,E.focus(),ee()},blur(){return p.value.blur(),C.isActivated=!1,ee()}},Object.assign(i,d);const O=()=>{const{disabled:E,openIcon:k,closeIcon:N,openActiveIcon:H,closeActiveIcon:I}=e,F=$.value,z=m.value,ue=x.value,Ce=B.value;return r("div",{class:["vxe-switch",F?"is--on":"is--off",{[`size--${z}`]:z,"is--disabled":E,"is--animat":C.hasAnimat}]},[r("button",{ref:p,class:"vxe-switch--button",type:"button",disabled:E,onClick:R,onFocus:q,onBlur:y},[r("span",{class:"vxe-switch--label vxe-switch--label-on"},[k?r("i",{class:["vxe-switch--label-icon",k]}):Et(),ue]),r("span",{class:"vxe-switch--label vxe-switch--label-off"},[N?r("i",{class:["vxe-switch--label-icon",N]}):Et(),Ce]),r("span",{class:"vxe-switch--icon"},H||I?[r("i",{class:F?H:I})]:[])])])};return i.renderVN=O,i},render(){return this.renderVN()}}),ar=Object.assign(Ql,{install:function(e){e.component(Ql.name,Ql)}}),uu=ar;Ft.component(Ql.name,Ql);const es=kt({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:()=>f.list.size||f.size},autoResize:{type:Boolean,default:()=>f.list.autoResize},syncResize:[Boolean,String,Number],scrollY:Object},emits:["scroll"],setup(e,t){const{slots:l,emit:c}=t,h=n.uniqueId(),g=Qt(e),m=qt({scrollYLoad:!1,bodyHeight:0,rowHeight:0,topSpaceHeight:0,items:[]}),C=We(),i=We(),p=We(),d={fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},x={refElem:C},B={xID:h,props:e,context:t,reactData:m,internalData:d,getRefMaps:()=>x};let $={};const V=we(()=>Object.assign({},f.list.scrollY,e.scrollY)),R=we(()=>{const{height:ne,maxHeight:re}=e,ie={};return ne?ie.height=`${isNaN(ne)?ne:`${ne}px`}`:re&&(ie.height="auto",ie.maxHeight=`${isNaN(re)?re:`${re}px`}`),ie}),q=()=>{const{scrollYLoad:ne}=m,{scrollYStore:re,fullData:ie}=d;m.bodyHeight=ne?ie.length*re.rowHeight:0,m.topSpaceHeight=ne?Math.max(re.startIndex*re.rowHeight,0):0},y=()=>{const{scrollYLoad:ne}=m,{fullData:re,scrollYStore:ie}=d;return m.items=ne?re.slice(ie.startIndex,ie.endIndex):re.slice(0),ee()},O=()=>{y(),q()},E=()=>ee().then(()=>{const{scrollYLoad:ne}=m,{scrollYStore:re}=d,ie=p.value,Q=V.value;let L=0,w;if(ie&&(Q.sItem&&(w=ie.querySelector(Q.sItem)),w||(w=ie.children[0])),w&&(L=w.offsetHeight),L=Math.max(20,L),re.rowHeight=L,ne){const S=i.value,j=Math.max(8,Math.ceil(S.clientHeight/L)),G=Q.oSize?n.toNumber(Q.oSize):Fo.edge?10:0;re.offsetSize=G,re.visibleSize=j,re.endIndex=Math.max(re.startIndex,j+G,re.endIndex),O()}else q();m.rowHeight=L}),k=()=>{const ne=i.value;return ne&&(ne.scrollTop=0),ee()},N=(ne,re)=>{const ie=i.value;return n.isNumber(ne)&&(ie.scrollLeft=ne),n.isNumber(re)&&(ie.scrollTop=re),m.scrollYLoad?new Promise(Q=>{setTimeout(()=>{ee(()=>{Q()})},50)}):ee()},H=()=>{const{lastScrollLeft:ne,lastScrollTop:re}=d;return k().then(()=>{if(ne||re)return d.lastScrollLeft=0,d.lastScrollTop=0,N(ne,re)})},I=()=>{const ne=C.value;return ne.clientWidth&&ne.clientHeight?E():Promise.resolve()},F=ne=>{const{scrollYStore:re}=d,{startIndex:ie,endIndex:Q,visibleSize:L,offsetSize:w,rowHeight:S}=re,G=ne.target.scrollTop,fe=Math.floor(G/S),ke=Math.max(0,fe-1-w),he=fe+L+w;(fe<=ie||fe>=Q-L-1)&&(ie!==ke||Q!==he)&&(re.startIndex=ke,re.endIndex=he,O())},z=ne=>{const re=ne.target,ie=re.scrollTop,Q=re.scrollLeft,L=Q!==d.lastScrollLeft,w=ie!==d.lastScrollTop;d.lastScrollTop=ie,d.lastScrollLeft=Q,m.scrollYLoad&&F(ne),$.dispatchEvent("scroll",{scrollLeft:Q,scrollTop:ie,isX:L,isY:w},ne)};$={dispatchEvent(ne,re,ie){c(ne,Object.assign({$list:B,$event:ie},re))},loadData(ne){const{scrollYStore:re}=d,ie=V.value,Q=ne||[];return Object.assign(re,{startIndex:0,endIndex:1,visibleSize:0}),d.fullData=Q,m.scrollYLoad=!!ie.enabled&&ie.gt>-1&&(ie.gt===0||ie.gt<=Q.length),y(),E().then(()=>{H()})},reloadData(ne){return k(),$.loadData(ne)},recalculate:I,scrollTo:N,refreshScroll:H,clearScroll:k},Object.assign(B,$);const ue=We(0);ut(()=>e.data?e.data.length:-1,()=>{ue.value++}),ut(()=>e.data,()=>{ue.value++}),ut(ue,()=>{$.loadData(e.data||[])}),ut(()=>e.syncResize,ne=>{ne&&(I(),ee(()=>setTimeout(()=>I())))}),Qr(()=>{I().then(()=>H())});let Ce;ee(()=>{if(mt.on(B,"resize",()=>{I()}),e.autoResize){const ne=C.value;Ce=_a(()=>I()),Ce.observe(ne)}$.loadData(e.data||[])}),io(()=>{Ce&&Ce.disconnect(),mt.off(B,"resize")});const ve=()=>{const{className:ne,loading:re}=e,{bodyHeight:ie,topSpaceHeight:Q,items:L}=m,w=g.value,S=R.value;return r("div",{ref:C,class:["vxe-list",ne?n.isFunction(ne)?ne({$list:B}):ne:"",{[`size--${w}`]:w,"is--loading":re}]},[r("div",{ref:i,class:"vxe-list--virtual-wrapper",style:S,onScroll:z},[r("div",{class:"vxe-list--y-space",style:{height:ie?`${ie}px`:""}}),r("div",{ref:p,class:"vxe-list--body",style:{marginTop:Q?`${Q}px`:""}},l.default?l.default({items:L,$list:B}):[])]),r(ls,{class:"vxe-list--loading",modelValue:re})])};return B.renderVN=ve,B},render(){return this.renderVN()}}),cr=Object.assign(es,{install(e){e.component(es.name,es)}}),fu=cr;Ft.component(es.name,es);const ts=kt({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,size:{type:String,default:()=>f.size},className:[String,Function],popupClassName:[String,Function],destroyOnClose:Boolean,transfer:Boolean},emits:["update:modelValue","hide-panel"],setup(e,t){const{slots:l,emit:c}=t,h=n.uniqueId(),g=Qt(e),m=qt({inited:!1,panelIndex:0,panelStyle:null,panelPlacement:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),C=We(),i=We(),p=We(),d={refElem:C},x={xID:h,props:e,context:t,reactData:m,getRefMaps:()=>d};let B={};const $=()=>{m.panelIndex<on()&&(m.panelIndex=Yo())},V=()=>m.visiblePanel,R=()=>ee().then(()=>{const{transfer:F,placement:z}=e,{panelIndex:ue,visiblePanel:Ce}=m;if(Ce){const ve=i.value,ne=p.value;if(ne&&ve){const re=ve.offsetHeight,ie=ve.offsetWidth,Q=ne.offsetHeight,L=ne.offsetWidth,w=5,S={zIndex:ue},{boundingTop:j,boundingLeft:G,visibleHeight:fe,visibleWidth:ke}=Qo(ve);let he="bottom";if(F){let Ve=G,$e=j+re;z==="top"?(he="top",$e=j-Q):z||($e+Q+w>fe&&(he="top",$e=j-Q),$e<w&&(he="bottom",$e=j+re)),Ve+L+w>ke&&(Ve-=Ve+L+w-ke),Ve<w&&(Ve=w),Object.assign(S,{left:`${Ve}px`,top:`${$e}px`,minWidth:`${ie}px`})}else z==="top"?(he="top",S.bottom=`${re}px`):z||j+re+Q>fe&&j-re-Q>w&&(he="top",S.bottom=`${re}px`);m.panelStyle=S,m.panelPlacement=he}}return ee()});let q;const y=()=>(m.inited||(m.inited=!0),new Promise(F=>{e.disabled?ee(()=>{F()}):(clearTimeout(q),m.isActivated=!0,m.animatVisible=!0,setTimeout(()=>{m.visiblePanel=!0,c("update:modelValue",!0),R(),setTimeout(()=>{F(R())},40)},10),$())})),O=()=>(m.visiblePanel=!1,c("update:modelValue",!1),new Promise(F=>{m.animatVisible?q=window.setTimeout(()=>{m.animatVisible=!1,ee(()=>{F()})},350):ee(()=>{F()})})),E=()=>m.visiblePanel?O():y(),k=F=>{const{disabled:z}=e,{visiblePanel:ue}=m,Ce=p.value;z||ue&&(yt(F,Ce).flag?R():(O(),B.dispatchEvent("hide-panel",{},F)))},N=F=>{const{disabled:z}=e,{visiblePanel:ue}=m,Ce=C.value,ve=p.value;z||(m.isActivated=yt(F,Ce).flag||yt(F,ve).flag,ue&&!m.isActivated&&(O(),B.dispatchEvent("hide-panel",{},F)))},H=F=>{m.visiblePanel&&(m.isActivated=!1,O(),B.dispatchEvent("hide-panel",{},F))};B={dispatchEvent(F,z,ue){c(F,Object.assign({$pulldown:x,$event:ue},z))},isPanelVisible:V,togglePanel:E,showPanel:y,hidePanel:O},Object.assign(x,B),ut(()=>e.modelValue,F=>{F?y():O()}),ee(()=>{mt.on(x,"mousewheel",k),mt.on(x,"mousedown",N),mt.on(x,"blur",H)}),io(()=>{mt.off(x,"mousewheel"),mt.off(x,"mousedown"),mt.off(x,"blur")});const I=()=>{const{className:F,popupClassName:z,destroyOnClose:ue,transfer:Ce,disabled:ve}=e,{inited:ne,isActivated:re,animatVisible:ie,visiblePanel:Q,panelStyle:L,panelPlacement:w}=m,S=g.value,j=l.default,G=l.header,fe=l.footer,ke=l.dropdown;return r("div",{ref:C,class:["vxe-pulldown",F?n.isFunction(F)?F({$pulldown:x}):F:"",{[`size--${S}`]:S,"is--visivle":Q,"is--disabled":ve,"is--active":re}]},[r("div",{ref:i,class:"vxe-pulldown--content"},j?j({$pulldown:x}):[]),r(Un,{to:"body",disabled:Ce?!ne:!0},[r("div",{ref:p,class:["vxe-table--ignore-clear vxe-pulldown--panel",z?n.isFunction(z)?z({$pulldown:x}):z:"",{[`size--${S}`]:S,"is--transfer":Ce,"animat--leave":ie,"animat--enter":Q}],placement:w,style:L},ke?[r("div",{class:"vxe-pulldown--panel-wrapper"},!ne||ue&&!Q&&!ie?[]:[G?r("div",{class:"vxe-pulldown--panel-header"},G({$pulldown:x})):Et(),r("div",{class:"vxe-pulldown--panel-body"},ke({$pulldown:x})),fe?r("div",{class:"vxe-pulldown--panel-footer"},fe({$pulldown:x})):Et()])]:[])])])};return x.renderVN=I,x},render(){return this.renderVN()}}),dr=Object.assign(ts,{install:function(e){e.component(ts.name,ts)}}),pu=dr;Ft.component(ts.name,ts);const mu={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动目标：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"锁定列",fixedGroup:"锁定组",cancelFixed:"取消锁定",fixedLeft:"锁定左侧",fixedRight:"锁定右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},hu=[Fi,Pi,Ni,Vi,Ai,$i,Bi,ns,ji,Hi,Gi,Fs,Is,Yi,Ui,Xi,Ki,Zi,Ji,Qi,jo,er,or,nr,ml,Ps,lr,sr,Ds,ir,rr,ar,cr,dr,ks];vl({i18n:(e,t)=>n.toFormatString(n.get(mu,e),t)});function gu(e,t){n.isPlainObject(t)&&(vl(t),t.theme&&Ms(t.theme)),hu.forEach(l=>l.install(e))}const wu=Object.freeze(Object.defineProperty({__proto__:null,Button:Fd,ButtonGroup:Xd,Checkbox:zd,CheckboxGroup:Wd,Colgroup:wd,Column:yd,Custom:gd,Drawer:su,Edit:Wc,Export:rd,Filter:Ac,Form:$d,FormGather:ru,FormItem:iu,Grid:Hd,Icon:vd,Input:Yd,Keyboard:dd,List:fu,Menu:jc,Modal:tu,Optgroup:cu,Option:du,Pager:Id,Pulldown:pu,Radio:_d,RadioButton:Gd,RadioGroup:qd,Select:Dd,Switch:uu,Table:kd,Textarea:Ud,Toolbar:Pd,Tooltip:Vd,VXETable:Ke,Validator:pd,VxeButton:jo,VxeButtonGroup:er,VxeCheckbox:Yi,VxeCheckboxGroup:Ui,VxeColgroup:Hi,VxeColumn:ji,VxeDrawer:nr,VxeForm:Ps,VxeFormGather:sr,VxeFormItem:lr,VxeGrid:Gi,VxeIcon:ns,VxeInput:Ji,VxeList:cr,VxeModal:or,VxeOptgroup:ir,VxeOption:rr,VxePager:Is,VxePulldown:dr,VxeRadio:Xi,VxeRadioButton:Zi,VxeRadioGroup:Ki,VxeSelect:Ds,VxeSwitch:ar,VxeTable:ks,VxeTableCustomModule:Bi,VxeTableEditModule:Ni,VxeTableExportModule:Vi,VxeTableFilterModule:Fi,VxeTableKeyboardModule:Ai,VxeTableMenuModule:Pi,VxeTableValidatorModule:$i,VxeTextarea:Qi,VxeToolbar:Fs,VxeTooltip:ml,VxeUI:Pc,_t:Sa,commands:Mi,component:Fc,config:Ma,drawer:lu,formats:os,getComponent:Fa,globalConfs:Oa,globalStore:Da,hooks:ya,install:gu,interceptor:Nl,menus:ki,modal:eu,print:Ha,readFile:Ss,renderer:Bn,saveFile:Os,setConfig:vl,setIcon:ka,setup:Ra,t:Ea,tableVersion:Pa,use:wa,v:Ta,validators:Di,version:Ii},Symbol.toStringTag,{value:"Module"}));export{wu as V};
